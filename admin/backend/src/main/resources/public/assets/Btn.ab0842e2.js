var y=(t,r,a)=>new Promise((D,m)=>{var p=n=>{try{u(a.next(n))}catch(e){m(e)}},l=n=>{try{u(a.throw(n))}catch(e){m(e)}},u=n=>n.done?D(n.value):Promise.resolve(n.value).then(p,l);u((a=a.apply(t,r)).next())});import{ap as C,a as b,dI as B,bu as A,bE as w,r as M,f as E,ar as d,bO as S,o as i,j as c,y as F,n as o,m as g,t as x,h as T,k as _,w as k,F as $,fq as N,z as s}from"./index.f8b6fa94.js";import{A as U}from"./index.c3665e07.js";import{D as V}from"./index.bec743a7.js";import j from"./CurrentPermissionMode.ec927f69.js";import{A as I}from"./index.9f86f034.js";import{P as W}from"./index.7cdcb74e.js";import"./index.fd9bf113.js";import"./index.7880b903.js";import"./useSize.3eb1ac1b.js";import"./eagerComputed.d49f1c93.js";import"./onMountedOrActivated.73153770.js";import"./useWindowSizeFn.268c75c1.js";import"./useContentViewHeight.a5b3eda6.js";import"./ArrowLeftOutlined.2c75bf82.js";import"./index.fad130bb.js";import"./transButton.7ec2a071.js";const L=b({components:{Alert:U,PageWrapper:W,CurrentPermissionMode:j,Divider:V,Authority:I},setup(){const{hasPermission:t}=B(),r=A(),a=w(),D=M(),m=E(()=>a.getProjectConfig.permissionMode===N.BACK);function p(l){return y(this,null,function*(){const u="fakeToken"+l;D.setToken(u),D.getUserInfoAction(),r.changePermissionCode()})}return{hasPermission:t,permissionStore:r,switchToken:p,isBackPremissionMode:m}}}),q=s(" List of currently owned codes: "),z=s(" Click the toggle button permissions(User id is 2) "),K=s(" Click the toggle button permissions(User id is 1,default) "),O=s("Component way to judge permissions"),Y=s(" code ['1000']"),G=s(" code ['2000']"),H=s("code ['1000','2000'] "),J=s(" code ['1000'] "),Q=s(" code ['2000']\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD \u01E5\uFFFD\uFFFD "),R=s(" code ['1000','2000']\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD \u01E5\uFFFD\uFFFD "),X=s("\uFFFD\uFFFD\uFFFD \uFFFD\uFFFD\u5FE1 \uFFFD\uFFFD\uFFFD\uFFFD \uFFFD\uFFFD\uFFFD\uFFFD \uFFFD\u01F4\uFFFD (\uFFFD\uFFFD \uFFFD\uFFFD\uFFFD\uFFFD \uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD \uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD \uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD \uFFFD\uFFFD \uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\u03F4\uFFFD.)"),Z=s(" code ['1000']\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD \u01E5\uFFFD\uFFFD"),FF=s(" code ['2000']\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD\uFFFD \u01E5\uFFFD\uFFFD "),eF=s(" code ['1000','2000'] ");function oF(t,r,a,D,m,p){const l=d("CurrentPermissionMode"),u=d("Divider"),n=d("Alert"),e=d("a-button"),f=d("Authority"),P=d("PageWrapper"),h=S("auth");return i(),c(P,{contentBackground:"",title:"Button Access Control",contentClass:"p-4"},{default:F(()=>[o(l),g("p",null,[q,g("a",null,x(t.permissionStore.getPermCodeList),1)]),o(u),o(n,{class:"mt-4",type:"info",message:"Please see the button changes after clicking(You must be in background permission mode to test the features shown on this page)","show-icon":""}),o(u),o(e,{type:"primary",class:"mr-2",onClick:r[0]||(r[0]=v=>t.switchToken(2)),disabled:!t.isBackPremissionMode},{default:F(()=>[z]),_:1},8,["disabled"]),o(e,{type:"primary",onClick:r[1]||(r[1]=v=>t.switchToken(1)),disabled:!t.isBackPremissionMode},{default:F(()=>[K]),_:1},8,["disabled"]),t.isBackPremissionMode?(i(),T($,{key:0},[o(u,null,{default:F(()=>[O]),_:1}),o(f,{value:"1000"},{default:F(()=>[o(e,{type:"primary",class:"mx-4"},{default:F(()=>[Y]),_:1})]),_:1}),o(f,{value:"2000"},{default:F(()=>[o(e,{color:"success",class:"mx-4"},{default:F(()=>[G]),_:1})]),_:1}),o(f,{value:["1000","2000"]},{default:F(()=>[o(e,{color:"error",class:"mx-4"},{default:F(()=>[H]),_:1})]),_:1}),o(u),t.hasPermission("1000")?(i(),c(e,{key:0,type:"primary",class:"mx-4"},{default:F(()=>[J]),_:1})):_("",!0),t.hasPermission("2000")?(i(),c(e,{key:1,color:"success",class:"mx-4"},{default:F(()=>[Q]),_:1})):_("",!0),t.hasPermission(["1000","2000"])?(i(),c(e,{key:2,color:"error",class:"mx-4"},{default:F(()=>[R]),_:1})):_("",!0),o(u,null,{default:F(()=>[X]),_:1}),k((i(),c(e,{type:"primary",class:"mx-4"},{default:F(()=>[Z]),_:1})),[[h,"1000"]]),k((i(),c(e,{color:"success",class:"mx-4"},{default:F(()=>[FF]),_:1})),[[h,"2000"]]),k((i(),c(e,{color:"error",class:"mx-4"},{default:F(()=>[eF]),_:1})),[[h,["1000","2000"]]])],64)):_("",!0)]),_:1})}var yF=C(L,[["render",oF],["__scopeId","data-v-1c0580d0"]]);export{yF as default};
