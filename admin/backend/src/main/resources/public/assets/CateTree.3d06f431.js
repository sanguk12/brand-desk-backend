var m=(a,i,n)=>new Promise((r,t)=>{var l=e=>{try{c(n.next(e))}catch(s){t(s)}},o=e=>{try{c(n.throw(e))}catch(s){t(s)}},c=e=>e.done?r(e.value):Promise.resolve(e.value).then(l,o);c((n=n.apply(a,i)).next())});import{_ as y}from"./index.f12c8038.js";import{b as p}from"./category.3b340477.js";import{ap as h,a as T,c as v,s as f,aA as D,ar as w,o as B,h as C,n as E,i as K}from"./index.f8b6fa94.js";import{i as u}from"./isEmpty.46a5c532.js";import"./index.961d34d0.js";import"./eagerComputed.d49f1c93.js";import"./useContextMenu.7165a230.js";import"./index.bec743a7.js";import"./get.12156efd.js";const $=T({name:"CateTree",components:{BasicTree:y},emits:["select"],setup(a,{emit:i}){const{t:n}=v(),r=f(null),t=f([]);function l(){return m(this,null,function*(){t.value=yield p({}),u(t.value)||o([t.value[0].id])})}function o(e){i("select",e[0])}D(()=>{l()});function c(e){return new Promise(s=>m(this,null,function*(){if(!u(e.children)){s();return}const _=yield p({cateId:e.id}),d=K(r);d&&(d.updateNodeByKey(e.eventKey,{children:_}),d.setExpandedKeys([e.eventKey,...d.getExpandedKeys()])),s()}))}return{t:n,treeData:t,handleSelect:o,onLoadData:c,cateTreeRef:r}}}),g={class:"m-4 mr-0 overflow-hidden bg-white"};function k(a,i,n,r,t,l){const o=w("BasicTree");return B(),C("div",g,[E(o,{title:a.t("Content.content.cate_list"),toolbar:"",search:"",clickRowToExpand:!0,loadData:a.onLoadData,treeData:a.treeData,fieldNames:{key:"id",title:"name"},ref:"cateTreeRef",onSelect:a.handleSelect},null,8,["title","loadData","treeData","onSelect"])])}var j=h($,[["render",k]]);export{j as default};
