var v=Object.defineProperty;var m=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var u=(t,a,e)=>a in t?v(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e,f=(t,a)=>{for(var e in a||(a={}))M.call(a,e)&&u(t,e,a[e]);if(m)for(var e of m(a))F.call(a,e)&&u(t,e,a[e]);return t};var p=(t,a,e)=>new Promise((l,s)=>{var d=o=>{try{n(e.next(o))}catch(r){s(r)}},c=o=>{try{n(e.throw(o))}catch(r){s(r)}},n=o=>o.done?l(o.value):Promise.resolve(o.value).then(d,c);n((e=e.apply(t,a)).next())});import{B as P,a as S}from"./index.0c1d45ad.js";import{B as I}from"./BasicForm.eebb9e8d.js";import{u as k}from"./useForm.74156ad2.js";import{bQ as y,a as N,s as w,i as b,f as R,ap as T,ar as g,o as E,j as x,y as $,n as q,as as C}from"./index.f8b6fa94.js";import{T as L}from"./index.e501ff06.js";import{b as O}from"./system.cc6d32e4.js";const X=[{title:"Department name",dataIndex:"deptName",width:160,align:"left"},{title:"sort",dataIndex:"orderNo",width:50},{title:"state",dataIndex:"status",width:80,customRender:({record:t})=>{const e=~~t.status===0,l=e?"green":"red",s=e?"Enabled":"Disabled";return y(L,{color:l},()=>s)}},{title:"creation time",dataIndex:"createTime",width:180},{title:"Remark",dataIndex:"remark"}],Y=[{field:"deptName",label:"Department name",component:"Input",colProps:{span:8}},{field:"status",label:"state",component:"Select",componentProps:{options:[{label:"enable",value:"0"},{label:"Disable",value:"1"}]},colProps:{span:8}}],j=[{field:"deptName",label:"Department name",component:"Input",required:!0},{field:"parentDept",label:"Parent Dept",component:"TreeSelect",componentProps:{fieldNames:{label:"deptName",key:"id",value:"id"},getPopupContainer:()=>document.body},required:!0},{field:"orderNo",label:"Sort",component:"InputNumber",required:!0},{field:"status",label:"Status",component:"RadioButtonGroup",defaultValue:"0",componentProps:{options:[{label:"Enabled",value:"0"},{label:"Disabled",value:"1"}]},required:!0},{label:"Remark",field:"remark",component:"InputTextArea"}],V=N({name:"DeptModal",components:{BasicModal:P,BasicForm:I},emits:["success","register"],setup(t,{emit:a}){const e=w(!0),[l,{resetFields:s,setFieldsValue:d,updateSchema:c,validate:n}]=k({labelWidth:100,schemas:j,showActionButtonGroup:!1}),[o,{setModalProps:r,closeModal:h}]=S(i=>p(this,null,function*(){s(),r({confirmLoading:!1}),e.value=!!(i!=null&&i.isUpdate),b(e)&&d(f({},i.record));const _=yield O();c({field:"parentDept",componentProps:{treeData:_}})})),D=R(()=>b(e)?"\u7F16\u8F91\u90E8\u95E8":"\u65B0\u589E\u90E8\u95E8");function B(){return p(this,null,function*(){try{const i=yield n();r({confirmLoading:!0}),h(),a("success")}finally{r({confirmLoading:!1})}})}return{registerModal:o,registerForm:l,getTitle:D,handleSubmit:B}}});function A(t,a,e,l,s,d){const c=g("BasicForm"),n=g("BasicModal");return E(),x(n,C(t.$attrs,{onRegister:t.registerModal,title:t.getTitle,onOk:t.handleSubmit}),{default:$(()=>[q(c,{onRegister:t.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var G=T(V,[["render",A]]),Z=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));export{G as D,Z as a,X as c,Y as s};
