var S_=Object.defineProperty,P_=Object.defineProperties;var A_=Object.getOwnPropertyDescriptors;var Vy=Object.getOwnPropertySymbols;var k_=Object.prototype.hasOwnProperty,M_=Object.prototype.propertyIsEnumerable;var Yy=(v,h,c)=>h in v?S_(v,h,{enumerable:!0,configurable:!0,writable:!0,value:c}):v[h]=c,$c=(v,h)=>{for(var c in h||(h={}))k_.call(h,c)&&Yy(v,c,h[c]);if(Vy)for(var c of Vy(h))M_.call(h,c)&&Yy(v,c,h[c]);return v},Wy=(v,h)=>P_(v,A_(h));var Ra=(v,h,c)=>new Promise((p,i)=>{var f=O=>{try{g(c.next(O))}catch(_){i(_)}},s=O=>{try{g(c.throw(O))}catch(_){i(_)}},g=O=>O.done?p(O.value):Promise.resolve(O.value).then(f,s);g((c=c.apply(v,h)).next())});import{R as D_,Q as T_,a as Ov,b4 as N_,bi as C_,s as Ia,a5 as R_,i as fn,ad as Jc,bZ as I_,ap as os,ar as Cr,o as Tr,h as wi,F as Ky,au as L_,n as Pi,y as Fa,z as z_,t as B_,q as La,k as Qc,as as F_,j as is,dL as H_,b as U_,bE as G_,f as X_,X as Zy,aA as V_,m as Y_,ay as W_}from"./index.f8b6fa94.js";import{D as K_}from"./index.bec743a7.js";import{B as Z_,b as q_}from"./index.0c1d45ad.js";import{J as $_}from"./index.ae9da7c5.js";import{P as J_}from"./index.7cdcb74e.js";import"./useWindowSizeFn.268c75c1.js";import"./FullscreenOutlined.8522ef3f.js";import"./index.fd9bf113.js";import"./index.7880b903.js";import"./useSize.3eb1ac1b.js";import"./eagerComputed.d49f1c93.js";import"./onMountedOrActivated.73153770.js";import"./useContentViewHeight.a5b3eda6.js";import"./ArrowLeftOutlined.2c75bf82.js";import"./index.fad130bb.js";import"./transButton.7ec2a071.js";const _v=Symbol("flow-chart");function Q_(v){T_(_v,v)}function ew(){return D_(_v)}var Kt=(v=>(v.ZOOM_IN="zoomIn",v.ZOOM_OUT="zoomOut",v.RESET_ZOOM="resetZoom",v.UNDO="undo",v.REDO="redo",v.SNAPSHOT="snapshot",v.VIEW_DATA="viewData",v))(Kt||{});const tw=Ov({name:"FlowChartToolbar",components:{Icon:N_,Divider:K_,Tooltip:C_},props:{prefixCls:String},emits:["view-data"],setup(v,{emit:h}){const c=Ia([{type:Kt.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"\u7F29\u5C0F"},{type:Kt.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"\u653E\u5927"},{type:Kt.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"\u91CD\u7F6E\u6BD4\u4F8B"},{separate:!0},{type:Kt.UNDO,icon:"ion:arrow-undo-outline",tooltip:"\u540E\u9000",disabled:!0},{type:Kt.REDO,icon:"ion:arrow-redo-outline",tooltip:"\u524D\u8FDB",disabled:!0},{separate:!0},{type:Kt.SNAPSHOT,icon:"ion:download-outline",tooltip:"\u4E0B\u8F7D"},{type:Kt.VIEW_DATA,icon:"carbon:document-view",tooltip:"\u67E5\u770B\u6570\u636E"}]),{logicFlow:p}=ew();function i({data:{undoAble:s,redoAble:g}}){const O=fn(c),_=O.findIndex(S=>S.type===Kt.UNDO),x=O.findIndex(S=>S.type===Kt.REDO);_!==-1&&(fn(c)[_].disabled=!s),x!==-1&&(fn(c)[x].disabled=!g)}const f=s=>{const g=fn(p);if(!!g)switch(s.type){case Kt.ZOOM_IN:g.zoom();break;case Kt.ZOOM_OUT:g.zoom(!0);break;case Kt.RESET_ZOOM:g.resetZoom();break;case Kt.UNDO:g.undo();break;case Kt.REDO:g.redo();break;case Kt.SNAPSHOT:g.getSnapshot();break;case Kt.VIEW_DATA:h("view-data");break}};return R_(()=>Ra(this,null,function*(){var s;fn(p)&&(yield Jc(),(s=fn(p))==null||s.on("history:change",i))})),I_(()=>{var s;(s=fn(p))==null||s.off("history:change",i)}),{toolbarItemList:c,onControl:f}}}),nw=["onClick"];function rw(v,h,c,p,i,f){const s=Cr("Icon"),g=Cr("Tooltip"),O=Cr("Divider");return Tr(),wi("div",{class:La([`${v.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(Tr(!0),wi(Ky,null,L_(v.toolbarItemList,_=>(Tr(),wi(Ky,{key:_.type},[Pi(g,F_({placement:"bottom"},_.disabled?{visible:!1}:{}),{title:Fa(()=>[z_(B_(_.tooltip),1)]),default:Fa(()=>[_.icon?(Tr(),wi("span",{key:0,class:La(`${v.prefixCls}-toolbar__icon`),onClick:x=>v.onControl(_)},[Pi(s,{icon:_.icon,class:La(_.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,nw)):Qc("",!0)]),_:2},1040),_.separate?(Tr(),is(O,{key:0,type:"vertical"})):Qc("",!0)],64))),128))],2)}var ow=os(tw,[["render",rw]]),qe={exports:{}};(function(v,h){(function(c,p){v.exports=p()})(window,function(){return function(c){var p={};function i(f){if(p[f])return p[f].exports;var s=p[f]={i:f,l:!1,exports:{}};return c[f].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=c,i.c=p,i.d=function(f,s,g){i.o(f,s)||Object.defineProperty(f,s,{enumerable:!0,get:g})},i.r=function(f){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},i.t=function(f,s){if(1&s&&(f=i(f)),8&s||4&s&&typeof f=="object"&&f&&f.__esModule)return f;var g=Object.create(null);if(i.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:f}),2&s&&typeof f!="string")for(var O in f)i.d(g,O,function(_){return f[_]}.bind(null,O));return g},i.n=function(f){var s=f&&f.__esModule?function(){return f.default}:function(){return f};return i.d(s,"a",s),s},i.o=function(f,s){return Object.prototype.hasOwnProperty.call(f,s)},i.p="",i(i.s=215)}([function(c,p,i){(function(f,s){i.d(p,"a",function(){return M}),i.d(p,"b",function(){return Go}),i.d(p,"c",function(){return Pn}),i.d(p,"d",function(){return nt}),i.d(p,"e",function(){return Ge}),i.d(p,"f",function(){return Te}),i.d(p,"g",function(){return Qe}),i.d(p,"h",function(){return Hr}),i.d(p,"i",function(){return Rt}),i.d(p,"j",function(){return Ye}),i.d(p,"k",function(){return Hn}),i.d(p,"l",function(){return Lo}),i.d(p,"m",function(){return At}),i.d(p,"n",function(){return wr}),i.d(p,"o",function(){return ee}),i.d(p,"p",function(){return Gi}),i.d(p,"q",function(){return Un}),i.d(p,"r",function(){return Fi}),i.d(p,"s",function(){return xn}),i.d(p,"t",function(){return Rr}),i.d(p,"u",function(){return co}),i.d(p,"v",function(){return ru}),i.d(p,"w",function(){return Ui}),i.d(p,"x",function(){return Lr}),i.d(p,"y",function(){return dn}),i.d(p,"z",function(){return rn}),i.d(p,"A",function(){return gn}),i.d(p,"B",function(){return Gn}),i.d(p,"C",function(){return $e}),i.d(p,"D",function(){return ou}),i.d(p,"E",function(){return _r}),i.d(p,"F",function(){return Or}),i.d(p,"G",function(){return eu}),i.d(p,"H",function(){return Ti}),i.d(p,"I",function(){return Vi}),i.d(p,"J",function(){return On}),i.d(p,"K",function(){return ne}),i.d(p,"L",function(){return Gt}),i.d(p,"M",function(){return _n});var g=[];Object.freeze(g);var O={};function _(){return++Be.mobxGuid}function x(y){throw S(!1,y),"X"}function S(y,b){if(!y)throw new Error("[mobx] "+(b||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(O);function P(y){var b=!1;return function(){if(!b)return b=!0,y.apply(this,arguments)}}var A=function(){};function N(y){return y!==null&&typeof y=="object"}function R(y){if(y===null||typeof y!="object")return!1;var b=Object.getPrototypeOf(y);return b===Object.prototype||b===null}function F(y,b,E){Object.defineProperty(y,b,{enumerable:!1,writable:!0,configurable:!0,value:E})}function U(y,b){var E="isMobX"+y;return b.prototype[E]=!0,function(D){return N(D)&&D[E]===!0}}function B(y){return y instanceof Map}function Y(y){return y instanceof Set}function Z(y){var b=new Set;for(var E in y)b.add(E);return Object.getOwnPropertySymbols(y).forEach(function(D){Object.getOwnPropertyDescriptor(y,D).enumerable&&b.add(D)}),Array.from(b)}function V(y){return y&&y.toString?y.toString():new String(y).toString()}function C(y){return y===null?null:typeof y=="object"?""+y:y}var z=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:Object.getOwnPropertyNames,M=Symbol("mobx administration"),L=function(){function y(b){b===void 0&&(b="Atom@"+_()),this.name=b,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=K.NOT_TRACKING}return y.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(b){return b()})},y.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(b){return b()})},y.prototype.reportObserved=function(){return Fn(this)},y.prototype.reportChanged=function(){yn(),function(b){b.lowestObserverState!==K.STALE&&(b.lowestObserverState=K.STALE,b.observers.forEach(function(E){E.dependenciesState===K.UP_TO_DATE&&(E.isTracing!==Fe.NONE&&mr(E,b),E.onBecomeStale()),E.dependenciesState=K.STALE}))}(this),vn()},y.prototype.toString=function(){return this.name},y}(),H=U("Atom",L);function ee(y,b,E){b===void 0&&(b=A),E===void 0&&(E=A);var D,T=new L(y);return b!==A&&Ri("onBecomeObserved",T,b,D),E!==A&&_r(T,E),T}var q={identity:function(y,b){return y===b},structural:function(y,b){return Yo(y,b)},default:function(y,b){return Object.is(y,b)},shallow:function(y,b){return Yo(y,b,1)}},ue=function(y,b){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var T in D)D.hasOwnProperty(T)&&(E[T]=D[T])})(y,b)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var be=function(){return(be=Object.assign||function(y){for(var b,E=1,D=arguments.length;E<D;E++)for(var T in b=arguments[E])Object.prototype.hasOwnProperty.call(b,T)&&(y[T]=b[T]);return y}).apply(this,arguments)};function me(y){var b=typeof Symbol=="function"&&y[Symbol.iterator],E=0;return b?b.call(y):{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}}}function he(y,b){var E=typeof Symbol=="function"&&y[Symbol.iterator];if(!E)return y;var D,T,X=E.call(y),ie=[];try{for(;(b===void 0||b-- >0)&&!(D=X.next()).done;)ie.push(D.value)}catch(Oe){T={error:Oe}}finally{try{D&&!D.done&&(E=X.return)&&E.call(X)}finally{if(T)throw T.error}}return ie}function ye(){for(var y=[],b=0;b<arguments.length;b++)y=y.concat(he(arguments[b]));return y}var pe=Symbol("mobx did run lazy initializers"),le=Symbol("mobx pending decorators"),_e={},xe={};function Me(y,b){var E=b?_e:xe;return E[y]||(E[y]={configurable:!0,enumerable:b,get:function(){return Ie(this),this[y]},set:function(D){Ie(this),this[y]=D}})}function Ie(y){var b,E;if(y[pe]!==!0){var D=y[le];if(D){F(y,pe,!0);var T=ye(Object.getOwnPropertySymbols(D),Object.keys(D));try{for(var X=me(T),ie=X.next();!ie.done;ie=X.next()){var Oe=D[ie.value];Oe.propertyCreator(y,Oe.prop,Oe.descriptor,Oe.decoratorTarget,Oe.decoratorArguments)}}catch(Re){b={error:Re}}finally{try{ie&&!ie.done&&(E=X.return)&&E.call(X)}finally{if(b)throw b.error}}}}}function Xe(y,b){return function(){var E,D=function(T,X,ie,Oe){if(Oe===!0)return b(T,X,ie,T,E),null;if(!Object.prototype.hasOwnProperty.call(T,le)){var Re=T[le];F(T,le,be({},Re))}return T[le][X]={prop:X,propertyCreator:b,descriptor:ie,decoratorTarget:T,decoratorArguments:E},Me(X,y)};return Ae(arguments)?(E=g,D.apply(null,arguments)):(E=Array.prototype.slice.call(arguments),D)}}function Ae(y){return(y.length===2||y.length===3)&&(typeof y[1]=="string"||typeof y[1]=="symbol")||y.length===4&&y[3]===!0}function We(y,b,E){return Lr(y)?y:Array.isArray(y)?$e.array(y,{name:E}):R(y)?$e.object(y,void 0,{name:E}):B(y)?$e.map(y,{name:E}):Y(y)?$e.set(y,{name:E}):y}function lt(y){return y}function J(y){S(y);var b=Xe(!0,function(D,T,X,ie,Oe){var Re=X?X.initializer?X.initializer.call(D):X.value:void 0;Xo(D).addObservableProp(T,Re,y)}),E=(f!==void 0&&f.env,b);return E.enhancer=y,E}var Q={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ae(y){return y==null?Q:typeof y=="string"?{name:y,deep:!0,proxy:!0}:y}Object.freeze(Q);var ge=J(We),De=J(function(y,b,E){return y==null||gn(y)||dn(y)||rn(y)||qt(y)?y:Array.isArray(y)?$e.array(y,{name:E,deep:!1}):R(y)?$e.object(y,void 0,{name:E,deep:!1}):B(y)?$e.map(y,{name:E,deep:!1}):Y(y)?$e.set(y,{name:E,deep:!1}):x(!1)}),we=J(lt),Ke=J(function(y,b,E){return Yo(y,b)?b:y});function Ve(y){return y.defaultDecorator?y.defaultDecorator.enhancer:y.deep===!1?lt:We}var et={box:function(y,b){arguments.length>2&&ve("box");var E=ae(b);return new tn(y,Ve(E),E.name,!0,E.equals)},array:function(y,b){arguments.length>2&&ve("array");var E=ae(b);return Wi(y,Ve(E),E.name)},map:function(y,b){arguments.length>2&&ve("map");var E=ae(b);return new Go(y,Ve(E),E.name)},set:function(y,b){arguments.length>2&&ve("set");var E=ae(b);return new ur(y,Ve(E),E.name)},object:function(y,b,E){typeof arguments[1]=="string"&&ve("object");var D=ae(E);if(D.proxy===!1)return Un({},y,b,D);var T=Ii(D),X=Un({},void 0,void 0,D),ie=Br(X);return Li(ie,y,b,T),ie},ref:we,shallow:De,deep:ge,struct:Ke},$e=function(y,b,E){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return ge.apply(null,arguments);if(Lr(y))return y;var D=R(y)?$e.object(y,b,E):Array.isArray(y)?$e.array(y,b):B(y)?$e.map(y,b):Y(y)?$e.set(y,b):y;if(D!==y)return D;x(!1)};function ve(y){x("Expected one or two arguments to observable."+y+". Did you accidentally try to use observable."+y+" as decorator?")}Object.keys(et).forEach(function(y){return $e[y]=et[y]});var K,Fe,He=Xe(!1,function(y,b,E,D,T){var X=E.get,ie=E.set,Oe=T[0]||{};Xo(y).addComputedProp(y,b,be({get:X,set:ie,context:y},Oe))}),Ze=He({equals:q.structural}),At=function(y,b,E){if(typeof b=="string"||y!==null&&typeof y=="object"&&arguments.length===1)return He.apply(null,arguments);var D=typeof b=="object"?b:{};return D.get=y,D.set=typeof b=="function"?b:D.set,D.name=D.name||y.name||"",new Bn(D)};At.struct=Ze,function(y){y[y.NOT_TRACKING=-1]="NOT_TRACKING",y[y.UP_TO_DATE=0]="UP_TO_DATE",y[y.POSSIBLY_STALE=1]="POSSIBLY_STALE",y[y.STALE=2]="STALE"}(K||(K={})),function(y){y[y.NONE=0]="NONE",y[y.LOG=1]="LOG",y[y.BREAK=2]="BREAK"}(Fe||(Fe={}));var ut=function(y){this.cause=y};function ft(y){return y instanceof ut}function yt(y){switch(y.dependenciesState){case K.UP_TO_DATE:return!1;case K.NOT_TRACKING:case K.STALE:return!0;case K.POSSIBLY_STALE:for(var b=Te(!0),E=Se(),D=y.observing,T=D.length,X=0;X<T;X++){var ie=D[X];if(or(ie)){if(Be.disableErrorBoundaries)ie.get();else try{ie.get()}catch(Oe){return Pe(E),Ge(b),!0}if(y.dependenciesState===K.STALE)return Pe(E),Ge(b),!0}}return gt(y),Pe(E),Ge(b),!1}}function Rt(){return Be.trackingDerivation!==null}function G(y){var b=y.observers.size>0;Be.computationDepth>0&&b&&x(!1),Be.allowStateChanges||!b&&Be.enforceActions!=="strict"||x(!1)}function te(y,b,E){var D=Te(!0);gt(y),y.newObserving=new Array(y.observing.length+100),y.unboundDepsCount=0,y.runId=++Be.runId;var T,X=Be.trackingDerivation;if(Be.trackingDerivation=y,Be.disableErrorBoundaries===!0)T=b.call(E);else try{T=b.call(E)}catch(ie){T=new ut(ie)}return Be.trackingDerivation=X,function(ie){for(var Oe=ie.observing,Re=ie.observing=ie.newObserving,at=K.UP_TO_DATE,ot=0,Et=ie.unboundDepsCount,bt=0;bt<Et;bt++)(vt=Re[bt]).diffValue===0&&(vt.diffValue=1,ot!==bt&&(Re[ot]=vt),ot++),vt.dependenciesState>at&&(at=vt.dependenciesState);for(Re.length=ot,ie.newObserving=null,Et=Oe.length;Et--;)(vt=Oe[Et]).diffValue===0&&ki(vt,ie),vt.diffValue=0;for(;ot--;){var vt;(vt=Re[ot]).diffValue===1&&(vt.diffValue=0,qa(vt,ie))}at!==K.UP_TO_DATE&&(ie.dependenciesState=at,ie.onBecomeStale())}(y),Ge(D),T}function fe(y){var b=y.observing;y.observing=[];for(var E=b.length;E--;)ki(b[E],y);y.dependenciesState=K.NOT_TRACKING}function ne(y){var b=Se();try{return y()}finally{Pe(b)}}function Se(){var y=Be.trackingDerivation;return Be.trackingDerivation=null,y}function Pe(y){Be.trackingDerivation=y}function Te(y){var b=Be.allowStateReads;return Be.allowStateReads=y,b}function Ge(y){Be.allowStateReads=y}function gt(y){if(y.dependenciesState!==K.UP_TO_DATE){y.dependenciesState=K.UP_TO_DATE;for(var b=y.observing,E=b.length;E--;)b[E].lowestObserverState=K.UP_TO_DATE}}var wt=0,Zt=1,en=Object.getOwnPropertyDescriptor(function(){},"name");en&&en.configurable;function st(y,b,E){var D=function(){return Ce(y,b,E||this,arguments)};return D.isMobxAction=!0,D}function Ce(y,b,E,D){var T=Ye();try{return b.apply(E,D)}catch(X){throw T.error=X,X}finally{Qe(T)}}function Ye(y,b,E){var D=0,T=Se();yn();var X={prevDerivation:T,prevAllowStateChanges:xt(!0),prevAllowStateReads:Te(!0),notifySpy:!1,startTime:D,actionId:Zt++,parentActionId:wt};return wt=X.actionId,X}function Qe(y){wt!==y.actionId&&x("invalid action stack. did you forget to finish an action?"),wt=y.parentActionId,y.error!==void 0&&(Be.suppressReactionErrors=!0),Tt(y.prevAllowStateChanges),Ge(y.prevAllowStateReads),vn(),Pe(y.prevDerivation),y.notifySpy,Be.suppressReactionErrors=!1}function nt(y,b){var E,D=xt(y);try{E=b()}finally{Tt(D)}return E}function xt(y){var b=Be.allowStateChanges;return Be.allowStateChanges=y,b}function Tt(y){Be.allowStateChanges=y}var tn=function(y){function b(E,D,T,X,ie){T===void 0&&(T="ObservableValue@"+_()),ie===void 0&&(ie=q.default);var Oe=y.call(this,T)||this;return Oe.enhancer=D,Oe.name=T,Oe.equals=ie,Oe.hasUnreportedChange=!1,Oe.value=D(E,void 0,T),Oe}return function(E,D){function T(){this.constructor=E}ue(E,D),E.prototype=D===null?Object.create(D):(T.prototype=D.prototype,new T)}(b,y),b.prototype.dehanceValue=function(E){return this.dehancer!==void 0?this.dehancer(E):E},b.prototype.set=function(E){this.value,(E=this.prepareNewValue(E))!==Be.UNCHANGED&&this.setNewValue(E)},b.prototype.prepareNewValue=function(E){if(G(this),wn(this)){var D=pn(this,{object:this,type:"update",newValue:E});if(!D)return Be.UNCHANGED;E=D.newValue}return E=this.enhancer(E,this.value,this.name),this.equals(this.value,E)?Be.UNCHANGED:E},b.prototype.setNewValue=function(E){var D=this.value;this.value=E,this.reportChanged(),dt(this)&&nn(this,{type:"update",object:this,newValue:E,oldValue:D})},b.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},b.prototype.intercept=function(E){return Xn(this,E)},b.prototype.observe=function(E,D){return D&&E({object:this,type:"update",newValue:this.value,oldValue:void 0}),Fr(this,E)},b.prototype.toJSON=function(){return this.get()},b.prototype.toString=function(){return this.name+"["+this.value+"]"},b.prototype.valueOf=function(){return C(this.get())},b.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},b}(L),Co=U("ObservableValue",tn),Bn=function(){function y(b){this.dependenciesState=K.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=K.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+_(),this.value=new ut(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Fe.NONE,S(b.get,"missing option for computed: get"),this.derivation=b.get,this.name=b.name||"ComputedValue@"+_(),b.set&&(this.setter=st(this.name+"-setter",b.set)),this.equals=b.equals||(b.compareStructural||b.struct?q.structural:q.default),this.scope=b.context,this.requiresReaction=!!b.requiresReaction,this.keepAlive=!!b.keepAlive}return y.prototype.onBecomeStale=function(){(function(b){b.lowestObserverState===K.UP_TO_DATE&&(b.lowestObserverState=K.POSSIBLY_STALE,b.observers.forEach(function(E){E.dependenciesState===K.UP_TO_DATE&&(E.dependenciesState=K.POSSIBLY_STALE,E.isTracing!==Fe.NONE&&mr(E,b),E.onBecomeStale())}))})(this)},y.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(b){return b()})},y.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(b){return b()})},y.prototype.get=function(){this.isComputing&&x("Cycle detected in computation "+this.name+": "+this.derivation),Be.inBatch!==0||this.observers.size!==0||this.keepAlive?(Fn(this),yt(this)&&this.trackAndCompute()&&function(E){E.lowestObserverState!==K.STALE&&(E.lowestObserverState=K.STALE,E.observers.forEach(function(D){D.dependenciesState===K.POSSIBLY_STALE?D.dependenciesState=K.STALE:D.dependenciesState===K.UP_TO_DATE&&(E.lowestObserverState=K.UP_TO_DATE)}))}(this)):yt(this)&&(this.warnAboutUntrackedRead(),yn(),this.value=this.computeValue(!1),vn());var b=this.value;if(ft(b))throw b.cause;return b},y.prototype.peek=function(){var b=this.computeValue(!1);if(ft(b))throw b.cause;return b},y.prototype.set=function(b){if(this.setter){S(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,b)}finally{this.isRunningSetter=!1}}else S(!1,!1)},y.prototype.trackAndCompute=function(){var b=this.value,E=this.dependenciesState===K.NOT_TRACKING,D=this.computeValue(!0),T=E||ft(b)||ft(D)||!this.equals(b,D);return T&&(this.value=D),T},y.prototype.computeValue=function(b){var E;if(this.isComputing=!0,Be.computationDepth++,b)E=te(this,this.derivation,this.scope);else if(Be.disableErrorBoundaries===!0)E=this.derivation.call(this.scope);else try{E=this.derivation.call(this.scope)}catch(D){E=new ut(D)}return Be.computationDepth--,this.isComputing=!1,E},y.prototype.suspend=function(){this.keepAlive||(fe(this),this.value=void 0)},y.prototype.observe=function(b,E){var D=this,T=!0,X=void 0;return Lo(function(){var ie=D.get();if(!T||E){var Oe=Se();b({type:"update",object:D,newValue:ie,oldValue:X}),Pe(Oe)}T=!1,X=ie})},y.prototype.warnAboutUntrackedRead=function(){},y.prototype.toJSON=function(){return this.get()},y.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},y.prototype.valueOf=function(){return C(this.get())},y.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},y}(),or=U("ComputedValue",Bn),io=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Za={};function Sn(){return typeof window!="undefined"?window:s!==void 0?s:typeof self!="undefined"?self:Za}var ao=!0,Ai=!1,Be=function(){var y=Sn();return y.__mobxInstanceCount>0&&!y.__mobxGlobals&&(ao=!1),y.__mobxGlobals&&y.__mobxGlobals.version!==new io().version&&(ao=!1),ao?y.__mobxGlobals?(y.__mobxInstanceCount+=1,y.__mobxGlobals.UNCHANGED||(y.__mobxGlobals.UNCHANGED={}),y.__mobxGlobals):(y.__mobxInstanceCount=1,y.__mobxGlobals=new io):(setTimeout(function(){Ai||x("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new io)}();function qa(y,b){y.observers.add(b),y.lowestObserverState>b.dependenciesState&&(y.lowestObserverState=b.dependenciesState)}function ki(y,b){y.observers.delete(b),y.observers.size===0&&Mi(y)}function Mi(y){y.isPendingUnobservation===!1&&(y.isPendingUnobservation=!0,Be.pendingUnobservations.push(y))}function yn(){Be.inBatch++}function vn(){if(--Be.inBatch==0){Di();for(var y=Be.pendingUnobservations,b=0;b<y.length;b++){var E=y[b];E.isPendingUnobservation=!1,E.observers.size===0&&(E.isBeingObserved&&(E.isBeingObserved=!1,E.onBecomeUnobserved()),E instanceof Bn&&E.suspend())}Be.pendingUnobservations=[]}}function Fn(y){var b=Be.trackingDerivation;return b!==null?(b.runId!==y.lastAccessedBy&&(y.lastAccessedBy=b.runId,b.newObserving[b.unboundDepsCount++]=y,y.isBeingObserved||(y.isBeingObserved=!0,y.onBecomeObserved())),!0):(y.observers.size===0&&Be.inBatch>0&&Mi(y),!1)}function mr(y,b){if(""+y.name+b.name,y.isTracing===Fe.BREAK){var E=[];(function D(T,X,ie){if(X.length>=1e3)return void X.push("(and many more)");X.push(""+new Array(ie).join("	")+T.name),T.dependencies&&T.dependencies.forEach(function(Oe){return D(Oe,X,ie+1)})})(Rr(y),E,1),new Function(`debugger;
/*
Tracing '`+y.name+`'

You are entering this break point because derivation '`+y.name+"' is being traced and '"+b.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(y instanceof Bn?y.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+E.join(`
`)+`
*/
    `)()}}var Pn=function(){function y(b,E,D,T){b===void 0&&(b="Reaction@"+_()),T===void 0&&(T=!1),this.name=b,this.onInvalidate=E,this.errorHandler=D,this.requiresObservable=T,this.observing=[],this.newObserving=[],this.dependenciesState=K.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+_(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Fe.NONE}return y.prototype.onBecomeStale=function(){this.schedule()},y.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Be.pendingReactions.push(this),Di())},y.prototype.isScheduled=function(){return this._isScheduled},y.prototype.runReaction=function(){if(!this.isDisposed){if(yn(),this._isScheduled=!1,yt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(b){this.reportExceptionInDerivation(b)}}vn()}},y.prototype.track=function(b){if(!this.isDisposed){yn(),this._isRunning=!0;var E=te(this,b,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&fe(this),ft(E)&&this.reportExceptionInDerivation(E.cause),vn()}},y.prototype.reportExceptionInDerivation=function(b){var E=this;if(this.errorHandler)this.errorHandler(b,this);else{if(Be.disableErrorBoundaries)throw b;var D="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Be.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(D,b),Be.globalReactionErrorHandlers.forEach(function(T){return T(b,E)})}},y.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(yn(),fe(this),vn()))},y.prototype.getDisposer=function(){var b=this.dispose.bind(this);return b[M]=this,b},y.prototype.toString=function(){return"Reaction["+this.name+"]"},y.prototype.trace=function(b){b===void 0&&(b=!1),function(){for(var E=[],D=0;D<arguments.length;D++)E[D]=arguments[D];var T=!1;typeof E[E.length-1]=="boolean"&&(T=E.pop());var X=Bo(E);if(!X)return x(!1);X.isTracing===Fe.NONE&&""+X.name,X.isTracing=T?Fe.BREAK:Fe.LOG}(this,b)},y}(),Ro=function(y){return y()};function Di(){Be.inBatch>0||Be.isRunningReactions||Ro($a)}function $a(){Be.isRunningReactions=!0;for(var y=Be.pendingReactions,b=0;y.length>0;){++b==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+y[0]),y.splice(0));for(var E=y.splice(0),D=0,T=E.length;D<T;D++)E[D].runReaction()}Be.isRunningReactions=!1}var uo=U("Reaction",Pn);function Ja(y){var b=Ro;Ro=function(E){return y(function(){return b(E)})}}function Ti(y){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Qa(){x(!1)}function ir(y){return function(b,E,D){if(D){if(D.value)return{value:st(y,D.value),enumerable:!1,configurable:!0,writable:!0};var T=D.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return st(y,T.call(this))}}}return Ni(y).apply(this,arguments)}}function Ni(y){return function(b,E,D){Object.defineProperty(b,E,{configurable:!0,enumerable:!1,get:function(){},set:function(T){F(this,E,Hn(y,T))}})}}var Hn=function(y,b,E,D){return arguments.length===1&&typeof y=="function"?st(y.name||"<unnamed action>",y):arguments.length===2&&typeof b=="function"?st(y,b):arguments.length===1&&typeof y=="string"?ir(y):D!==!0?ir(b).apply(null,arguments):void F(y,b,st(y.name||b,E.value,this))};function eu(y,b){return Ce(typeof y=="string"?y:y.name||"<unnamed action>",typeof y=="function"?y:b,this,void 0)}function co(y){return typeof y=="function"&&y.isMobxAction===!0}function Io(y,b,E){F(y,b,st(b,E.bind(y)))}function Lo(y,b){b===void 0&&(b=O);var E,D=b&&b.name||y.name||"Autorun@"+_();if(!b.scheduler&&!b.delay)E=new Pn(D,function(){this.track(ie)},b.onError,b.requiresObservable);else{var T=Ci(b),X=!1;E=new Pn(D,function(){X||(X=!0,T(function(){X=!1,E.isDisposed||E.track(ie)}))},b.onError,b.requiresObservable)}function ie(){y(E)}return E.schedule(),E.getDisposer()}Hn.bound=function(y,b,E,D){return D===!0?(Io(y,b,E.value),null):E?{configurable:!0,enumerable:!1,get:function(){return Io(this,b,E.value||E.initializer.call(this)),this[b]},set:Qa}:{enumerable:!1,configurable:!0,set:function(T){Io(this,b,T)},get:function(){}}};var tu=function(y){return y()};function Ci(y){return y.scheduler?y.scheduler:y.delay?function(b){return setTimeout(b,y.delay)}:tu}function Or(y,b,E){E===void 0&&(E=O);var D,T,X,ie=E.name||"Reaction@"+_(),Oe=Hn(ie,E.onError?(D=E.onError,T=b,function(){try{return T.apply(this,arguments)}catch(jt){D.call(this,jt)}}):b),Re=!E.scheduler&&!E.delay,at=Ci(E),ot=!0,Et=!1,bt=E.compareStructural?q.structural:E.equals||q.default,vt=new Pn(ie,function(){ot||Re?Pt():Et||(Et=!0,at(Pt))},E.onError,E.requiresObservable);function Pt(){if(Et=!1,!vt.isDisposed){var jt=!1;vt.track(function(){var mt=y(vt);jt=ot||!bt(X,mt),X=mt}),ot&&E.fireImmediately&&Oe(X,vt),ot||jt!==!0||Oe(X,vt),ot&&(ot=!1)}}return vt.schedule(),vt.getDisposer()}function _r(y,b,E){return Ri("onBecomeUnobserved",y,b,E)}function Ri(y,b,E,D){var T=typeof D=="function"?xn(b,E):xn(b),X=typeof D=="function"?D:E,ie=y+"Listeners";return T[ie]?T[ie].add(X):T[ie]=new Set([X]),typeof T[y]!="function"?x(!1):function(){var Oe=T[ie];Oe&&(Oe.delete(X),Oe.size===0&&delete T[ie])}}function wr(y){var b=y.enforceActions,E=y.computedRequiresReaction,D=y.computedConfigurable,T=y.disableErrorBoundaries,X=y.reactionScheduler,ie=y.reactionRequiresObservable,Oe=y.observableRequiresReaction;if(y.isolateGlobalState===!0&&((Be.pendingReactions.length||Be.inBatch||Be.isRunningReactions)&&x("isolateGlobalState should be called before MobX is running any reactions"),Ai=!0,ao&&(--Sn().__mobxInstanceCount==0&&(Sn().__mobxGlobals=void 0),Be=new io)),b!==void 0){var Re=void 0;switch(b){case!0:case"observed":Re=!0;break;case!1:case"never":Re=!1;break;case"strict":case"always":Re="strict";break;default:x("Invalid value for 'enforceActions': '"+b+"', expected 'never', 'always' or 'observed'")}Be.enforceActions=Re,Be.allowStateChanges=Re!==!0&&Re!=="strict"}E!==void 0&&(Be.computedRequiresReaction=!!E),ie!==void 0&&(Be.reactionRequiresObservable=!!ie),Oe!==void 0&&(Be.observableRequiresReaction=!!Oe,Be.allowStateReads=!Be.observableRequiresReaction),D!==void 0&&(Be.computedConfigurable=!!D),T!==void 0&&(T===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Be.disableErrorBoundaries=!!T),X&&Ja(X)}function Un(y,b,E,D){var T=Ii(D=ae(D));return Ie(y),Xo(y,D.name,T.enhancer),b&&Li(y,b,E,T),y}function Ii(y){return y.defaultDecorator||(y.deep===!1?we:ge)}function Li(y,b,E,D){var T,X;yn();try{var ie=z(b);try{for(var Oe=me(ie),Re=Oe.next();!Re.done;Re=Oe.next()){var at=Re.value,ot=Object.getOwnPropertyDescriptor(b,at),Et=(E&&at in E?E[at]:ot.get?He:D)(y,at,ot,!0);Et&&Object.defineProperty(y,at,Et)}}catch(bt){T={error:bt}}finally{try{Re&&!Re.done&&(X=Oe.return)&&X.call(Oe)}finally{if(T)throw T.error}}}finally{vn()}}function Rr(y,b){return zi(xn(y,b))}function zi(y){var b,E,D={name:y.name};return y.observing&&y.observing.length>0&&(D.dependencies=(b=y.observing,E=[],b.forEach(function(T){E.indexOf(T)===-1&&E.push(T)}),E).map(zi)),D}var nu=0;function Bi(){this.message="FLOW_CANCELLED"}function Fi(y){arguments.length!==1&&x("Flow expects 1 argument and cannot be used as decorator");var b=y.name||"<unnamed flow>";return function(){var E,D=this,T=arguments,X=++nu,ie=Hn(b+" - runid: "+X+" - init",y).apply(D,T),Oe=void 0,Re=new Promise(function(at,ot){var Et=0;function bt(jt){var mt;Oe=void 0;try{mt=Hn(b+" - runid: "+X+" - yield "+Et++,ie.next).call(ie,jt)}catch(kn){return ot(kn)}Pt(mt)}function vt(jt){var mt;Oe=void 0;try{mt=Hn(b+" - runid: "+X+" - yield "+Et++,ie.throw).call(ie,jt)}catch(kn){return ot(kn)}Pt(mt)}function Pt(jt){if(!jt||typeof jt.then!="function")return jt.done?at(jt.value):(Oe=Promise.resolve(jt.value)).then(bt,vt);jt.then(Pt,ot)}E=ot,bt(void 0)});return Re.cancel=Hn(b+" - runid: "+X+" - cancel",function(){try{Oe&&Ir(Oe);var at=ie.return(void 0),ot=Promise.resolve(at.value);ot.then(A,A),Ir(ot),E(new Bi)}catch(Et){E(Et)}}),Re}}function Ir(y){typeof y.cancel=="function"&&y.cancel()}function Hi(y,b){if(y==null)return!1;if(b!==void 0){if(gn(y)===!1||!y[M].values.has(b))return!1;var E=xn(y,b);return or(E)}return or(y)}function ru(y){return arguments.length>1?x(!1):Hi(y)}function Ui(y,b){return typeof b!="string"?x(!1):Hi(y,b)}function zo(y,b){return y!=null&&(b!==void 0?!!gn(y)&&y[M].values.has(b):gn(y)||!!y[M]||H(y)||uo(y)||or(y))}function Lr(y){return arguments.length!==1&&x(!1),zo(y)}function Gn(y){return gn(y)?y[M].getKeys():rn(y)||qt(y)?Array.from(y.keys()):dn(y)?y.map(function(b,E){return E}):x(!1)}function Gt(y){return gn(y)?Gn(y).map(function(b){return y[b]}):rn(y)?Gn(y).map(function(b){return y.get(b)}):qt(y)?Array.from(y.values()):dn(y)?y.slice():x(!1)}function Gi(y){return gn(y)?Gn(y).map(function(b){return[b,y[b]]}):rn(y)?Gn(y).map(function(b){return[b,y.get(b)]}):qt(y)?Array.from(y.entries()):dn(y)?y.map(function(b,E){return[E,b]}):x(!1)}function ou(y,b,E,D){return typeof E=="function"?function(T,X,ie,Oe){return Hr(T,X).observe(ie,Oe)}(y,b,E,D):function(T,X,ie){return Hr(T).observe(X,ie)}(y,b,E)}Bi.prototype=Object.create(Error.prototype);var Xi={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function xr(y,b,E,D){return D.detectCycles&&y.set(b,E),E}function Vi(y,b){var E;return typeof b=="boolean"&&(b={detectCycles:b}),b||(b=Xi),b.detectCycles=b.detectCycles===void 0?b.recurseEverything===!0:b.detectCycles===!0,b.detectCycles&&(E=new Map),function D(T,X,ie){if(!X.recurseEverything&&!Lr(T)||typeof T!="object")return T;if(T===null)return null;if(T instanceof Date)return T;if(Co(T))return D(T.get(),X,ie);if(Lr(T)&&Gn(T),X.detectCycles===!0&&T!==null&&ie.has(T))return ie.get(T);if(dn(T)||Array.isArray(T)){var Oe=xr(ie,T,[],X),Re=T.map(function(mt){return D(mt,X,ie)});Oe.length=Re.length;for(var at=0,ot=Re.length;at<ot;at++)Oe[at]=Re[at];return Oe}if(qt(T)||Object.getPrototypeOf(T)===Set.prototype){if(X.exportMapsAsObjects===!1){var Et=xr(ie,T,new Set,X);return T.forEach(function(mt){Et.add(D(mt,X,ie))}),Et}var bt=xr(ie,T,[],X);return T.forEach(function(mt){bt.push(D(mt,X,ie))}),bt}if(rn(T)||Object.getPrototypeOf(T)===Map.prototype){if(X.exportMapsAsObjects===!1){var vt=xr(ie,T,new Map,X);return T.forEach(function(mt,kn){vt.set(kn,D(mt,X,ie))}),vt}var Pt=xr(ie,T,{},X);return T.forEach(function(mt,kn){Pt[kn]=D(mt,X,ie)}),Pt}var jt=xr(ie,T,{},X);return Z(T).forEach(function(mt){jt[mt]=D(T[mt],X,ie)}),jt}(y,b,E)}function Bo(y){switch(y.length){case 0:return Be.trackingDerivation;case 1:return xn(y[0]);case 2:return xn(y[0],y[1])}}function On(y,b){b===void 0&&(b=void 0),yn();try{return y.apply(b)}finally{vn()}}function _n(y,b,E){return arguments.length===1||b&&typeof b=="object"?Yi(y,b):Fo(y,b,E||{})}function Fo(y,b,E){var D;typeof E.timeout=="number"&&(D=setTimeout(function(){if(!X[M].isDisposed){X();var ie=new Error("WHEN_TIMEOUT");if(!E.onError)throw ie;E.onError(ie)}},E.timeout)),E.name=E.name||"When@"+_();var T=st(E.name+"-effect",b),X=Lo(function(ie){y()&&(ie.dispose(),D&&clearTimeout(D),T())},E);return X}function Yi(y,b){var E,D=new Promise(function(T,X){var ie=Fo(y,T,be(be({},b),{onError:X}));E=function(){ie(),X("WHEN_CANCELLED")}});return D.cancel=E,D}function so(y){return y[M]}function lo(y){return typeof y=="string"||typeof y=="number"||typeof y=="symbol"}var zr={has:function(y,b){if(b===M||b==="constructor"||b===pe)return!0;var E=so(y);return lo(b)?E.has(b):b in y},get:function(y,b){if(b===M||b==="constructor"||b===pe)return y[b];var E=so(y),D=E.values.get(b);if(D instanceof L){var T=D.get();return T===void 0&&E.has(b),T}return lo(b)&&E.has(b),y[b]},set:function(y,b,E){return!!lo(b)&&(function D(T,X,ie){if(arguments.length!==2||qt(T))if(gn(T)){var Oe=T[M],Re=Oe.values.get(X);Re?Oe.write(X,ie):Oe.addObservableProp(X,ie,Oe.defaultEnhancer)}else if(rn(T))T.set(X,ie);else if(qt(T))T.add(X);else{if(!dn(T))return x(!1);typeof X!="number"&&(X=parseInt(X,10)),S(X>=0,"Not a valid index: '"+X+"'"),yn(),X>=T.length&&(T.length=X+1),T[X]=ie,vn()}else{yn();var at=X;try{for(var ot in at)D(T,ot,at[ot])}finally{vn()}}}(y,b,E),!0)},deleteProperty:function(y,b){return!!lo(b)&&(so(y).remove(b),!0)},ownKeys:function(y){return so(y).keysAtom.reportObserved(),Reflect.ownKeys(y)},preventExtensions:function(y){return x("Dynamic observable objects cannot be frozen"),!1}};function Br(y){var b=new Proxy(y,zr);return y[M].proxy=b,b}function wn(y){return y.interceptors!==void 0&&y.interceptors.length>0}function Xn(y,b){var E=y.interceptors||(y.interceptors=[]);return E.push(b),P(function(){var D=E.indexOf(b);D!==-1&&E.splice(D,1)})}function pn(y,b){var E=Se();try{for(var D=ye(y.interceptors||[]),T=0,X=D.length;T<X&&(S(!(b=D[T](b))||b.type,"Intercept handlers should return nothing or a change object"),b);T++);return b}finally{Pe(E)}}function dt(y){return y.changeListeners!==void 0&&y.changeListeners.length>0}function Fr(y,b){var E=y.changeListeners||(y.changeListeners=[]);return E.push(b),P(function(){var D=E.indexOf(b);D!==-1&&E.splice(D,1)})}function nn(y,b){var E=Se(),D=y.changeListeners;if(D){for(var T=0,X=(D=D.slice()).length;T<X;T++)D[T](b);Pe(E)}}var Er={get:function(y,b){return b===M?y[M]:b==="length"?y[M].getArrayLength():typeof b=="number"?An.get.call(y,b):typeof b!="string"||isNaN(b)?An.hasOwnProperty(b)?An[b]:y[b]:An.get.call(y,parseInt(b))},set:function(y,b,E){return b==="length"&&y[M].setArrayLength(E),typeof b=="number"&&An.set.call(y,b,E),typeof b=="symbol"||isNaN(b)?y[b]=E:An.set.call(y,parseInt(b),E),!0},preventExtensions:function(y){return x("Observable arrays cannot be frozen"),!1}};function Wi(y,b,E,D){E===void 0&&(E="ObservableArray@"+_()),D===void 0&&(D=!1);var T,X,ie,Oe=new fo(E,b,D);T=Oe.values,X=M,ie=Oe,Object.defineProperty(T,X,{enumerable:!1,writable:!1,configurable:!0,value:ie});var Re=new Proxy(Oe.values,Er);if(Oe.proxy=Re,y&&y.length){var at=xt(!0);Oe.spliceWithArray(0,0,y),Tt(at)}return Re}var fo=function(){function y(b,E,D){this.owned=D,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new L(b||"ObservableArray@"+_()),this.enhancer=function(T,X){return E(T,X,b+"[..]")}}return y.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},y.prototype.dehanceValues=function(b){return this.dehancer!==void 0&&b.length>0?b.map(this.dehancer):b},y.prototype.intercept=function(b){return Xn(this,b)},y.prototype.observe=function(b,E){return E===void 0&&(E=!1),E&&b({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Fr(this,b)},y.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},y.prototype.setArrayLength=function(b){if(typeof b!="number"||b<0)throw new Error("[mobx.array] Out of range: "+b);var E=this.values.length;if(b!==E)if(b>E){for(var D=new Array(b-E),T=0;T<b-E;T++)D[T]=void 0;this.spliceWithArray(E,0,D)}else this.spliceWithArray(b,E-b)},y.prototype.updateArrayLength=function(b,E){if(b!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=E},y.prototype.spliceWithArray=function(b,E,D){var T=this;G(this.atom);var X=this.values.length;if(b===void 0?b=0:b>X?b=X:b<0&&(b=Math.max(0,X+b)),E=arguments.length===1?X-b:E==null?0:Math.max(0,Math.min(E,X-b)),D===void 0&&(D=g),wn(this)){var ie=pn(this,{object:this.proxy,type:"splice",index:b,removedCount:E,added:D});if(!ie)return g;E=ie.removedCount,D=ie.added}D=D.length===0?D:D.map(function(Re){return T.enhancer(Re,void 0)});var Oe=this.spliceItemsIntoValues(b,E,D);return E===0&&D.length===0||this.notifyArraySplice(b,D,Oe),this.dehanceValues(Oe)},y.prototype.spliceItemsIntoValues=function(b,E,D){var T;if(D.length<1e4)return(T=this.values).splice.apply(T,ye([b,E],D));var X=this.values.slice(b,b+E);return this.values=this.values.slice(0,b).concat(D,this.values.slice(b+E)),X},y.prototype.notifyArrayChildUpdate=function(b,E,D){var T=!this.owned&&!1,X=dt(this),ie=X||T?{object:this.proxy,type:"update",index:b,newValue:E,oldValue:D}:null;this.atom.reportChanged(),X&&nn(this,ie)},y.prototype.notifyArraySplice=function(b,E,D){var T=!this.owned&&!1,X=dt(this),ie=X||T?{object:this.proxy,type:"splice",index:b,removed:D,added:E,removedCount:D.length,addedCount:E.length}:null;this.atom.reportChanged(),X&&nn(this,ie)},y}(),An={intercept:function(y){return this[M].intercept(y)},observe:function(y,b){return b===void 0&&(b=!1),this[M].observe(y,b)},clear:function(){return this.splice(0)},replace:function(y){var b=this[M];return b.spliceWithArray(0,b.values.length,y)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(y,b){for(var E=[],D=2;D<arguments.length;D++)E[D-2]=arguments[D];var T=this[M];switch(arguments.length){case 0:return[];case 1:return T.spliceWithArray(y);case 2:return T.spliceWithArray(y,b)}return T.spliceWithArray(y,b,E)},spliceWithArray:function(y,b,E){return this[M].spliceWithArray(y,b,E)},push:function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var E=this[M];return E.spliceWithArray(E.values.length,0,y),E.values.length},pop:function(){return this.splice(Math.max(this[M].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var E=this[M];return E.spliceWithArray(0,0,y),E.values.length},reverse:function(){var y=this.slice();return y.reverse.apply(y,arguments)},sort:function(y){var b=this.slice();return b.sort.apply(b,arguments)},remove:function(y){var b=this[M],E=b.dehanceValues(b.values).indexOf(y);return E>-1&&(this.splice(E,1),!0)},get:function(y){var b=this[M];if(b){if(y<b.values.length)return b.atom.reportObserved(),b.dehanceValue(b.values[y]);console.warn("[mobx.array] Attempt to read an array index ("+y+") that is out of bounds ("+b.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(y,b){var E=this[M],D=E.values;if(y<D.length){G(E.atom);var T=D[y];if(wn(E)){var X=pn(E,{type:"update",object:E.proxy,index:y,newValue:b});if(!X)return;b=X.newValue}(b=E.enhancer(b,T))!==T&&(D[y]=b,E.notifyArrayChildUpdate(y,b,T))}else{if(y!==D.length)throw new Error("[mobx.array] Index out of bounds, "+y+" is larger than "+D.length);E.spliceWithArray(y,0,[b])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(y){typeof Array.prototype[y]=="function"&&(An[y]=function(){var b=this[M];b.atom.reportObserved();var E=b.dehanceValues(b.values);return E[y].apply(E,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(y){typeof Array.prototype[y]=="function"&&(An[y]=function(b,E){var D=this,T=this[M];return T.atom.reportObserved(),T.dehanceValues(T.values)[y](function(X,ie){return b.call(E,X,ie,D)},E)})}),["reduce","reduceRight"].forEach(function(y){An[y]=function(){var b=this,E=this[M];E.atom.reportObserved();var D=arguments[0];return arguments[0]=function(T,X,ie){return X=E.dehanceValue(X),D(T,X,ie,b)},E.values[y].apply(E.values,arguments)}});var Ho,iu=U("ObservableArrayAdministration",fo);function dn(y){return N(y)&&iu(y[M])}var Uo,au={},Go=function(){function y(b,E,D){if(E===void 0&&(E=We),D===void 0&&(D="ObservableMap@"+_()),this.enhancer=E,this.name=D,this[Ho]=au,this._keysAtom=ee(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(b)}return y.prototype._has=function(b){return this._data.has(b)},y.prototype.has=function(b){var E=this;if(!Be.trackingDerivation)return this._has(b);var D=this._hasMap.get(b);if(!D){var T=D=new tn(this._has(b),lt,this.name+"."+V(b)+"?",!1);this._hasMap.set(b,T),_r(T,function(){return E._hasMap.delete(b)})}return D.get()},y.prototype.set=function(b,E){var D=this._has(b);if(wn(this)){var T=pn(this,{type:D?"update":"add",object:this,newValue:E,name:b});if(!T)return this;E=T.newValue}return D?this._updateValue(b,E):this._addValue(b,E),this},y.prototype.delete=function(b){var E=this;if(G(this._keysAtom),wn(this)&&!(T=pn(this,{type:"delete",object:this,name:b})))return!1;if(this._has(b)){var D=dt(this),T=D?{type:"delete",object:this,oldValue:this._data.get(b).value,name:b}:null;return On(function(){E._keysAtom.reportChanged(),E._updateHasMapEntry(b,!1),E._data.get(b).setNewValue(void 0),E._data.delete(b)}),D&&nn(this,T),!0}return!1},y.prototype._updateHasMapEntry=function(b,E){var D=this._hasMap.get(b);D&&D.setNewValue(E)},y.prototype._updateValue=function(b,E){var D=this._data.get(b);if((E=D.prepareNewValue(E))!==Be.UNCHANGED){var T=dt(this),X=T?{type:"update",object:this,oldValue:D.value,name:b,newValue:E}:null;D.setNewValue(E),T&&nn(this,X)}},y.prototype._addValue=function(b,E){var D=this;G(this._keysAtom),On(function(){var ie=new tn(E,D.enhancer,D.name+"."+V(b),!1);D._data.set(b,ie),E=ie.value,D._updateHasMapEntry(b,!0),D._keysAtom.reportChanged()});var T=dt(this),X=T?{type:"add",object:this,name:b,newValue:E}:null;T&&nn(this,X)},y.prototype.get=function(b){return this.has(b)?this.dehanceValue(this._data.get(b).get()):this.dehanceValue(void 0)},y.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},y.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},y.prototype.values=function(){var b=this,E=this.keys();return Gr({next:function(){var D=E.next(),T=D.done,X=D.value;return{done:T,value:T?void 0:b.get(X)}}})},y.prototype.entries=function(){var b=this,E=this.keys();return Gr({next:function(){var D=E.next(),T=D.done,X=D.value;return{done:T,value:T?void 0:[X,b.get(X)]}}})},y.prototype[Ho=M,Symbol.iterator]=function(){return this.entries()},y.prototype.forEach=function(b,E){var D,T;try{for(var X=me(this),ie=X.next();!ie.done;ie=X.next()){var Oe=he(ie.value,2),Re=Oe[0],at=Oe[1];b.call(E,at,Re,this)}}catch(ot){D={error:ot}}finally{try{ie&&!ie.done&&(T=X.return)&&T.call(X)}finally{if(D)throw D.error}}},y.prototype.merge=function(b){var E=this;return rn(b)&&(b=b.toJS()),On(function(){var D=xt(!0);try{R(b)?Z(b).forEach(function(T){return E.set(T,b[T])}):Array.isArray(b)?b.forEach(function(T){var X=he(T,2),ie=X[0],Oe=X[1];return E.set(ie,Oe)}):B(b)?(b.constructor!==Map&&x("Cannot initialize from classes that inherit from Map: "+b.constructor.name),b.forEach(function(T,X){return E.set(X,T)})):b!=null&&x("Cannot initialize map from "+b)}finally{Tt(D)}}),this},y.prototype.clear=function(){var b=this;On(function(){ne(function(){var E,D;try{for(var T=me(b.keys()),X=T.next();!X.done;X=T.next()){var ie=X.value;b.delete(ie)}}catch(Oe){E={error:Oe}}finally{try{X&&!X.done&&(D=T.return)&&D.call(T)}finally{if(E)throw E.error}}})})},y.prototype.replace=function(b){var E=this;return On(function(){var D,T,X,ie,Oe=function(on){if(B(on)||rn(on))return on;if(Array.isArray(on))return new Map(on);if(R(on)){var qi=new Map;for(var Ko in on)qi.set(Ko,on[Ko]);return qi}return x("Cannot convert to map from '"+on+"'")}(b),Re=new Map,at=!1;try{for(var ot=me(E._data.keys()),Et=ot.next();!Et.done;Et=ot.next()){var bt=Et.value;if(!Oe.has(bt))if(E.delete(bt))at=!0;else{var vt=E._data.get(bt);Re.set(bt,vt)}}}catch(on){D={error:on}}finally{try{Et&&!Et.done&&(T=ot.return)&&T.call(ot)}finally{if(D)throw D.error}}try{for(var Pt=me(Oe.entries()),jt=Pt.next();!jt.done;jt=Pt.next()){var mt=he(jt.value,2),kn=(bt=mt[0],vt=mt[1],E._data.has(bt));if(E.set(bt,vt),E._data.has(bt)){var cu=E._data.get(bt);Re.set(bt,cu),kn||(at=!0)}}}catch(on){X={error:on}}finally{try{jt&&!jt.done&&(ie=Pt.return)&&ie.call(Pt)}finally{if(X)throw X.error}}if(!at)if(E._data.size!==Re.size)E._keysAtom.reportChanged();else for(var Xr=E._data.keys(),jr=Re.keys(),Vr=Xr.next(),Wo=jr.next();!Vr.done;){if(Vr.value!==Wo.value){E._keysAtom.reportChanged();break}Vr=Xr.next(),Wo=jr.next()}E._data=Re}),this},Object.defineProperty(y.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),y.prototype.toPOJO=function(){var b,E,D={};try{for(var T=me(this),X=T.next();!X.done;X=T.next()){var ie=he(X.value,2),Oe=ie[0],Re=ie[1];D[typeof Oe=="symbol"?Oe:V(Oe)]=Re}}catch(at){b={error:at}}finally{try{X&&!X.done&&(E=T.return)&&E.call(T)}finally{if(b)throw b.error}}return D},y.prototype.toJS=function(){return new Map(this)},y.prototype.toJSON=function(){return this.toPOJO()},y.prototype.toString=function(){var b=this;return this.name+"[{ "+Array.from(this.keys()).map(function(E){return V(E)+": "+b.get(E)}).join(", ")+" }]"},y.prototype.observe=function(b,E){return Fr(this,b)},y.prototype.intercept=function(b){return Xn(this,b)},y}(),rn=U("ObservableMap",Go),ar={},ur=function(){function y(b,E,D){if(E===void 0&&(E=We),D===void 0&&(D="ObservableSet@"+_()),this.name=D,this[Uo]=ar,this._data=new Set,this._atom=ee(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(T,X){return E(T,X,D)},b&&this.replace(b)}return y.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},y.prototype.clear=function(){var b=this;On(function(){ne(function(){var E,D;try{for(var T=me(b._data.values()),X=T.next();!X.done;X=T.next()){var ie=X.value;b.delete(ie)}}catch(Oe){E={error:Oe}}finally{try{X&&!X.done&&(D=T.return)&&D.call(T)}finally{if(E)throw E.error}}})})},y.prototype.forEach=function(b,E){var D,T;try{for(var X=me(this),ie=X.next();!ie.done;ie=X.next()){var Oe=ie.value;b.call(E,Oe,Oe,this)}}catch(Re){D={error:Re}}finally{try{ie&&!ie.done&&(T=X.return)&&T.call(X)}finally{if(D)throw D.error}}},Object.defineProperty(y.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),y.prototype.add=function(b){var E=this;if(G(this._atom),wn(this)&&!(T=pn(this,{type:"add",object:this,newValue:b})))return this;if(!this.has(b)){On(function(){E._data.add(E.enhancer(b,void 0)),E._atom.reportChanged()});var D=dt(this),T=D?{type:"add",object:this,newValue:b}:null;D&&nn(this,T)}return this},y.prototype.delete=function(b){var E=this;if(wn(this)&&!(T=pn(this,{type:"delete",object:this,oldValue:b})))return!1;if(this.has(b)){var D=dt(this),T=D?{type:"delete",object:this,oldValue:b}:null;return On(function(){E._atom.reportChanged(),E._data.delete(b)}),D&&nn(this,T),!0}return!1},y.prototype.has=function(b){return this._atom.reportObserved(),this._data.has(this.dehanceValue(b))},y.prototype.entries=function(){var b=0,E=Array.from(this.keys()),D=Array.from(this.values());return Gr({next:function(){var T=b;return b+=1,T<D.length?{value:[E[T],D[T]],done:!1}:{done:!0}}})},y.prototype.keys=function(){return this.values()},y.prototype.values=function(){this._atom.reportObserved();var b=this,E=0,D=Array.from(this._data.values());return Gr({next:function(){return E<D.length?{value:b.dehanceValue(D[E++]),done:!1}:{done:!0}}})},y.prototype.replace=function(b){var E=this;return qt(b)&&(b=b.toJS()),On(function(){var D=xt(!0);try{Array.isArray(b)||Y(b)?(E.clear(),b.forEach(function(T){return E.add(T)})):b!=null&&x("Cannot initialize set from "+b)}finally{Tt(D)}}),this},y.prototype.observe=function(b,E){return Fr(this,b)},y.prototype.intercept=function(b){return Xn(this,b)},y.prototype.toJS=function(){return new Set(this)},y.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},y.prototype[Uo=M,Symbol.iterator]=function(){return this.values()},y}(),qt=U("ObservableSet",ur),Ki=function(){function y(b,E,D,T){E===void 0&&(E=new Map),this.target=b,this.values=E,this.name=D,this.defaultEnhancer=T,this.keysAtom=new L(D+".keys")}return y.prototype.read=function(b){return this.values.get(b).get()},y.prototype.write=function(b,E){var D=this.target,T=this.values.get(b);if(T instanceof Bn)T.set(E);else{if(wn(this)){if(!(ie=pn(this,{type:"update",object:this.proxy||D,name:b,newValue:E})))return;E=ie.newValue}if((E=T.prepareNewValue(E))!==Be.UNCHANGED){var X=dt(this),ie=X?{type:"update",object:this.proxy||D,oldValue:T.value,name:b,newValue:E}:null;T.setNewValue(E),X&&nn(this,ie)}}},y.prototype.has=function(b){var E=this.pendingKeys||(this.pendingKeys=new Map),D=E.get(b);if(D)return D.get();var T=!!this.values.get(b);return D=new tn(T,lt,this.name+"."+V(b)+"?",!1),E.set(b,D),D.get()},y.prototype.addObservableProp=function(b,E,D){D===void 0&&(D=this.defaultEnhancer);var T=this.target;if(wn(this)){var X=pn(this,{object:this.proxy||T,name:b,type:"add",newValue:E});if(!X)return;E=X.newValue}var ie=new tn(E,D,this.name+"."+V(b),!1);this.values.set(b,ie),E=ie.value,Object.defineProperty(T,b,function(Oe){return po[Oe]||(po[Oe]={configurable:!0,enumerable:!0,get:function(){return this[M].read(Oe)},set:function(Re){this[M].write(Oe,Re)}})}(b)),this.notifyPropertyAddition(b,E)},y.prototype.addComputedProp=function(b,E,D){var T,X,ie,Oe=this.target;D.name=D.name||this.name+"."+V(E),this.values.set(E,new Bn(D)),(b===Oe||(T=b,X=E,!(ie=Object.getOwnPropertyDescriptor(T,X))||ie.configurable!==!1&&ie.writable!==!1))&&Object.defineProperty(b,E,function(Re){return ho[Re]||(ho[Re]={configurable:Be.computedConfigurable,enumerable:!1,get:function(){return yo(this).read(Re)},set:function(at){yo(this).write(Re,at)}})}(E))},y.prototype.remove=function(b){if(this.values.has(b)){var E=this.target;if(wn(this)&&!(Oe=pn(this,{object:this.proxy||E,name:b,type:"remove"})))return;try{yn();var D=dt(this),T=this.values.get(b),X=T&&T.get();if(T&&T.set(void 0),this.keysAtom.reportChanged(),this.values.delete(b),this.pendingKeys){var ie=this.pendingKeys.get(b);ie&&ie.set(!1)}delete this.target[b];var Oe=D?{type:"remove",object:this.proxy||E,oldValue:X,name:b}:null;D&&nn(this,Oe)}finally{vn()}}},y.prototype.illegalAccess=function(b,E){console.warn("Property '"+E+"' of '"+b+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},y.prototype.observe=function(b,E){return Fr(this,b)},y.prototype.intercept=function(b){return Xn(this,b)},y.prototype.notifyPropertyAddition=function(b,E){var D=dt(this),T=D?{type:"add",object:this.proxy||this.target,name:b,newValue:E}:null;if(D&&nn(this,T),this.pendingKeys){var X=this.pendingKeys.get(b);X&&X.set(!0)}this.keysAtom.reportChanged()},y.prototype.getKeys=function(){var b,E;this.keysAtom.reportObserved();var D=[];try{for(var T=me(this.values),X=T.next();!X.done;X=T.next()){var ie=he(X.value,2),Oe=ie[0];ie[1]instanceof tn&&D.push(Oe)}}catch(Re){b={error:Re}}finally{try{X&&!X.done&&(E=T.return)&&E.call(T)}finally{if(b)throw b.error}}return D},y}();function Xo(y,b,E){if(b===void 0&&(b=""),E===void 0&&(E=We),Object.prototype.hasOwnProperty.call(y,M))return y[M];R(y)||(b=(y.constructor.name||"ObservableObject")+"@"+_()),b||(b="ObservableObject@"+_());var D=new Ki(y,new Map,V(b),E);return F(y,M,D),D}var po=Object.create(null),ho=Object.create(null);function yo(y){var b=y[M];return b||(Ie(y),y[M])}var Vo=U("ObservableObjectAdministration",Ki);function gn(y){return!!N(y)&&(Ie(y),Vo(y[M]))}function xn(y,b){if(typeof y=="object"&&y!==null){if(dn(y))return b!==void 0&&x(!1),y[M].atom;if(qt(y))return y[M];if(rn(y)){var E=y;return b===void 0?E._keysAtom:((D=E._data.get(b)||E._hasMap.get(b))||x(!1),D)}var D;if(Ie(y),b&&!y[M]&&y[b],gn(y))return b?((D=y[M].values.get(b))||x(!1),D):x(!1);if(H(y)||or(y)||uo(y))return y}else if(typeof y=="function"&&uo(y[M]))return y[M];return x(!1)}function Hr(y,b){return y||x("Expecting some object"),b!==void 0?Hr(xn(y,b)):H(y)||or(y)||uo(y)||rn(y)||qt(y)?y:(Ie(y),y[M]?y[M]:void x(!1))}var Zi=Object.prototype.toString;function Yo(y,b,E){return E===void 0&&(E=-1),function D(T,X,ie,Oe,Re){if(T===X)return T!==0||1/T==1/X;if(T==null||X==null)return!1;if(T!=T)return X!=X;var at=typeof T;if(at!=="function"&&at!=="object"&&typeof X!="object")return!1;var ot=Zi.call(T);if(ot!==Zi.call(X))return!1;switch(ot){case"[object RegExp]":case"[object String]":return""+T==""+X;case"[object Number]":return+T!=+T?+X!=+X:+T==0?1/+T==1/X:+T==+X;case"[object Date]":case"[object Boolean]":return+T==+X;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(T)===Symbol.valueOf.call(X);case"[object Map]":case"[object Set]":ie>=0&&ie++}T=Vn(T),X=Vn(X);var Et=ot==="[object Array]";if(!Et){if(typeof T!="object"||typeof X!="object")return!1;var bt=T.constructor,vt=X.constructor;if(bt!==vt&&!(typeof bt=="function"&&bt instanceof bt&&typeof vt=="function"&&vt instanceof vt)&&"constructor"in T&&"constructor"in X)return!1}if(ie===0)return!1;ie<0&&(ie=-1),Re=Re||[];for(var Pt=(Oe=Oe||[]).length;Pt--;)if(Oe[Pt]===T)return Re[Pt]===X;if(Oe.push(T),Re.push(X),Et){if((Pt=T.length)!==X.length)return!1;for(;Pt--;)if(!D(T[Pt],X[Pt],ie-1,Oe,Re))return!1}else{var jt=Object.keys(T),mt=void 0;if(Pt=jt.length,Object.keys(X).length!==Pt)return!1;for(;Pt--;)if(mt=jt[Pt],!Ur(X,mt)||!D(T[mt],X[mt],ie-1,Oe,Re))return!1}return Oe.pop(),Re.pop(),!0}(y,b,E)}function Vn(y){return dn(y)?y.slice():B(y)||rn(y)||Y(y)||qt(y)?Array.from(y.entries()):y}function Ur(y,b){return Object.prototype.hasOwnProperty.call(y,b)}function Gr(y){return y[Symbol.iterator]=uu,y}function uu(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ti,extras:{getDebugName:function(y,b){return(b!==void 0?xn(y,b):gn(y)||rn(y)||qt(y)?Hr(y):xn(y)).name}},$mobx:M})}).call(this,i(155),i(82))},function(c,p,i){i.d(p,"a",function(){return V}),i.d(p,"b",function(){return Z}),i.d(p,"c",function(){return We}),i.d(p,"d",function(){return lt}),i.d(p,"e",function(){return U}),i.d(p,"f",function(){return Y}),i.d(p,"g",function(){return U}),i.d(p,"h",function(){return Ae}),i.d(p,"i",function(){return s}),i.d(p,"j",function(){return Xe}),i.d(p,"k",function(){return q});var f,s,g,O,_,x,S,P={},A=[],N=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function R(J,Q){for(var ae in Q)J[ae]=Q[ae];return J}function F(J){var Q=J.parentNode;Q&&Q.removeChild(J)}function U(J,Q,ae){var ge,De,we,Ke={};for(we in Q)we=="key"?ge=Q[we]:we=="ref"?De=Q[we]:Ke[we]=Q[we];if(arguments.length>2&&(Ke.children=arguments.length>3?f.call(arguments,2):ae),typeof J=="function"&&J.defaultProps!=null)for(we in J.defaultProps)Ke[we]===void 0&&(Ke[we]=J.defaultProps[we]);return B(J,Ke,ge,De,null)}function B(J,Q,ae,ge,De){var we={type:J,props:Q,key:ae,ref:ge,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:De==null?++g:De};return De==null&&s.vnode!=null&&s.vnode(we),we}function Y(){return{current:null}}function Z(J){return J.children}function V(J,Q){this.props=J,this.context=Q}function C(J,Q){if(Q==null)return J.__?C(J.__,J.__.__k.indexOf(J)+1):null;for(var ae;Q<J.__k.length;Q++)if((ae=J.__k[Q])!=null&&ae.__e!=null)return ae.__e;return typeof J.type=="function"?C(J):null}function z(J){var Q,ae;if((J=J.__)!=null&&J.__c!=null){for(J.__e=J.__c.base=null,Q=0;Q<J.__k.length;Q++)if((ae=J.__k[Q])!=null&&ae.__e!=null){J.__e=J.__c.base=ae.__e;break}return z(J)}}function M(J){(!J.__d&&(J.__d=!0)&&O.push(J)&&!L.__r++||x!==s.debounceRendering)&&((x=s.debounceRendering)||_)(L)}function L(){for(var J;L.__r=O.length;)J=O.sort(function(Q,ae){return Q.__v.__b-ae.__v.__b}),O=[],J.some(function(Q){var ae,ge,De,we,Ke,Ve;Q.__d&&(Ke=(we=(ae=Q).__v).__e,(Ve=ae.__P)&&(ge=[],(De=R({},we)).__v=we.__v+1,pe(Ve,we,De,ae.__n,Ve.ownerSVGElement!==void 0,we.__h!=null?[Ke]:null,ge,Ke==null?C(we):Ke,we.__h),le(ge,we),we.__e!=Ke&&z(we)))})}function H(J,Q,ae,ge,De,we,Ke,Ve,et,$e){var ve,K,Fe,He,Ze,At,ut,ft=ge&&ge.__k||A,yt=ft.length;for(ae.__k=[],ve=0;ve<Q.length;ve++)if((He=ae.__k[ve]=(He=Q[ve])==null||typeof He=="boolean"?null:typeof He=="string"||typeof He=="number"||typeof He=="bigint"?B(null,He,null,null,He):Array.isArray(He)?B(Z,{children:He},null,null,null):He.__b>0?B(He.type,He.props,He.key,null,He.__v):He)!=null){if(He.__=ae,He.__b=ae.__b+1,(Fe=ft[ve])===null||Fe&&He.key==Fe.key&&He.type===Fe.type)ft[ve]=void 0;else for(K=0;K<yt;K++){if((Fe=ft[K])&&He.key==Fe.key&&He.type===Fe.type){ft[K]=void 0;break}Fe=null}pe(J,He,Fe=Fe||P,De,we,Ke,Ve,et,$e),Ze=He.__e,(K=He.ref)&&Fe.ref!=K&&(ut||(ut=[]),Fe.ref&&ut.push(Fe.ref,null,He),ut.push(K,He.__c||Ze,He)),Ze!=null?(At==null&&(At=Ze),typeof He.type=="function"&&He.__k===Fe.__k?He.__d=et=ee(He,et,J):et=ue(J,He,Fe,ft,Ze,et),typeof ae.type=="function"&&(ae.__d=et)):et&&Fe.__e==et&&et.parentNode!=J&&(et=C(Fe))}for(ae.__e=At,ve=yt;ve--;)ft[ve]!=null&&(typeof ae.type=="function"&&ft[ve].__e!=null&&ft[ve].__e==ae.__d&&(ae.__d=C(ge,ve+1)),Me(ft[ve],ft[ve]));if(ut)for(ve=0;ve<ut.length;ve++)xe(ut[ve],ut[++ve],ut[++ve])}function ee(J,Q,ae){for(var ge,De=J.__k,we=0;De&&we<De.length;we++)(ge=De[we])&&(ge.__=J,Q=typeof ge.type=="function"?ee(ge,Q,ae):ue(ae,ge,ge,De,ge.__e,Q));return Q}function q(J,Q){return Q=Q||[],J==null||typeof J=="boolean"||(Array.isArray(J)?J.some(function(ae){q(ae,Q)}):Q.push(J)),Q}function ue(J,Q,ae,ge,De,we){var Ke,Ve,et;if(Q.__d!==void 0)Ke=Q.__d,Q.__d=void 0;else if(ae==null||De!=we||De.parentNode==null)e:if(we==null||we.parentNode!==J)J.appendChild(De),Ke=null;else{for(Ve=we,et=0;(Ve=Ve.nextSibling)&&et<ge.length;et+=2)if(Ve==De)break e;J.insertBefore(De,we),Ke=we}return Ke!==void 0?Ke:De.nextSibling}function be(J,Q,ae){Q[0]==="-"?J.setProperty(Q,ae):J[Q]=ae==null?"":typeof ae!="number"||N.test(Q)?ae:ae+"px"}function me(J,Q,ae,ge,De){var we;e:if(Q==="style")if(typeof ae=="string")J.style.cssText=ae;else{if(typeof ge=="string"&&(J.style.cssText=ge=""),ge)for(Q in ge)ae&&Q in ae||be(J.style,Q,"");if(ae)for(Q in ae)ge&&ae[Q]===ge[Q]||be(J.style,Q,ae[Q])}else if(Q[0]==="o"&&Q[1]==="n")we=Q!==(Q=Q.replace(/Capture$/,"")),Q=Q.toLowerCase()in J?Q.toLowerCase().slice(2):Q.slice(2),J.l||(J.l={}),J.l[Q+we]=ae,ae?ge||J.addEventListener(Q,we?ye:he,we):J.removeEventListener(Q,we?ye:he,we);else if(Q!=="dangerouslySetInnerHTML"){if(De)Q=Q.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Q!=="href"&&Q!=="list"&&Q!=="form"&&Q!=="tabIndex"&&Q!=="download"&&Q in J)try{J[Q]=ae==null?"":ae;break e}catch(Ke){}typeof ae=="function"||(ae!=null&&(ae!==!1||Q[0]==="a"&&Q[1]==="r")?J.setAttribute(Q,ae):J.removeAttribute(Q))}}function he(J){this.l[J.type+!1](s.event?s.event(J):J)}function ye(J){this.l[J.type+!0](s.event?s.event(J):J)}function pe(J,Q,ae,ge,De,we,Ke,Ve,et){var $e,ve,K,Fe,He,Ze,At,ut,ft,yt,Rt,G=Q.type;if(Q.constructor!==void 0)return null;ae.__h!=null&&(et=ae.__h,Ve=Q.__e=ae.__e,Q.__h=null,we=[Ve]),($e=s.__b)&&$e(Q);try{e:if(typeof G=="function"){if(ut=Q.props,ft=($e=G.contextType)&&ge[$e.__c],yt=$e?ft?ft.props.value:$e.__:ge,ae.__c?At=(ve=Q.__c=ae.__c).__=ve.__E:("prototype"in G&&G.prototype.render?Q.__c=ve=new G(ut,yt):(Q.__c=ve=new V(ut,yt),ve.constructor=G,ve.render=Ie),ft&&ft.sub(ve),ve.props=ut,ve.state||(ve.state={}),ve.context=yt,ve.__n=ge,K=ve.__d=!0,ve.__h=[]),ve.__s==null&&(ve.__s=ve.state),G.getDerivedStateFromProps!=null&&(ve.__s==ve.state&&(ve.__s=R({},ve.__s)),R(ve.__s,G.getDerivedStateFromProps(ut,ve.__s))),Fe=ve.props,He=ve.state,K)G.getDerivedStateFromProps==null&&ve.componentWillMount!=null&&ve.componentWillMount(),ve.componentDidMount!=null&&ve.__h.push(ve.componentDidMount);else{if(G.getDerivedStateFromProps==null&&ut!==Fe&&ve.componentWillReceiveProps!=null&&ve.componentWillReceiveProps(ut,yt),!ve.__e&&ve.shouldComponentUpdate!=null&&ve.shouldComponentUpdate(ut,ve.__s,yt)===!1||Q.__v===ae.__v){ve.props=ut,ve.state=ve.__s,Q.__v!==ae.__v&&(ve.__d=!1),ve.__v=Q,Q.__e=ae.__e,Q.__k=ae.__k,Q.__k.forEach(function(te){te&&(te.__=Q)}),ve.__h.length&&Ke.push(ve);break e}ve.componentWillUpdate!=null&&ve.componentWillUpdate(ut,ve.__s,yt),ve.componentDidUpdate!=null&&ve.__h.push(function(){ve.componentDidUpdate(Fe,He,Ze)})}ve.context=yt,ve.props=ut,ve.state=ve.__s,($e=s.__r)&&$e(Q),ve.__d=!1,ve.__v=Q,ve.__P=J,$e=ve.render(ve.props,ve.state,ve.context),ve.state=ve.__s,ve.getChildContext!=null&&(ge=R(R({},ge),ve.getChildContext())),K||ve.getSnapshotBeforeUpdate==null||(Ze=ve.getSnapshotBeforeUpdate(Fe,He)),Rt=$e!=null&&$e.type===Z&&$e.key==null?$e.props.children:$e,H(J,Array.isArray(Rt)?Rt:[Rt],Q,ae,ge,De,we,Ke,Ve,et),ve.base=Q.__e,Q.__h=null,ve.__h.length&&Ke.push(ve),At&&(ve.__E=ve.__=null),ve.__e=!1}else we==null&&Q.__v===ae.__v?(Q.__k=ae.__k,Q.__e=ae.__e):Q.__e=_e(ae.__e,Q,ae,ge,De,we,Ke,et);($e=s.diffed)&&$e(Q)}catch(te){Q.__v=null,(et||we!=null)&&(Q.__e=Ve,Q.__h=!!et,we[we.indexOf(Ve)]=null),s.__e(te,Q,ae)}}function le(J,Q){s.__c&&s.__c(Q,J),J.some(function(ae){try{J=ae.__h,ae.__h=[],J.some(function(ge){ge.call(ae)})}catch(ge){s.__e(ge,ae.__v)}})}function _e(J,Q,ae,ge,De,we,Ke,Ve){var et,$e,ve,K=ae.props,Fe=Q.props,He=Q.type,Ze=0;if(He==="svg"&&(De=!0),we!=null){for(;Ze<we.length;Ze++)if((et=we[Ze])&&"setAttribute"in et==!!He&&(He?et.localName===He:et.nodeType===3)){J=et,we[Ze]=null;break}}if(J==null){if(He===null)return document.createTextNode(Fe);J=De?document.createElementNS("http://www.w3.org/2000/svg",He):document.createElement(He,Fe.is&&Fe),we=null,Ve=!1}if(He===null)K===Fe||Ve&&J.data===Fe||(J.data=Fe);else{if(we=we&&f.call(J.childNodes),$e=(K=ae.props||P).dangerouslySetInnerHTML,ve=Fe.dangerouslySetInnerHTML,!Ve){if(we!=null)for(K={},Ze=0;Ze<J.attributes.length;Ze++)K[J.attributes[Ze].name]=J.attributes[Ze].value;(ve||$e)&&(ve&&($e&&ve.__html==$e.__html||ve.__html===J.innerHTML)||(J.innerHTML=ve&&ve.__html||""))}if(function(At,ut,ft,yt,Rt){var G;for(G in ft)G==="children"||G==="key"||G in ut||me(At,G,null,ft[G],yt);for(G in ut)Rt&&typeof ut[G]!="function"||G==="children"||G==="key"||G==="value"||G==="checked"||ft[G]===ut[G]||me(At,G,ut[G],ft[G],yt)}(J,Fe,K,De,Ve),ve)Q.__k=[];else if(Ze=Q.props.children,H(J,Array.isArray(Ze)?Ze:[Ze],Q,ae,ge,De&&He!=="foreignObject",we,Ke,we?we[0]:ae.__k&&C(ae,0),Ve),we!=null)for(Ze=we.length;Ze--;)we[Ze]!=null&&F(we[Ze]);Ve||("value"in Fe&&(Ze=Fe.value)!==void 0&&(Ze!==K.value||Ze!==J.value||He==="progress"&&!Ze)&&me(J,"value",Ze,K.value,!1),"checked"in Fe&&(Ze=Fe.checked)!==void 0&&Ze!==J.checked&&me(J,"checked",Ze,K.checked,!1))}return J}function xe(J,Q,ae){try{typeof J=="function"?J(Q):J.current=Q}catch(ge){s.__e(ge,ae)}}function Me(J,Q,ae){var ge,De;if(s.unmount&&s.unmount(J),(ge=J.ref)&&(ge.current&&ge.current!==J.__e||xe(ge,null,Q)),(ge=J.__c)!=null){if(ge.componentWillUnmount)try{ge.componentWillUnmount()}catch(we){s.__e(we,Q)}ge.base=ge.__P=null}if(ge=J.__k)for(De=0;De<ge.length;De++)ge[De]&&Me(ge[De],Q,typeof J.type!="function");ae||J.__e==null||F(J.__e),J.__e=J.__d=void 0}function Ie(J,Q,ae){return this.constructor(J,ae)}function Xe(J,Q,ae){var ge,De,we;s.__&&s.__(J,Q),De=(ge=typeof ae=="function")?null:ae&&ae.__k||Q.__k,we=[],pe(Q,J=(!ge&&ae||Q).__k=U(Z,null,[J]),De||P,P,Q.ownerSVGElement!==void 0,!ge&&ae?[ae]:De?null:Q.firstChild?f.call(Q.childNodes):null,we,!ge&&ae?ae:De?De.__e:Q.firstChild,ge),le(we,J)}function Ae(J,Q){Xe(J,Q,Ae)}function We(J,Q,ae){var ge,De,we,Ke=R({},J.props);for(we in Q)we=="key"?ge=Q[we]:we=="ref"?De=Q[we]:Ke[we]=Q[we];return arguments.length>2&&(Ke.children=arguments.length>3?f.call(arguments,2):ae),B(J.type,Ke,ge||J.key,De||J.ref,null)}function lt(J,Q){var ae={__c:Q="__cC"+S++,__:J,Consumer:function(ge,De){return ge.children(De)},Provider:function(ge){var De,we;return this.getChildContext||(De=[],(we={})[Q]=this,this.getChildContext=function(){return we},this.shouldComponentUpdate=function(Ke){this.props.value!==Ke.value&&De.some(M)},this.sub=function(Ke){De.push(Ke);var Ve=Ke.componentWillUnmount;Ke.componentWillUnmount=function(){De.splice(De.indexOf(Ke),1),Ve&&Ve.call(Ke)}}),ge.children}};return ae.Provider.__=ae.Consumer.contextType=ae}f=A.slice,s={__e:function(J,Q){for(var ae,ge,De;Q=Q.__;)if((ae=Q.__c)&&!ae.__)try{if((ge=ae.constructor)&&ge.getDerivedStateFromError!=null&&(ae.setState(ge.getDerivedStateFromError(J)),De=ae.__d),ae.componentDidCatch!=null&&(ae.componentDidCatch(J),De=ae.__d),De)return ae.__E=ae}catch(we){J=we}throw J}},g=0,V.prototype.setState=function(J,Q){var ae;ae=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=R({},this.state),typeof J=="function"&&(J=J(R({},ae),this.props)),J&&R(ae,J),J!=null&&this.__v&&(Q&&this.__h.push(Q),M(this))},V.prototype.forceUpdate=function(J){this.__v&&(this.__e=!0,J&&this.__h.push(J),M(this))},V.prototype.render=Z,O=[],_=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,S=0},function(c,p,i){var f=i(116),s=i(44),g=i(178);f||s(Object.prototype,"toString",g,{unsafe:!0})},function(c,p,i){var f=i(39),s=i(83),g=i(70),O=i(56),_=i(111),x=O.set,S=O.getterFor("Array Iterator");c.exports=_(Array,"Array",function(P,A){x(this,{type:"Array Iterator",target:f(P),index:0,kind:A})},function(){var P=S(this),A=P.target,N=P.kind,R=P.index++;return!A||R>=A.length?(P.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:R,done:!1}:N=="values"?{value:A[R],done:!1}:{value:[R,A[R]],done:!1}},"values"),g.Arguments=g.Array,s("keys"),s("values"),s("entries")},function(c,p,i){var f=i(7),s=i(147),g=i(148),O=i(3),_=i(57),x=i(27),S=x("iterator"),P=x("toStringTag"),A=O.values,N=function(F,U){if(F){if(F[S]!==A)try{_(F,S,A)}catch(Y){F[S]=A}if(F[P]||_(F,P,U),s[U]){for(var B in O)if(F[B]!==O[B])try{_(F,B,O[B])}catch(Y){F[B]=O[B]}}}};for(var R in s)N(f[R]&&f[R].prototype,R);N(g,"DOMTokenList")},function(c,p,i){var f=i(16),s=i(7),g=i(46),O=i(76),_=i(35),x=i(15),S=i(64),P=i(36),A=i(109),N=i(18),R=i(34),F=i(99),U=i(28),B=i(33),Y=i(58),Z=i(88),V=i(32),C=i(38),z=i(39),M=i(87),L=i(40),H=i(71),ee=i(54),q=i(66),ue=i(72),be=i(139),me=i(112),he=i(51),ye=i(37),pe=i(93),le=i(101),_e=i(44),xe=i(84),Me=i(91),Ie=i(69),Xe=i(85),Ae=i(27),We=i(149),lt=i(150),J=i(73),Q=i(56),ae=i(74).forEach,ge=Me("hidden"),De=Ae("toPrimitive"),we=Q.set,Ke=Q.getterFor("Symbol"),Ve=Object.prototype,et=s.Symbol,$e=et&&et.prototype,ve=s.TypeError,K=s.QObject,Fe=g("JSON","stringify"),He=he.f,Ze=ye.f,At=be.f,ut=pe.f,ft=x([].push),yt=xe("symbols"),Rt=xe("op-symbols"),G=xe("string-to-symbol-registry"),te=xe("symbol-to-string-registry"),fe=xe("wks"),ne=!K||!K.prototype||!K.prototype.findChild,Se=P&&N(function(){return ee(Ze({},"a",{get:function(){return Ze(this,"a",{value:7}).a}})).a!=7})?function(Ce,Ye,Qe){var nt=He(Ve,Ye);nt&&delete Ve[Ye],Ze(Ce,Ye,Qe),nt&&Ce!==Ve&&Ze(Ve,Ye,nt)}:Ze,Pe=function(Ce,Ye){var Qe=yt[Ce]=ee($e);return we(Qe,{type:"Symbol",tag:Ce,description:Ye}),P||(Qe.description=Ye),Qe},Te=function(Ce,Ye,Qe){Ce===Ve&&Te(Rt,Ye,Qe),V(Ce);var nt=M(Ye);return V(Qe),R(yt,nt)?(Qe.enumerable?(R(Ce,ge)&&Ce[ge][nt]&&(Ce[ge][nt]=!1),Qe=ee(Qe,{enumerable:H(0,!1)})):(R(Ce,ge)||Ze(Ce,ge,H(1,{})),Ce[ge][nt]=!0),Se(Ce,nt,Qe)):Ze(Ce,nt,Qe)},Ge=function(Ce,Ye){V(Ce);var Qe=z(Ye),nt=q(Qe).concat(en(Qe));return ae(nt,function(xt){P&&!_(gt,Qe,xt)||Te(Ce,xt,Qe[xt])}),Ce},gt=function(Ce){var Ye=M(Ce),Qe=_(ut,this,Ye);return!(this===Ve&&R(yt,Ye)&&!R(Rt,Ye))&&(!(Qe||!R(this,Ye)||!R(yt,Ye)||R(this,ge)&&this[ge][Ye])||Qe)},wt=function(Ce,Ye){var Qe=z(Ce),nt=M(Ye);if(Qe!==Ve||!R(yt,nt)||R(Rt,nt)){var xt=He(Qe,nt);return!xt||!R(yt,nt)||R(Qe,ge)&&Qe[ge][nt]||(xt.enumerable=!0),xt}},Zt=function(Ce){var Ye=At(z(Ce)),Qe=[];return ae(Ye,function(nt){R(yt,nt)||R(Ie,nt)||ft(Qe,nt)}),Qe},en=function(Ce){var Ye=Ce===Ve,Qe=At(Ye?Rt:z(Ce)),nt=[];return ae(Qe,function(xt){!R(yt,xt)||Ye&&!R(Ve,xt)||ft(nt,yt[xt])}),nt};if(A||(_e($e=(et=function(){if(Y($e,this))throw ve("Symbol is not a constructor");var Ce=arguments.length&&arguments[0]!==void 0?L(arguments[0]):void 0,Ye=Xe(Ce),Qe=function(nt){this===Ve&&_(Qe,Rt,nt),R(this,ge)&&R(this[ge],Ye)&&(this[ge][Ye]=!1),Se(this,Ye,H(1,nt))};return P&&ne&&Se(Ve,Ye,{configurable:!0,set:Qe}),Pe(Ye,Ce)}).prototype,"toString",function(){return Ke(this).tag}),_e(et,"withoutSetter",function(Ce){return Pe(Xe(Ce),Ce)}),pe.f=gt,ye.f=Te,he.f=wt,ue.f=be.f=Zt,me.f=en,We.f=function(Ce){return Pe(Ae(Ce),Ce)},P&&(Ze($e,"description",{configurable:!0,get:function(){return Ke(this).description}}),S||_e(Ve,"propertyIsEnumerable",gt,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!A,sham:!A},{Symbol:et}),ae(q(fe),function(Ce){lt(Ce)}),f({target:"Symbol",stat:!0,forced:!A},{for:function(Ce){var Ye=L(Ce);if(R(G,Ye))return G[Ye];var Qe=et(Ye);return G[Ye]=Qe,te[Qe]=Ye,Qe},keyFor:function(Ce){if(!Z(Ce))throw ve(Ce+" is not a symbol");if(R(te,Ce))return te[Ce]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),f({target:"Object",stat:!0,forced:!A,sham:!P},{create:function(Ce,Ye){return Ye===void 0?ee(Ce):Ge(ee(Ce),Ye)},defineProperty:Te,defineProperties:Ge,getOwnPropertyDescriptor:wt}),f({target:"Object",stat:!0,forced:!A},{getOwnPropertyNames:Zt,getOwnPropertySymbols:en}),f({target:"Object",stat:!0,forced:N(function(){me.f(1)})},{getOwnPropertySymbols:function(Ce){return me.f(C(Ce))}}),Fe&&f({target:"JSON",stat:!0,forced:!A||N(function(){var Ce=et();return Fe([Ce])!="[null]"||Fe({a:Ce})!="{}"||Fe(Object(Ce))!="{}"})},{stringify:function(Ce,Ye,Qe){var nt=le(arguments),xt=Ye;if((B(Ye)||Ce!==void 0)&&!Z(Ce))return F(Ye)||(Ye=function(Tt,tn){if(U(xt)&&(tn=_(xt,this,Tt,tn)),!Z(tn))return tn}),nt[1]=Ye,O(Fe,null,nt)}}),!$e[De]){var st=$e.valueOf;_e($e,De,function(Ce){return _(st,this)})}J(et,"Symbol"),Ie[ge]=!0},function(c,p,i){var f=i(146).charAt,s=i(40),g=i(56),O=i(111),_=g.set,x=g.getterFor("String Iterator");O(String,"String",function(S){_(this,{type:"String Iterator",string:s(S),index:0})},function(){var S,P=x(this),A=P.string,N=P.index;return N>=A.length?{value:void 0,done:!0}:(S=f(A,N),P.index+=S.length,{value:S,done:!1})})},function(c,p,i){(function(f){var s=function(g){return g&&g.Math==Math&&g};c.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,i(82))},function(c,p,i){var f=i(16),s=i(36),g=i(7),O=i(15),_=i(34),x=i(28),S=i(58),P=i(40),A=i(37).f,N=i(134),R=g.Symbol,F=R&&R.prototype;if(s&&x(R)&&(!("description"in F)||R().description!==void 0)){var U={},B=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:P(arguments[0]),H=S(F,this)?new R(L):L===void 0?R():R(L);return L===""&&(U[H]=!0),H};N(B,R),B.prototype=F,F.constructor=B;var Y=String(R("test"))=="Symbol(test)",Z=O(F.toString),V=O(F.valueOf),C=/^Symbol\((.*)\)[^)]+$/,z=O("".replace),M=O("".slice);A(F,"description",{configurable:!0,get:function(){var L=V(this),H=Z(L);if(_(U,L))return"";var ee=Y?M(H,7,-1):z(H,C,"$1");return ee===""?void 0:ee}}),f({global:!0,forced:!0},{Symbol:B})}},function(c,p,i){i(150)("iterator")},function(c,p,i){i.d(p,"a",function(){return O.a}),i.d(p,"c",function(){return O.e}),i.d(p,"h",function(){return C}),i.d(p,"i",function(){return Y}),i.d(p,"j",function(){return U}),i.d(p,"b",function(){return he}),i.d(p,"e",function(){return _e}),i.d(p,"f",function(){return ye}),i.d(p,"g",function(){return ft});var f,s,g,O=i(1),_=0,x=[],S=O.i.__b,P=O.i.__r,A=O.i.diffed,N=O.i.__c,R=O.i.unmount;function F(G,te){O.i.__h&&O.i.__h(s,G,_||te),_=0;var fe=s.__H||(s.__H={__:[],__h:[]});return G>=fe.__.length&&fe.__.push({}),fe.__[G]}function U(G){return _=1,B(ue,G)}function B(G,te,fe){var ne=F(f++,2);return ne.t=G,ne.__c||(ne.__=[fe?fe(te):ue(void 0,te),function(Se){var Pe=ne.t(ne.__[0],Se);ne.__[0]!==Pe&&(ne.__=[Pe,ne.__[1]],ne.__c.setState({}))}],ne.__c=s),ne.__}function Y(G,te){var fe=F(f++,3);!O.i.__s&&q(fe.__H,te)&&(fe.__=G,fe.__H=te,s.__H.__h.push(fe))}function Z(G,te){var fe=F(f++,4);!O.i.__s&&q(fe.__H,te)&&(fe.__=G,fe.__H=te,s.__h.push(fe))}function V(G,te){var fe=F(f++,7);return q(fe.__H,te)&&(fe.__=G(),fe.__H=te,fe.__h=G),fe.__}function C(G,te){return _=8,V(function(){return G},te)}function z(){var G;for(x.sort(function(te,fe){return te.__v.__b-fe.__v.__b});G=x.pop();)if(G.__P)try{G.__H.__h.forEach(H),G.__H.__h.forEach(ee),G.__H.__h=[]}catch(te){G.__H.__h=[],O.i.__e(te,G.__v)}}O.i.__b=function(G){s=null,S&&S(G)},O.i.__r=function(G){P&&P(G),f=0;var te=(s=G.__c).__H;te&&(te.__h.forEach(H),te.__h.forEach(ee),te.__h=[])},O.i.diffed=function(G){A&&A(G);var te=G.__c;te&&te.__H&&te.__H.__h.length&&(x.push(te)!==1&&g===O.i.requestAnimationFrame||((g=O.i.requestAnimationFrame)||L)(z)),s=null},O.i.__c=function(G,te){te.some(function(fe){try{fe.__h.forEach(H),fe.__h=fe.__h.filter(function(ne){return!ne.__||ee(ne)})}catch(ne){te.some(function(Se){Se.__h&&(Se.__h=[])}),te=[],O.i.__e(ne,fe.__v)}}),N&&N(G,te)},O.i.unmount=function(G){R&&R(G);var te,fe=G.__c;fe&&fe.__H&&(fe.__H.__.forEach(function(ne){try{H(ne)}catch(Se){te=Se}}),te&&O.i.__e(te,fe.__v))};var M=typeof requestAnimationFrame=="function";function L(G){var te,fe=function(){clearTimeout(ne),M&&cancelAnimationFrame(te),setTimeout(G)},ne=setTimeout(fe,100);M&&(te=requestAnimationFrame(fe))}function H(G){var te=s,fe=G.__c;typeof fe=="function"&&(G.__c=void 0,fe()),s=te}function ee(G){var te=s;G.__c=G.__(),s=te}function q(G,te){return!G||G.length!==te.length||te.some(function(fe,ne){return fe!==G[ne]})}function ue(G,te){return typeof te=="function"?te(G):te}function be(G,te){for(var fe in te)G[fe]=te[fe];return G}function me(G,te){for(var fe in G)if(fe!=="__source"&&!(fe in te))return!0;for(var ne in te)if(ne!=="__source"&&G[ne]!==te[ne])return!0;return!1}function he(G){this.props=G}function ye(G,te){function fe(Se){var Pe=this.props.ref,Te=Pe==Se.ref;return!Te&&Pe&&(Pe.call?Pe(null):Pe.current=null),te?!te(this.props,Se)||!Te:me(this.props,Se)}function ne(Se){return this.shouldComponentUpdate=fe,Object(O.e)(G,Se)}return ne.displayName="Memo("+(G.displayName||G.name)+")",ne.prototype.isReactComponent=!0,ne.__f=!0,ne}(he.prototype=new O.a).isPureReactComponent=!0,he.prototype.shouldComponentUpdate=function(G,te){return me(this.props,G)||me(this.state,te)};var pe=O.i.__b;O.i.__b=function(G){G.type&&G.type.__f&&G.ref&&(G.props.ref=G.ref,G.ref=null),pe&&pe(G)};var le=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function _e(G){function te(fe,ne){var Se=be({},fe);return delete Se.ref,G(Se,!(ne=fe.ref||ne)||typeof ne=="object"&&!("current"in ne)?null:ne)}return te.$$typeof=le,te.render=te,te.prototype.isReactComponent=te.__f=!0,te.displayName="ForwardRef("+(G.displayName||G.name)+")",te}var xe=function(G,te){return G==null?null:Object(O.k)(Object(O.k)(G).map(te))},Me={map:xe,forEach:xe,count:function(G){return G?Object(O.k)(G).length:0},only:function(G){var te=Object(O.k)(G);if(te.length!==1)throw"Children.only";return te[0]},toArray:O.k},Ie=O.i.__e;O.i.__e=function(G,te,fe){if(G.then){for(var ne,Se=te;Se=Se.__;)if((ne=Se.__c)&&ne.__c)return te.__e==null&&(te.__e=fe.__e,te.__k=fe.__k),ne.__c(G,te)}Ie(G,te,fe)};var Xe=O.i.unmount;function Ae(){this.__u=0,this.t=null,this.__b=null}function We(G){var te=G.__.__c;return te&&te.__e&&te.__e(G)}function lt(){this.u=null,this.o=null}O.i.unmount=function(G){var te=G.__c;te&&te.__R&&te.__R(),te&&G.__h===!0&&(G.type=null),Xe&&Xe(G)},(Ae.prototype=new O.a).__c=function(G,te){var fe=te.__c,ne=this;ne.t==null&&(ne.t=[]),ne.t.push(fe);var Se=We(ne.__v),Pe=!1,Te=function(){Pe||(Pe=!0,fe.__R=null,Se?Se(Ge):Ge())};fe.__R=Te;var Ge=function(){if(!--ne.__u){if(ne.state.__e){var wt=ne.state.__e;ne.__v.__k[0]=function en(st,Ce,Ye){return st&&(st.__v=null,st.__k=st.__k&&st.__k.map(function(Qe){return en(Qe,Ce,Ye)}),st.__c&&st.__c.__P===Ce&&(st.__e&&Ye.insertBefore(st.__e,st.__d),st.__c.__e=!0,st.__c.__P=Ye)),st}(wt,wt.__c.__P,wt.__c.__O)}var Zt;for(ne.setState({__e:ne.__b=null});Zt=ne.t.pop();)Zt.forceUpdate()}},gt=te.__h===!0;ne.__u++||gt||ne.setState({__e:ne.__b=ne.__v.__k[0]}),G.then(Te,Te)},Ae.prototype.componentWillUnmount=function(){this.t=[]},Ae.prototype.render=function(G,te){if(this.__b){if(this.__v.__k){var fe=document.createElement("div"),ne=this.__v.__k[0].__c;this.__v.__k[0]=function Pe(Te,Ge,gt){return Te&&(Te.__c&&Te.__c.__H&&(Te.__c.__H.__.forEach(function(wt){typeof wt.__c=="function"&&wt.__c()}),Te.__c.__H=null),(Te=be({},Te)).__c!=null&&(Te.__c.__P===gt&&(Te.__c.__P=Ge),Te.__c=null),Te.__k=Te.__k&&Te.__k.map(function(wt){return Pe(wt,Ge,gt)})),Te}(this.__b,fe,ne.__O=ne.__P)}this.__b=null}var Se=te.__e&&Object(O.e)(O.b,null,G.fallback);return Se&&(Se.__h=null),[Object(O.e)(O.b,null,te.__e?null:G.children),Se]};var J=function(G,te,fe){if(++fe[1]===fe[0]&&G.o.delete(te),G.props.revealOrder&&(G.props.revealOrder[0]!=="t"||!G.o.size))for(fe=G.u;fe;){for(;fe.length>3;)fe.pop()();if(fe[1]<fe[0])break;G.u=fe=fe[2]}};function Q(G){return this.getChildContext=function(){return G.context},G.children}function ae(G){var te=this,fe=G.i;te.componentWillUnmount=function(){Object(O.j)(null,te.l),te.l=null,te.i=null},te.i&&te.i!==fe&&te.componentWillUnmount(),G.__v?(te.l||(te.i=fe,te.l={nodeType:1,parentNode:fe,childNodes:[],appendChild:function(ne){this.childNodes.push(ne),te.i.appendChild(ne)},insertBefore:function(ne,Se){this.childNodes.push(ne),te.i.appendChild(ne)},removeChild:function(ne){this.childNodes.splice(this.childNodes.indexOf(ne)>>>1,1),te.i.removeChild(ne)}}),Object(O.j)(Object(O.e)(Q,{context:te.context},G.__v),te.l)):te.l&&te.componentWillUnmount()}(lt.prototype=new O.a).__e=function(G){var te=this,fe=We(te.__v),ne=te.o.get(G);return ne[0]++,function(Se){var Pe=function(){te.props.revealOrder?(ne.push(Se),J(te,G,ne)):Se()};fe?fe(Pe):Pe()}},lt.prototype.render=function(G){this.u=null,this.o=new Map;var te=Object(O.k)(G.children);G.revealOrder&&G.revealOrder[0]==="b"&&te.reverse();for(var fe=te.length;fe--;)this.o.set(te[fe],this.u=[1,0,this.u]);return G.children},lt.prototype.componentDidUpdate=lt.prototype.componentDidMount=function(){var G=this;this.o.forEach(function(te,fe){J(G,fe,te)})};var ge=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,De=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,we=typeof document!="undefined",Ke=function(G){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(G)};O.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(G){Object.defineProperty(O.a.prototype,G,{configurable:!0,get:function(){return this["UNSAFE_"+G]},set:function(te){Object.defineProperty(this,G,{configurable:!0,writable:!0,value:te})}})});var Ve=O.i.event;function et(){}function $e(){return this.cancelBubble}function ve(){return this.defaultPrevented}O.i.event=function(G){return Ve&&(G=Ve(G)),G.persist=et,G.isPropagationStopped=$e,G.isDefaultPrevented=ve,G.nativeEvent=G};var K,Fe={configurable:!0,get:function(){return this.class}},He=O.i.vnode;O.i.vnode=function(G){var te=G.type,fe=G.props,ne=fe;if(typeof te=="string"){var Se=te.indexOf("-")===-1;for(var Pe in ne={},fe){var Te=fe[Pe];we&&Pe==="children"&&te==="noscript"||Pe==="value"&&"defaultValue"in fe&&Te==null||(Pe==="defaultValue"&&"value"in fe&&fe.value==null?Pe="value":Pe==="download"&&Te===!0?Te="":/ondoubleclick/i.test(Pe)?Pe="ondblclick":/^onchange(textarea|input)/i.test(Pe+te)&&!Ke(fe.type)?Pe="oninput":/^onfocus$/i.test(Pe)?Pe="onfocusin":/^onblur$/i.test(Pe)?Pe="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Pe)?Pe=Pe.toLowerCase():Se&&De.test(Pe)?Pe=Pe.replace(/[A-Z0-9]/,"-$&").toLowerCase():Te===null&&(Te=void 0),ne[Pe]=Te)}te=="select"&&ne.multiple&&Array.isArray(ne.value)&&(ne.value=Object(O.k)(fe.children).forEach(function(Ge){Ge.props.selected=ne.value.indexOf(Ge.props.value)!=-1})),te=="select"&&ne.defaultValue!=null&&(ne.value=Object(O.k)(fe.children).forEach(function(Ge){Ge.props.selected=ne.multiple?ne.defaultValue.indexOf(Ge.props.value)!=-1:ne.defaultValue==Ge.props.value})),G.props=ne,fe.class!=fe.className&&(Fe.enumerable="className"in fe,fe.className!=null&&(ne.class=fe.className),Object.defineProperty(ne,"className",Fe))}G.$$typeof=ge,He&&He(G)};var Ze=O.i.__r;O.i.__r=function(G){Ze&&Ze(G),K=G.__c};var At={ReactCurrentDispatcher:{current:{readContext:function(G){return K.__n[G.__c].props.value}}}};function ut(G){return!!G&&G.$$typeof===ge}var ft=function(G,te){return G(te)},yt=O.b,Rt={useState:U,useReducer:B,useEffect:Y,useLayoutEffect:Z,useRef:function(G){return _=5,V(function(){return{current:G}},[])},useImperativeHandle:function(G,te,fe){_=6,Z(function(){typeof G=="function"?G(te()):G&&(G.current=te())},fe==null?fe:fe.concat(G))},useMemo:V,useCallback:C,useContext:function(G){var te=s.context[G.__c],fe=F(f++,9);return fe.c=G,te?(fe.__==null&&(fe.__=!0,te.sub(s)),te.props.value):G.__},useDebugValue:function(G,te){O.i.useDebugValue&&O.i.useDebugValue(te?te(G):G)},version:"17.0.2",Children:Me,render:function(G,te,fe){return te.__k==null&&(te.textContent=""),Object(O.j)(G,te),typeof fe=="function"&&fe(),G?G.__c:null},hydrate:function(G,te,fe){return Object(O.h)(G,te),typeof fe=="function"&&fe(),G?G.__c:null},unmountComponentAtNode:function(G){return!!G.__k&&(Object(O.j)(null,G),!0)},createPortal:function(G,te){return Object(O.e)(ae,{__v:G,i:te})},createElement:O.e,createContext:O.d,createFactory:function(G){return O.e.bind(null,G)},cloneElement:function(G){return ut(G)?O.c.apply(null,arguments):G},createRef:O.f,Fragment:O.b,isValidElement:ut,findDOMNode:function(G){return G&&(G.base||G.nodeType===1&&G)||null},Component:O.a,PureComponent:he,memo:ye,forwardRef:_e,flushSync:function(G,te){return G(te)},unstable_batchedUpdates:ft,StrictMode:yt,Suspense:Ae,SuspenseList:lt,lazy:function(G){var te,fe,ne;function Se(Pe){if(te||(te=G()).then(function(Te){fe=Te.default||Te},function(Te){ne=Te}),ne)throw ne;if(!fe)throw te;return Object(O.e)(fe,Pe)}return Se.displayName="Lazy",Se.__f=!0,Se},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:At};p.d=Rt},function(c,p,i){var f=i(7),s=i(147),g=i(148),O=i(179),_=i(57),x=function(P){if(P&&P.forEach!==O)try{_(P,"forEach",O)}catch(A){P.forEach=O}};for(var S in s)s[S]&&x(f[S]&&f[S].prototype);x(g)},function(c,p,i){i(16)({target:"Object",stat:!0},{setPrototypeOf:i(97)})},function(c,p,i){var f=i(16),s=i(18),g=i(38),O=i(96),_=i(137);f({target:"Object",stat:!0,forced:s(function(){O(1)}),sham:!_},{getPrototypeOf:function(x){return O(g(x))}})},function(c,p,i){var f=i(16),s=i(46),g=i(76),O=i(198),_=i(157),x=i(32),S=i(33),P=i(54),A=i(18),N=s("Reflect","construct"),R=Object.prototype,F=[].push,U=A(function(){function Z(){}return!(N(function(){},[],Z)instanceof Z)}),B=!A(function(){N(function(){})}),Y=U||B;f({target:"Reflect",stat:!0,forced:Y,sham:Y},{construct:function(Z,V){_(Z),x(V);var C=arguments.length<3?Z:_(arguments[2]);if(B&&!U)return N(Z,V,C);if(Z==C){switch(V.length){case 0:return new Z;case 1:return new Z(V[0]);case 2:return new Z(V[0],V[1]);case 3:return new Z(V[0],V[1],V[2]);case 4:return new Z(V[0],V[1],V[2],V[3])}var z=[null];return g(F,z,V),new(g(O,Z,z))}var M=C.prototype,L=P(S(M)?M:R),H=g(Z,L,V);return S(H)?H:L}})},function(c,p){var i=Function.prototype,f=i.bind,s=i.call,g=f&&f.bind(s);c.exports=f?function(O){return O&&g(s,O)}:function(O){return O&&function(){return s.apply(O,arguments)}}},function(c,p,i){var f=i(7),s=i(51).f,g=i(57),O=i(44),_=i(108),x=i(134),S=i(95);c.exports=function(P,A){var N,R,F,U,B,Y=P.target,Z=P.global,V=P.stat;if(N=Z?f:V?f[Y]||_(Y,{}):(f[Y]||{}).prototype)for(R in A){if(U=A[R],F=P.noTargetGet?(B=s(N,R))&&B.value:N[R],!S(Z?R:Y+(V?".":"#")+R,P.forced)&&F!==void 0){if(typeof U==typeof F)continue;x(U,F)}(P.sham||F&&F.sham)&&g(U,"sham",!0),O(N,R,U,P)}}},function(c,p,i){var f=i(16),s=i(7),g=i(99),O=i(100),_=i(33),x=i(67),S=i(43),P=i(39),A=i(61),N=i(27),R=i(75),F=i(101),U=R("slice"),B=N("species"),Y=s.Array,Z=Math.max;f({target:"Array",proto:!0,forced:!U},{slice:function(V,C){var z,M,L,H=P(this),ee=S(H),q=x(V,ee),ue=x(C===void 0?ee:C,ee);if(g(H)&&(z=H.constructor,(O(z)&&(z===Y||g(z.prototype))||_(z)&&(z=z[B])===null)&&(z=void 0),z===Y||z===void 0))return F(H,q,ue);for(M=new(z===void 0?Y:z)(Z(ue-q,0)),L=0;q<ue;q++,L++)q in H&&A(M,L,H[q]);return M.length=L,M}})},function(c,p){c.exports=function(i){try{return!!i()}catch(f){return!0}}},function(c,p,i){var f=i(16),s=i(102);f({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},function(c,p,i){var f=i(16),s=i(38),g=i(66);f({target:"Object",stat:!0,forced:i(18)(function(){g(1)})},{keys:function(O){return g(s(O))}})},function(c,p,i){var f=i(16),s=i(18),g=i(39),O=i(51).f,_=i(36),x=s(function(){O(1)});f({target:"Object",stat:!0,forced:!_||x,sham:!_},{getOwnPropertyDescriptor:function(S,P){return O(g(S),P)}})},function(c,p,i){var f=i(16),s=i(74).filter;f({target:"Array",proto:!0,forced:!i(75)("filter")},{filter:function(g){return s(this,g,arguments.length>1?arguments[1]:void 0)}})},function(c,p,i){var f=i(16),s=i(36),g=i(135),O=i(39),_=i(51),x=i(61);f({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(S){for(var P,A,N=O(S),R=_.f,F=g(N),U={},B=0;F.length>B;)(A=R(N,P=F[B++]))!==void 0&&x(U,P,A);return U}})},function(c,p,i){var f=i(36),s=i(94).EXISTS,g=i(15),O=i(37).f,_=Function.prototype,x=g(_.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,P=g(S.exec);f&&!s&&O(_,"name",{configurable:!0,get:function(){try{return P(S,x(this))[1]}catch(A){return""}}})},function(c,p,i){var f=i(16),s=i(182);f({target:"Array",stat:!0,forced:!i(118)(function(g){Array.from(g)})},{from:s})},,function(c,p,i){var f=i(7),s=i(84),g=i(34),O=i(85),_=i(109),x=i(128),S=s("wks"),P=f.Symbol,A=P&&P.for,N=x?P:P&&P.withoutSetter||O;c.exports=function(R){if(!g(S,R)||!_&&typeof S[R]!="string"){var F="Symbol."+R;_&&g(P,R)?S[R]=P[R]:S[R]=x&&A?A(F):N(F)}return S[R]}},function(c,p){c.exports=function(i){return typeof i=="function"}},function(c,p,i){var f=i(16),s=i(7),g=i(18),O=i(99),_=i(33),x=i(38),S=i(43),P=i(61),A=i(119),N=i(75),R=i(27),F=i(65),U=R("isConcatSpreadable"),B=s.TypeError,Y=F>=51||!g(function(){var C=[];return C[U]=!1,C.concat()[0]!==C}),Z=N("concat"),V=function(C){if(!_(C))return!1;var z=C[U];return z!==void 0?!!z:O(C)};f({target:"Array",proto:!0,forced:!Y||!Z},{concat:function(C){var z,M,L,H,ee,q=x(this),ue=A(q,0),be=0;for(z=-1,L=arguments.length;z<L;z++)if(V(ee=z===-1?q:arguments[z])){if(be+(H=S(ee))>9007199254740991)throw B("Maximum allowed index exceeded");for(M=0;M<H;M++,be++)M in ee&&P(ue,be,ee[M])}else{if(be>=9007199254740991)throw B("Maximum allowed index exceeded");P(ue,be++,ee)}return ue.length=be,ue}})},function(c,p,i){var f=i(105),s=typeof self=="object"&&self&&self.Object===Object&&self,g=f.a||s||Function("return this")();p.a=g},function(c,p,i){var f=i(16),s=i(200);f({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},function(c,p,i){var f=i(7),s=i(33),g=f.String,O=f.TypeError;c.exports=function(_){if(s(_))return _;throw O(g(_)+" is not an object")}},function(c,p,i){var f=i(28);c.exports=function(s){return typeof s=="object"?s!==null:f(s)}},function(c,p,i){var f=i(15),s=i(38),g=f({}.hasOwnProperty);c.exports=Object.hasOwn||function(O,_){return g(s(O),_)}},function(c,p){var i=Function.prototype.call;c.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(c,p,i){var f=i(18);c.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(c,p,i){var f=i(7),s=i(36),g=i(129),O=i(32),_=i(87),x=f.TypeError,S=Object.defineProperty;p.f=s?S:function(P,A,N){if(O(P),A=_(A),O(N),g)try{return S(P,A,N)}catch(R){}if("get"in N||"set"in N)throw x("Accessors not supported");return"value"in N&&(P[A]=N.value),P}},function(c,p,i){var f=i(7),s=i(45),g=f.Object;c.exports=function(O){return g(s(O))}},function(c,p,i){var f=i(81),s=i(45);c.exports=function(g){return f(s(g))}},function(c,p,i){var f=i(7),s=i(98),g=f.String;c.exports=function(O){if(s(O)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return g(O)}},function(c,p,i){var f=i(16),s=i(74).map;f({target:"Array",proto:!0,forced:!i(75)("map")},{map:function(g){return s(this,g,arguments.length>1?arguments[1]:void 0)}})},function(c,p,i){(function(f){i.d(p,"d",function(){return O}),i.d(p,"c",function(){return _}),i.d(p,"b",function(){return x}),i.d(p,"a",function(){return P});var s=i(10),g=function(A,N){var R=typeof Symbol=="function"&&A[Symbol.iterator];if(!R)return A;var F,U,B=R.call(A),Y=[];try{for(;(N===void 0||N-- >0)&&!(F=B.next()).done;)Y.push(F.value)}catch(Z){U={error:Z}}finally{try{F&&!F.done&&(R=B.return)&&R.call(B)}finally{if(U)throw U.error}}return Y};function O(){var A=g(Object(s.j)(0),2)[1];return Object(s.h)(function(){A(function(N){return N+1})},[])}function _(A){if(!A||typeof A!="object")return!1;var N=Object.getPrototypeOf(A);return!N||N===Object.prototype}function x(A){return typeof Symbol=="function"?Symbol.for(A):"__$mobx-react "+A+"__"}var S={};function P(){return typeof window!="undefined"?window:f!==void 0?f:typeof self!="undefined"?self:S}}).call(this,i(82))},function(c,p,i){var f=i(90);c.exports=function(s){return f(s.length)}},function(c,p,i){var f=i(7),s=i(28),g=i(34),O=i(57),_=i(108),x=i(92),S=i(56),P=i(94).CONFIGURABLE,A=S.get,N=S.enforce,R=String(String).split("String");(c.exports=function(F,U,B,Y){var Z,V=!!Y&&!!Y.unsafe,C=!!Y&&!!Y.enumerable,z=!!Y&&!!Y.noTargetGet,M=Y&&Y.name!==void 0?Y.name:U;s(B)&&(String(M).slice(0,7)==="Symbol("&&(M="["+String(M).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!g(B,"name")||P&&B.name!==M)&&O(B,"name",M),(Z=N(B)).source||(Z.source=R.join(typeof M=="string"?M:""))),F!==f?(V?!z&&F[U]&&(C=!0):delete F[U],C?F[U]=B:O(F,U,B)):C?F[U]=B:_(U,B)})(Function.prototype,"toString",function(){return s(this)&&A(this).source||x(this)})},function(c,p,i){var f=i(7).TypeError;c.exports=function(s){if(s==null)throw f("Can't call method on "+s);return s}},function(c,p,i){var f=i(7),s=i(28),g=function(O){return s(O)?O:void 0};c.exports=function(O,_){return arguments.length<2?g(f[O]):f[O]&&f[O][_]}},function(c,p,i){var f=i(16),s=i(35),g=i(33),O=i(32),_=i(199),x=i(51),S=i(96);f({target:"Reflect",stat:!0},{get:function P(A,N){var R,F,U=arguments.length<3?A:arguments[2];return O(A)===U?A[N]:(R=x.f(A,N))?_(R)?R.value:R.get===void 0?void 0:s(R.get,U):g(F=S(A))?P(F,N,U):void 0}})},function(c,p,i){(function(f){var s=i(30),g=i(165),O=h&&!h.nodeType&&h,_=O&&typeof f=="object"&&f&&!f.nodeType&&f,x=_&&_.exports===O?s.a.Buffer:void 0,S=(x?x.isBuffer:void 0)||g.a;p.a=S}).call(this,i(121)(c))},function(c,p,i){(function(f){var s=i(105),g=h&&!h.nodeType&&h,O=g&&typeof f=="object"&&f&&!f.nodeType&&f,_=O&&O.exports===g&&s.a.process,x=function(){try{var S=O&&O.require&&O.require("util").types;return S||_&&_.binding&&_.binding("util")}catch(P){}}();p.a=x}).call(this,i(121)(c))},function(c,p,i){var f=i(15),s=f({}.toString),g=f("".slice);c.exports=function(O){return g(s(O),8,-1)}},function(c,p,i){var f=i(36),s=i(35),g=i(93),O=i(71),_=i(39),x=i(87),S=i(34),P=i(129),A=Object.getOwnPropertyDescriptor;p.f=f?A:function(N,R){if(N=_(N),R=x(R),P)try{return A(N,R)}catch(F){}if(S(N,R))return O(!s(g.f,N,R),N[R])}},function(c,p,i){var f=i(16),s=i(213).entries;f({target:"Object",stat:!0},{entries:function(g){return s(g)}})},function(c,p,i){var f=i(46);c.exports=f("navigator","userAgent")||""},function(c,p,i){var f,s=i(32),g=i(168),O=i(110),_=i(69),x=i(133),S=i(86),P=i(91),A=P("IE_PROTO"),N=function(){},R=function(B){return"<script>"+B+"<\/script>"},F=function(B){B.write(R("")),B.close();var Y=B.parentWindow.Object;return B=null,Y},U=function(){try{f=new ActiveXObject("htmlfile")}catch(V){}var B,Y;U=typeof document!="undefined"?document.domain&&f?F(f):((Y=S("iframe")).style.display="none",x.appendChild(Y),Y.src=String("javascript:"),(B=Y.contentWindow.document).open(),B.write(R("document.F=Object")),B.close(),B.F):F(f);for(var Z=O.length;Z--;)delete U.prototype[O[Z]];return U()};_[A]=!0,c.exports=Object.create||function(B,Y){var Z;return B!==null?(N.prototype=s(B),Z=new N,N.prototype=null,Z[A]=B):Z=U(),Y===void 0?Z:g(Z,Y)}},function(c,p,i){var f=i(7),s=i(28),g=i(89),O=f.TypeError;c.exports=function(_){if(s(_))return _;throw O(g(_)+" is not a function")}},function(c,p,i){var f,s,g,O=i(170),_=i(7),x=i(15),S=i(33),P=i(57),A=i(34),N=i(107),R=i(91),F=i(69),U=_.TypeError,B=_.WeakMap;if(O||N.state){var Y=N.state||(N.state=new B),Z=x(Y.get),V=x(Y.has),C=x(Y.set);f=function(M,L){if(V(Y,M))throw new U("Object already initialized");return L.facade=M,C(Y,M,L),L},s=function(M){return Z(Y,M)||{}},g=function(M){return V(Y,M)}}else{var z=R("state");F[z]=!0,f=function(M,L){if(A(M,z))throw new U("Object already initialized");return L.facade=M,P(M,z,L),L},s=function(M){return A(M,z)?M[z]:{}},g=function(M){return A(M,z)}}c.exports={set:f,get:s,has:g,enforce:function(M){return g(M)?s(M):f(M,{})},getterFor:function(M){return function(L){var H;if(!S(L)||(H=s(L)).type!==M)throw U("Incompatible receiver, "+M+" required");return H}}}},function(c,p,i){var f=i(36),s=i(37),g=i(71);c.exports=f?function(O,_,x){return s.f(O,_,g(1,x))}:function(O,_,x){return O[_]=x,O}},function(c,p,i){var f=i(15);c.exports=f({}.isPrototypeOf)},function(c,p,i){var f=i(55);c.exports=function(s,g){var O=s[g];return O==null?void 0:f(O)}},function(c,p,i){i(173)("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},i(177))},function(c,p,i){var f=i(87),s=i(37),g=i(71);c.exports=function(O,_,x){var S=f(_);S in O?s.f(O,S,g(0,x)):O[S]=x}},function(c,p,i){var f=i(15),s=i(55),g=f(f.bind);c.exports=function(O,_){return s(O),_===void 0?O:g?g(O,_):function(){return O.apply(_,arguments)}}},function(c,p,i){var f=i(16),s=i(214),g=i(83);f({target:"Array",proto:!0},{fill:s}),g("fill")},function(c,p){c.exports=!1},function(c,p,i){var f,s,g=i(7),O=i(53),_=g.process,x=g.Deno,S=_&&_.versions||x&&x.version,P=S&&S.v8;P&&(s=(f=P.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!s&&O&&(!(f=O.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=O.match(/Chrome\/(\d+)/))&&(s=+f[1]),c.exports=s},function(c,p,i){var f=i(131),s=i(110);c.exports=Object.keys||function(g){return f(g,s)}},function(c,p,i){var f=i(68),s=Math.max,g=Math.min;c.exports=function(O,_){var x=f(O);return x<0?s(x+_,0):g(x,_)}},function(c,p){var i=Math.ceil,f=Math.floor;c.exports=function(s){var g=+s;return g!=g||g===0?0:(g>0?f:i)(g)}},function(c,p){c.exports={}},function(c,p){c.exports={}},function(c,p){c.exports=function(i,f){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:f}}},function(c,p,i){var f=i(131),s=i(110).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(g){return f(g,s)}},function(c,p,i){var f=i(37).f,s=i(34),g=i(27)("toStringTag");c.exports=function(O,_,x){O&&!s(O=x?O:O.prototype,g)&&f(O,g,{configurable:!0,value:_})}},function(c,p,i){var f=i(62),s=i(15),g=i(81),O=i(38),_=i(43),x=i(119),S=s([].push),P=function(A){var N=A==1,R=A==2,F=A==3,U=A==4,B=A==6,Y=A==7,Z=A==5||B;return function(V,C,z,M){for(var L,H,ee=O(V),q=g(ee),ue=f(C,z),be=_(q),me=0,he=M||x,ye=N?he(V,be):R||Y?he(V,0):void 0;be>me;me++)if((Z||me in q)&&(H=ue(L=q[me],me,ee),A))if(N)ye[me]=H;else if(H)switch(A){case 3:return!0;case 5:return L;case 6:return me;case 2:S(ye,L)}else switch(A){case 4:return!1;case 7:S(ye,L)}return B?-1:F||U?U:ye}};c.exports={forEach:P(0),map:P(1),filter:P(2),some:P(3),every:P(4),find:P(5),findIndex:P(6),filterReject:P(7)}},function(c,p,i){var f=i(18),s=i(27),g=i(65),O=s("species");c.exports=function(_){return g>=51||!f(function(){var x=[];return(x.constructor={})[O]=function(){return{foo:1}},x[_](Boolean).foo!==1})}},function(c,p){var i=Function.prototype,f=i.apply,s=i.bind,g=i.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(s?g.bind(f):function(){return g.apply(f,arguments)})},function(c,p,i){var f=i(16),s=i(15),g=i(81),O=i(39),_=i(120),x=s([].join),S=g!=Object,P=_("join",",");f({target:"Array",proto:!0,forced:S||!P},{join:function(A){return x(O(this),A===void 0?",":A)}})},function(c,p,i){var f=i(76),s=i(35),g=i(15),O=i(122),_=i(154),x=i(32),S=i(45),P=i(156),A=i(123),N=i(90),R=i(40),F=i(59),U=i(113),B=i(124),Y=i(102),Z=i(151),V=i(18),C=Z.UNSUPPORTED_Y,z=Math.min,M=[].push,L=g(/./.exec),H=g(M),ee=g("".slice);O("split",function(q,ue,be){var me;return me="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(he,ye){var pe=R(S(this)),le=ye===void 0?4294967295:ye>>>0;if(le===0)return[];if(he===void 0)return[pe];if(!_(he))return s(ue,pe,he,le);for(var _e,xe,Me,Ie=[],Xe=(he.ignoreCase?"i":"")+(he.multiline?"m":"")+(he.unicode?"u":"")+(he.sticky?"y":""),Ae=0,We=new RegExp(he.source,Xe+"g");(_e=s(Y,We,pe))&&!((xe=We.lastIndex)>Ae&&(H(Ie,ee(pe,Ae,_e.index)),_e.length>1&&_e.index<pe.length&&f(M,Ie,U(_e,1)),Me=_e[0].length,Ae=xe,Ie.length>=le));)We.lastIndex===_e.index&&We.lastIndex++;return Ae===pe.length?!Me&&L(We,"")||H(Ie,""):H(Ie,ee(pe,Ae)),Ie.length>le?U(Ie,0,le):Ie}:"0".split(void 0,0).length?function(he,ye){return he===void 0&&ye===0?[]:s(ue,this,he,ye)}:ue,[function(he,ye){var pe=S(this),le=he==null?void 0:F(he,q);return le?s(le,he,pe,ye):s(me,R(pe),he,ye)},function(he,ye){var pe=x(this),le=R(he),_e=be(me,pe,le,ye,me!==ue);if(_e.done)return _e.value;var xe=P(pe,RegExp),Me=pe.unicode,Ie=(pe.ignoreCase?"i":"")+(pe.multiline?"m":"")+(pe.unicode?"u":"")+(C?"g":"y"),Xe=new xe(C?"^(?:"+pe.source+")":pe,Ie),Ae=ye===void 0?4294967295:ye>>>0;if(Ae===0)return[];if(le.length===0)return B(Xe,le)===null?[le]:[];for(var We=0,lt=0,J=[];lt<le.length;){Xe.lastIndex=C?0:lt;var Q,ae=B(Xe,C?ee(le,lt):le);if(ae===null||(Q=z(N(Xe.lastIndex+(C?lt:0)),le.length))===We)lt=A(le,lt,Me);else{if(H(J,ee(le,We,lt)),J.length===Ae)return J;for(var ge=1;ge<=ae.length-1;ge++)if(H(J,ae[ge]),J.length===Ae)return J;lt=We=Q}}return H(J,ee(le,We)),J}]},!!V(function(){var q=/(?:)/,ue=q.exec;q.exec=function(){return ue.apply(this,arguments)};var be="ab".split(q);return be.length!==2||be[0]!=="a"||be[1]!=="b"}),C)},function(c,p,i){var f=i(36),s=i(7),g=i(15),O=i(95),_=i(44),x=i(34),S=i(143),P=i(58),A=i(88),N=i(130),R=i(18),F=i(72).f,U=i(51).f,B=i(37).f,Y=i(196),Z=i(159).trim,V=s.Number,C=V.prototype,z=s.TypeError,M=g("".slice),L=g("".charCodeAt),H=function(he){var ye=N(he,"number");return typeof ye=="bigint"?ye:ee(ye)},ee=function(he){var ye,pe,le,_e,xe,Me,Ie,Xe,Ae=N(he,"number");if(A(Ae))throw z("Cannot convert a Symbol value to a number");if(typeof Ae=="string"&&Ae.length>2){if(Ae=Z(Ae),(ye=L(Ae,0))===43||ye===45){if((pe=L(Ae,2))===88||pe===120)return NaN}else if(ye===48){switch(L(Ae,1)){case 66:case 98:le=2,_e=49;break;case 79:case 111:le=8,_e=55;break;default:return+Ae}for(Me=(xe=M(Ae,2)).length,Ie=0;Ie<Me;Ie++)if((Xe=L(xe,Ie))<48||Xe>_e)return NaN;return parseInt(xe,le)}}return+Ae};if(O("Number",!V(" 0o1")||!V("0b1")||V("+0x1"))){for(var q,ue=function(he){var ye=arguments.length<1?0:V(H(he)),pe=this;return P(C,pe)&&R(function(){Y(pe)})?S(Object(ye),pe,ue):ye},be=f?F(V):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),me=0;be.length>me;me++)x(V,q=be[me])&&!x(ue,q)&&B(ue,q,U(V,q));ue.prototype=C,C.constructor=ue,_(s,"Number",ue)}},function(c,p,i){i(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(c,p,i){var f=i(7),s=i(15),g=i(18),O=i(50),_=f.Object,x=s("".split);c.exports=g(function(){return!_("z").propertyIsEnumerable(0)})?function(S){return O(S)=="String"?x(S,""):_(S)}:_},function(c,p){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(f){typeof window=="object"&&(i=window)}c.exports=i},function(c,p,i){var f=i(27),s=i(54),g=i(37),O=f("unscopables"),_=Array.prototype;_[O]==null&&g.f(_,O,{configurable:!0,value:s(null)}),c.exports=function(x){_[O][x]=!0}},function(c,p,i){var f=i(64),s=i(107);(c.exports=function(g,O){return s[g]||(s[g]=O!==void 0?O:{})})("versions",[]).push({version:"3.19.3",mode:f?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(c,p,i){var f=i(15),s=0,g=Math.random(),O=f(1 .toString);c.exports=function(_){return"Symbol("+(_===void 0?"":_)+")_"+O(++s+g,36)}},function(c,p,i){var f=i(7),s=i(33),g=f.document,O=s(g)&&s(g.createElement);c.exports=function(_){return O?g.createElement(_):{}}},function(c,p,i){var f=i(130),s=i(88);c.exports=function(g){var O=f(g,"string");return s(O)?O:O+""}},function(c,p,i){var f=i(7),s=i(46),g=i(28),O=i(58),_=i(128),x=f.Object;c.exports=_?function(S){return typeof S=="symbol"}:function(S){var P=s("Symbol");return g(P)&&O(P.prototype,x(S))}},function(c,p,i){var f=i(7).String;c.exports=function(s){try{return f(s)}catch(g){return"Object"}}},function(c,p,i){var f=i(68),s=Math.min;c.exports=function(g){return g>0?s(f(g),9007199254740991):0}},function(c,p,i){var f=i(84),s=i(85),g=f("keys");c.exports=function(O){return g[O]||(g[O]=s(O))}},function(c,p,i){var f=i(15),s=i(28),g=i(107),O=f(Function.toString);s(g.inspectSource)||(g.inspectSource=function(_){return O(_)}),c.exports=g.inspectSource},function(c,p,i){var f={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,g=s&&!f.call({1:2},1);p.f=g?function(O){var _=s(this,O);return!!_&&_.enumerable}:f},function(c,p,i){var f=i(36),s=i(34),g=Function.prototype,O=f&&Object.getOwnPropertyDescriptor,_=s(g,"name"),x=_&&function(){}.name==="something",S=_&&(!f||f&&O(g,"name").configurable);c.exports={EXISTS:_,PROPER:x,CONFIGURABLE:S}},function(c,p,i){var f=i(18),s=i(28),g=/#|\.prototype\./,O=function(A,N){var R=x[_(A)];return R==P||R!=S&&(s(N)?f(N):!!N)},_=O.normalize=function(A){return String(A).replace(g,".").toLowerCase()},x=O.data={},S=O.NATIVE="N",P=O.POLYFILL="P";c.exports=O},function(c,p,i){var f=i(7),s=i(34),g=i(28),O=i(38),_=i(91),x=i(137),S=_("IE_PROTO"),P=f.Object,A=P.prototype;c.exports=x?P.getPrototypeOf:function(N){var R=O(N);if(s(R,S))return R[S];var F=R.constructor;return g(F)&&R instanceof F?F.prototype:R instanceof P?A:null}},function(c,p,i){var f=i(15),s=i(32),g=i(172);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var O,_=!1,x={};try{(O=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(x,[]),_=x instanceof Array}catch(S){}return function(S,P){return s(S),g(P),_?O(S,P):S.__proto__=P,S}}():void 0)},function(c,p,i){var f=i(7),s=i(116),g=i(28),O=i(50),_=i(27)("toStringTag"),x=f.Object,S=O(function(){return arguments}())=="Arguments";c.exports=s?O:function(P){var A,N,R;return P===void 0?"Undefined":P===null?"Null":typeof(N=function(F,U){try{return F[U]}catch(B){}}(A=x(P),_))=="string"?N:S?O(A):(R=O(A))=="Object"&&g(A.callee)?"Arguments":R}},function(c,p,i){var f=i(50);c.exports=Array.isArray||function(s){return f(s)=="Array"}},function(c,p,i){var f=i(15),s=i(18),g=i(28),O=i(98),_=i(46),x=i(92),S=function(){},P=[],A=_("Reflect","construct"),N=/^\s*(?:class|function)\b/,R=f(N.exec),F=!N.exec(S),U=function(B){if(!g(B))return!1;try{return A(S,P,B),!0}catch(Y){return!1}};c.exports=!A||s(function(){var B;return U(U.call)||!U(Object)||!U(function(){B=!0})||B})?function(B){if(!g(B))return!1;switch(O(B)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return F||!!R(N,x(B))}:U},function(c,p,i){var f=i(15);c.exports=f([].slice)},function(c,p,i){var f,s,g=i(35),O=i(15),_=i(40),x=i(184),S=i(151),P=i(84),A=i(54),N=i(56).get,R=i(185),F=i(186),U=P("native-string-replace",String.prototype.replace),B=RegExp.prototype.exec,Y=B,Z=O("".charAt),V=O("".indexOf),C=O("".replace),z=O("".slice),M=(s=/b*/g,g(B,f=/a/,"a"),g(B,s,"a"),f.lastIndex!==0||s.lastIndex!==0),L=S.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;(M||H||L||R||F)&&(Y=function(ee){var q,ue,be,me,he,ye,pe,le=this,_e=N(le),xe=_(ee),Me=_e.raw;if(Me)return Me.lastIndex=le.lastIndex,q=g(Y,Me,xe),le.lastIndex=Me.lastIndex,q;var Ie=_e.groups,Xe=L&&le.sticky,Ae=g(x,le),We=le.source,lt=0,J=xe;if(Xe&&(Ae=C(Ae,"y",""),V(Ae,"g")===-1&&(Ae+="g"),J=z(xe,le.lastIndex),le.lastIndex>0&&(!le.multiline||le.multiline&&Z(xe,le.lastIndex-1)!==`
`)&&(We="(?: "+We+")",J=" "+J,lt++),ue=new RegExp("^(?:"+We+")",Ae)),H&&(ue=new RegExp("^"+We+"$(?!\\s)",Ae)),M&&(be=le.lastIndex),me=g(B,Xe?ue:le,J),Xe?me?(me.input=z(me.input,lt),me[0]=z(me[0],lt),me.index=le.lastIndex,le.lastIndex+=me[0].length):le.lastIndex=0:M&&me&&(le.lastIndex=le.global?me.index+me[0].length:be),H&&me&&me.length>1&&g(U,me[0],ue,function(){for(he=1;he<arguments.length-2;he++)arguments[he]===void 0&&(me[he]=void 0)}),me&&Ie)for(me.groups=ye=A(null),he=0;he<Ie.length;he++)ye[(pe=Ie[he])[0]]=me[pe[1]];return me}),c.exports=Y},function(c,p,i){var f=i(16),s=i(7),g=i(67),O=i(68),_=i(43),x=i(38),S=i(119),P=i(61),A=i(75)("splice"),N=s.TypeError,R=Math.max,F=Math.min;f({target:"Array",proto:!0,forced:!A},{splice:function(U,B){var Y,Z,V,C,z,M,L=x(this),H=_(L),ee=g(U,H),q=arguments.length;if(q===0?Y=Z=0:q===1?(Y=0,Z=H-ee):(Y=q-2,Z=F(R(O(B),0),H-ee)),H+Y-Z>9007199254740991)throw N("Maximum allowed length exceeded");for(V=S(L,Z),C=0;C<Z;C++)(z=ee+C)in L&&P(V,C,L[z]);if(V.length=Z,Y<Z){for(C=ee;C<H-Z;C++)M=C+Y,(z=C+Z)in L?L[M]=L[z]:delete L[M];for(C=H;C>H-Z+Y;C--)delete L[C-1]}else if(Y>Z)for(C=H-Z;C>ee;C--)M=C+Y-1,(z=C+Z-1)in L?L[M]=L[z]:delete L[M];for(C=0;C<Y;C++)L[C+ee]=arguments[C+2];return L.length=H-Z+Y,V}})},function(c,p,i){var f=i(16),s=i(201);f({target:"String",proto:!0,forced:i(202)("anchor")},{anchor:function(g){return s(this,"a","name",g)}})},function(c,p,i){(function(f){var s=typeof f=="object"&&f&&f.Object===Object&&f;p.a=s}).call(this,i(82))},function(c,p,i){(function(f){var s=i(30),g=h&&!h.nodeType&&h,O=g&&typeof f=="object"&&f&&!f.nodeType&&f,_=O&&O.exports===g?s.a.Buffer:void 0,x=_?_.allocUnsafe:void 0;p.a=function(S,P){if(P)return S.slice();var A=S.length,N=x?x(A):new S.constructor(A);return S.copy(N),N}}).call(this,i(121)(c))},function(c,p,i){var f=i(7),s=i(108),g=f["__core-js_shared__"]||s("__core-js_shared__",{});c.exports=g},function(c,p,i){var f=i(7),s=Object.defineProperty;c.exports=function(g,O){try{s(f,g,{value:O,configurable:!0,writable:!0})}catch(_){f[g]=O}return O}},function(c,p,i){var f=i(65),s=i(18);c.exports=!!Object.getOwnPropertySymbols&&!s(function(){var g=Symbol();return!String(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(c,p){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(c,p,i){var f=i(16),s=i(35),g=i(64),O=i(94),_=i(28),x=i(171),S=i(96),P=i(97),A=i(73),N=i(57),R=i(44),F=i(27),U=i(70),B=i(136),Y=O.PROPER,Z=O.CONFIGURABLE,V=B.IteratorPrototype,C=B.BUGGY_SAFARI_ITERATORS,z=F("iterator"),M=function(){return this};c.exports=function(L,H,ee,q,ue,be,me){x(ee,H,q);var he,ye,pe,le=function(We){if(We===ue&&Xe)return Xe;if(!C&&We in Me)return Me[We];switch(We){case"keys":case"values":case"entries":return function(){return new ee(this,We)}}return function(){return new ee(this)}},_e=H+" Iterator",xe=!1,Me=L.prototype,Ie=Me[z]||Me["@@iterator"]||ue&&Me[ue],Xe=!C&&Ie||le(ue),Ae=H=="Array"&&Me.entries||Ie;if(Ae&&(he=S(Ae.call(new L)))!==Object.prototype&&he.next&&(g||S(he)===V||(P?P(he,V):_(he[z])||R(he,z,M)),A(he,_e,!0,!0),g&&(U[_e]=M)),Y&&ue=="values"&&Ie&&Ie.name!=="values"&&(!g&&Z?N(Me,"name","values"):(xe=!0,Xe=function(){return s(Ie,this)})),ue)if(ye={values:le("values"),keys:be?Xe:le("keys"),entries:le("entries")},me)for(pe in ye)(C||xe||!(pe in Me))&&R(Me,pe,ye[pe]);else f({target:H,proto:!0,forced:C||xe},ye);return g&&!me||Me[z]===Xe||R(Me,z,Xe,{name:ue}),U[H]=Xe,ye}},function(c,p){p.f=Object.getOwnPropertySymbols},function(c,p,i){var f=i(7),s=i(67),g=i(43),O=i(61),_=f.Array,x=Math.max;c.exports=function(S,P,A){for(var N=g(S),R=s(P,N),F=s(A===void 0?N:A,N),U=_(x(F-R,0)),B=0;R<F;R++,B++)O(U,B,S[R]);return U.length=B,U}},function(c,p,i){var f=i(7),s=i(62),g=i(35),O=i(32),_=i(89),x=i(140),S=i(43),P=i(58),A=i(141),N=i(115),R=i(142),F=f.TypeError,U=function(Y,Z){this.stopped=Y,this.result=Z},B=U.prototype;c.exports=function(Y,Z,V){var C,z,M,L,H,ee,q,ue=V&&V.that,be=!(!V||!V.AS_ENTRIES),me=!(!V||!V.IS_ITERATOR),he=!(!V||!V.INTERRUPTED),ye=s(Z,ue),pe=function(_e){return C&&R(C,"normal",_e),new U(!0,_e)},le=function(_e){return be?(O(_e),he?ye(_e[0],_e[1],pe):ye(_e[0],_e[1])):he?ye(_e,pe):ye(_e)};if(me)C=Y;else{if(!(z=N(Y)))throw F(_(Y)+" is not iterable");if(x(z)){for(M=0,L=S(Y);L>M;M++)if((H=le(Y[M]))&&P(B,H))return H;return new U(!1)}C=A(Y,z)}for(ee=C.next;!(q=g(ee,C)).done;){try{H=le(q.value)}catch(_e){R(C,"throw",_e)}if(typeof H=="object"&&H&&P(B,H))return H}return new U(!1)}},function(c,p,i){var f=i(98),s=i(59),g=i(70),O=i(27)("iterator");c.exports=function(_){if(_!=null)return s(_,O)||s(_,"@@iterator")||g[f(_)]}},function(c,p,i){var f={};f[i(27)("toStringTag")]="z",c.exports=String(f)==="[object z]"},function(c,p,i){var f=i(7),s=i(58),g=f.TypeError;c.exports=function(O,_){if(s(_,O))return O;throw g("Incorrect invocation")}},function(c,p,i){var f=i(27)("iterator"),s=!1;try{var g=0,O={next:function(){return{done:!!g++}},return:function(){s=!0}};O[f]=function(){return this},Array.from(O,function(){throw 2})}catch(_){}c.exports=function(_,x){if(!x&&!s)return!1;var S=!1;try{var P={};P[f]=function(){return{next:function(){return{done:S=!0}}}},_(P)}catch(A){}return S}},function(c,p,i){var f=i(180);c.exports=function(s,g){return new(f(s))(g===0?0:g)}},function(c,p,i){var f=i(18);c.exports=function(s,g){var O=[][s];return!!O&&f(function(){O.call(null,g||function(){throw 1},1)})}},function(c,p){c.exports=function(i){if(!i.webpackPolyfill){var f=Object.create(i);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(c,p,i){i(19);var f=i(15),s=i(44),g=i(102),O=i(18),_=i(27),x=i(57),S=_("species"),P=RegExp.prototype;c.exports=function(A,N,R,F){var U=_(A),B=!O(function(){var C={};return C[U]=function(){return 7},""[A](C)!=7}),Y=B&&!O(function(){var C=!1,z=/a/;return A==="split"&&((z={}).constructor={},z.constructor[S]=function(){return z},z.flags="",z[U]=/./[U]),z.exec=function(){return C=!0,null},z[U](""),!C});if(!B||!Y||R){var Z=f(/./[U]),V=N(U,""[A],function(C,z,M,L,H){var ee=f(C),q=z.exec;return q===g||q===P.exec?B&&!H?{done:!0,value:Z(z,M,L)}:{done:!0,value:ee(M,z,L)}:{done:!1}});s(String.prototype,A,V[0]),s(P,U,V[1])}F&&x(P[U],"sham",!0)}},function(c,p,i){var f=i(146).charAt;c.exports=function(s,g,O){return g+(O?f(s,g).length:1)}},function(c,p,i){var f=i(7),s=i(35),g=i(32),O=i(28),_=i(50),x=i(102),S=f.TypeError;c.exports=function(P,A){var N=P.exec;if(O(N)){var R=s(N,P,A);return R!==null&&g(R),R}if(_(P)==="RegExp")return s(x,P,A);throw S("RegExp#exec called on incompatible receiver")}},function(c,p,i){var f=i(76),s=i(35),g=i(15),O=i(122),_=i(18),x=i(32),S=i(28),P=i(68),A=i(90),N=i(40),R=i(45),F=i(123),U=i(59),B=i(197),Y=i(124),Z=i(27)("replace"),V=Math.max,C=Math.min,z=g([].concat),M=g([].push),L=g("".indexOf),H=g("".slice),ee="a".replace(/./,"$0")==="$0",q=!!/./[Z]&&/./[Z]("a","$0")==="";O("replace",function(ue,be,me){var he=q?"$":"$0";return[function(ye,pe){var le=R(this),_e=ye==null?void 0:U(ye,Z);return _e?s(_e,ye,le,pe):s(be,N(le),ye,pe)},function(ye,pe){var le=x(this),_e=N(ye);if(typeof pe=="string"&&L(pe,he)===-1&&L(pe,"$<")===-1){var xe=me(be,le,_e,pe);if(xe.done)return xe.value}var Me=S(pe);Me||(pe=N(pe));var Ie=le.global;if(Ie){var Xe=le.unicode;le.lastIndex=0}for(var Ae=[];;){var We=Y(le,_e);if(We===null||(M(Ae,We),!Ie))break;N(We[0])===""&&(le.lastIndex=F(_e,A(le.lastIndex),Xe))}for(var lt,J="",Q=0,ae=0;ae<Ae.length;ae++){for(var ge=N((We=Ae[ae])[0]),De=V(C(P(We.index),_e.length),0),we=[],Ke=1;Ke<We.length;Ke++)M(we,(lt=We[Ke])===void 0?lt:String(lt));var Ve=We.groups;if(Me){var et=z([ge],we,De,_e);Ve!==void 0&&M(et,Ve);var $e=N(f(pe,void 0,et))}else $e=B(ge,_e,De,we,Ve,pe);De>=Q&&(J+=H(_e,Q,De)+$e,Q=De+ge.length)}return J+H(_e,Q)}]},!!_(function(){var ue=/./;return ue.exec=function(){var be=[];return be.groups={a:"7"},be},"".replace(ue,"$<a>")!=="7"})||!ee||q)},function(c,p,i){var f=i(50),s=i(7);c.exports=f(s.process)=="process"},function(c,p,i){i(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(c,p,i){var f=i(109);c.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(c,p,i){var f=i(36),s=i(18),g=i(86);c.exports=!f&&!s(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!=7})},function(c,p,i){var f=i(7),s=i(35),g=i(33),O=i(88),_=i(59),x=i(169),S=i(27),P=f.TypeError,A=S("toPrimitive");c.exports=function(N,R){if(!g(N)||O(N))return N;var F,U=_(N,A);if(U){if(R===void 0&&(R="default"),F=s(U,N,R),!g(F)||O(F))return F;throw P("Can't convert object to primitive value")}return R===void 0&&(R="number"),x(N,R)}},function(c,p,i){var f=i(15),s=i(34),g=i(39),O=i(132).indexOf,_=i(69),x=f([].push);c.exports=function(S,P){var A,N=g(S),R=0,F=[];for(A in N)!s(_,A)&&s(N,A)&&x(F,A);for(;P.length>R;)s(N,A=P[R++])&&(~O(F,A)||x(F,A));return F}},function(c,p,i){var f=i(39),s=i(67),g=i(43),O=function(_){return function(x,S,P){var A,N=f(x),R=g(N),F=s(P,R);if(_&&S!=S){for(;R>F;)if((A=N[F++])!=A)return!0}else for(;R>F;F++)if((_||F in N)&&N[F]===S)return _||F||0;return!_&&-1}};c.exports={includes:O(!0),indexOf:O(!1)}},function(c,p,i){var f=i(46);c.exports=f("document","documentElement")},function(c,p,i){var f=i(34),s=i(135),g=i(51),O=i(37);c.exports=function(_,x){for(var S=s(x),P=O.f,A=g.f,N=0;N<S.length;N++){var R=S[N];f(_,R)||P(_,R,A(x,R))}}},function(c,p,i){var f=i(46),s=i(15),g=i(72),O=i(112),_=i(32),x=s([].concat);c.exports=f("Reflect","ownKeys")||function(S){var P=g.f(_(S)),A=O.f;return A?x(P,A(S)):P}},function(c,p,i){var f,s,g,O=i(18),_=i(28),x=i(54),S=i(96),P=i(44),A=i(27),N=i(64),R=A("iterator"),F=!1;[].keys&&("next"in(g=[].keys())?(s=S(S(g)))!==Object.prototype&&(f=s):F=!0),f==null||O(function(){var U={};return f[R].call(U)!==U})?f={}:N&&(f=x(f)),_(f[R])||P(f,R,function(){return this}),c.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:F}},function(c,p,i){var f=i(18);c.exports=!f(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},function(c,p,i){var f=i(16),s=i(15),g=i(69),O=i(33),_=i(34),x=i(37).f,S=i(72),P=i(139),A=i(174),N=i(85),R=i(176),F=!1,U=N("meta"),B=0,Y=function(V){x(V,U,{value:{objectID:"O"+B++,weakData:{}}})},Z=c.exports={enable:function(){Z.enable=function(){},F=!0;var V=S.f,C=s([].splice),z={};z[U]=1,V(z).length&&(S.f=function(M){for(var L=V(M),H=0,ee=L.length;H<ee;H++)if(L[H]===U){C(L,H,1);break}return L},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:P.f}))},fastKey:function(V,C){if(!O(V))return typeof V=="symbol"?V:(typeof V=="string"?"S":"P")+V;if(!_(V,U)){if(!A(V))return"F";if(!C)return"E";Y(V)}return V[U].objectID},getWeakData:function(V,C){if(!_(V,U)){if(!A(V))return!0;if(!C)return!1;Y(V)}return V[U].weakData},onFreeze:function(V){return R&&F&&A(V)&&!_(V,U)&&Y(V),V}};g[U]=!0},function(c,p,i){var f=i(50),s=i(39),g=i(72).f,O=i(113),_=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(x){return _&&f(x)=="Window"?function(S){try{return g(S)}catch(P){return O(_)}}(x):g(s(x))}},function(c,p,i){var f=i(27),s=i(70),g=f("iterator"),O=Array.prototype;c.exports=function(_){return _!==void 0&&(s.Array===_||O[g]===_)}},function(c,p,i){var f=i(7),s=i(35),g=i(55),O=i(32),_=i(89),x=i(115),S=f.TypeError;c.exports=function(P,A){var N=arguments.length<2?x(P):A;if(g(N))return O(s(N,P));throw S(_(P)+" is not iterable")}},function(c,p,i){var f=i(35),s=i(32),g=i(59);c.exports=function(O,_,x){var S,P;s(O);try{if(!(S=g(O,"return"))){if(_==="throw")throw x;return x}S=f(S,O)}catch(A){P=!0,S=A}if(_==="throw")throw x;if(P)throw S;return s(S),x}},function(c,p,i){var f=i(28),s=i(33),g=i(97);c.exports=function(O,_,x){var S,P;return g&&f(S=_.constructor)&&S!==x&&s(P=S.prototype)&&P!==x.prototype&&g(O,P),O}},function(c,p,i){var f=i(44);c.exports=function(s,g,O){for(var _ in g)f(s,_,g[_],O);return s}},function(c,p,i){var f=i(46),s=i(37),g=i(27),O=i(36),_=g("species");c.exports=function(x){var S=f(x),P=s.f;O&&S&&!S[_]&&P(S,_,{configurable:!0,get:function(){return this}})}},function(c,p,i){var f=i(15),s=i(68),g=i(40),O=i(45),_=f("".charAt),x=f("".charCodeAt),S=f("".slice),P=function(A){return function(N,R){var F,U,B=g(O(N)),Y=s(R),Z=B.length;return Y<0||Y>=Z?A?"":void 0:(F=x(B,Y))<55296||F>56319||Y+1===Z||(U=x(B,Y+1))<56320||U>57343?A?_(B,Y):F:A?S(B,Y,Y+2):U-56320+(F-55296<<10)+65536}};c.exports={codeAt:P(!1),charAt:P(!0)}},function(c,p){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(c,p,i){var f=i(86)("span").classList,s=f&&f.constructor&&f.constructor.prototype;c.exports=s===Object.prototype?void 0:s},function(c,p,i){var f=i(27);p.f=f},function(c,p,i){var f=i(181),s=i(34),g=i(149),O=i(37).f;c.exports=function(_){var x=f.Symbol||(f.Symbol={});s(x,_)||O(x,_,{value:g.f(_)})}},function(c,p,i){var f=i(18),s=i(7).RegExp,g=f(function(){var x=s("a","y");return x.lastIndex=2,x.exec("abcd")!=null}),O=g||f(function(){return!s("a","y").sticky}),_=g||f(function(){var x=s("^r","gy");return x.lastIndex=2,x.exec("str")!=null});c.exports={BROKEN_CARET:_,MISSED_STICKY:O,UNSUPPORTED_Y:g}},function(c,p,i){var f=i(16),s=i(132).includes,g=i(83);f({target:"Array",proto:!0},{includes:function(O){return s(this,O,arguments.length>1?arguments[1]:void 0)}}),g("includes")},function(c,p,i){var f=i(16),s=i(15),g=i(193),O=i(45),_=i(40),x=i(194),S=s("".indexOf);f({target:"String",proto:!0,forced:!x("includes")},{includes:function(P){return!!~S(_(O(this)),_(g(P)),arguments.length>1?arguments[1]:void 0)}})},function(c,p,i){var f=i(33),s=i(50),g=i(27)("match");c.exports=function(O){var _;return f(O)&&((_=O[g])!==void 0?!!_:s(O)=="RegExp")}},function(c,p){var i,f,s=c.exports={};function g(){throw new Error("setTimeout has not been defined")}function O(){throw new Error("clearTimeout has not been defined")}function _(B){if(i===setTimeout)return setTimeout(B,0);if((i===g||!i)&&setTimeout)return i=setTimeout,setTimeout(B,0);try{return i(B,0)}catch(Y){try{return i.call(null,B,0)}catch(Z){return i.call(this,B,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:g}catch(B){i=g}try{f=typeof clearTimeout=="function"?clearTimeout:O}catch(B){f=O}})();var x,S=[],P=!1,A=-1;function N(){P&&x&&(P=!1,x.length?S=x.concat(S):A=-1,S.length&&R())}function R(){if(!P){var B=_(N);P=!0;for(var Y=S.length;Y;){for(x=S,S=[];++A<Y;)x&&x[A].run();A=-1,Y=S.length}x=null,P=!1,function(Z){if(f===clearTimeout)return clearTimeout(Z);if((f===O||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(Z);try{f(Z)}catch(V){try{return f.call(null,Z)}catch(C){return f.call(this,Z)}}}(B)}}function F(B,Y){this.fun=B,this.array=Y}function U(){}s.nextTick=function(B){var Y=new Array(arguments.length-1);if(arguments.length>1)for(var Z=1;Z<arguments.length;Z++)Y[Z-1]=arguments[Z];S.push(new F(B,Y)),S.length!==1||P||_(R)},F.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=U,s.addListener=U,s.once=U,s.off=U,s.removeListener=U,s.removeAllListeners=U,s.emit=U,s.prependListener=U,s.prependOnceListener=U,s.listeners=function(B){return[]},s.binding=function(B){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(B){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(c,p,i){var f=i(32),s=i(157),g=i(27)("species");c.exports=function(O,_){var x,S=f(O).constructor;return S===void 0||(x=f(S)[g])==null?_:s(x)}},function(c,p,i){var f=i(7),s=i(100),g=i(89),O=f.TypeError;c.exports=function(_){if(s(_))return _;throw O(g(_)+" is not a constructor")}},function(c,p,i){var f=i(16),s=i(159).trim;f({target:"String",proto:!0,forced:i(195)("trim")},{trim:function(){return s(this)}})},function(c,p,i){var f=i(15),s=i(45),g=i(40),O=i(160),_=f("".replace),x="["+O+"]",S=RegExp("^"+x+x+"*"),P=RegExp(x+x+"*$"),A=function(N){return function(R){var F=g(s(R));return 1&N&&(F=_(F,S,"")),2&N&&(F=_(F,P,"")),F}};c.exports={start:A(1),end:A(2),trim:A(3)}},function(c,p){c.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(c,p,i){var f=i(35),s=i(122),g=i(32),O=i(90),_=i(40),x=i(45),S=i(59),P=i(123),A=i(124);s("match",function(N,R,F){return[function(U){var B=x(this),Y=U==null?void 0:S(U,N);return Y?f(Y,U,B):new RegExp(U)[N](_(B))},function(U){var B=g(this),Y=_(U),Z=F(R,B,Y);if(Z.done)return Z.value;if(!B.global)return A(B,Y);var V=B.unicode;B.lastIndex=0;for(var C,z=[],M=0;(C=A(B,Y))!==null;){var L=_(C[0]);z[M]=L,L===""&&(B.lastIndex=P(Y,O(B.lastIndex),V)),M++}return M===0?null:z}]})},function(c,p,i){var f,s,g,O,_=i(7),x=i(76),S=i(62),P=i(28),A=i(34),N=i(18),R=i(133),F=i(101),U=i(86),B=i(163),Y=i(126),Z=_.setImmediate,V=_.clearImmediate,C=_.process,z=_.Dispatch,M=_.Function,L=_.MessageChannel,H=_.String,ee=0,q={};try{f=_.location}catch(ye){}var ue=function(ye){if(A(q,ye)){var pe=q[ye];delete q[ye],pe()}},be=function(ye){return function(){ue(ye)}},me=function(ye){ue(ye.data)},he=function(ye){_.postMessage(H(ye),f.protocol+"//"+f.host)};Z&&V||(Z=function(ye){var pe=F(arguments,1);return q[++ee]=function(){x(P(ye)?ye:M(ye),void 0,pe)},s(ee),ee},V=function(ye){delete q[ye]},Y?s=function(ye){C.nextTick(be(ye))}:z&&z.now?s=function(ye){z.now(be(ye))}:L&&!B?(O=(g=new L).port2,g.port1.onmessage=me,s=S(O.postMessage,O)):_.addEventListener&&P(_.postMessage)&&!_.importScripts&&f&&f.protocol!=="file:"&&!N(he)?(s=he,_.addEventListener("message",me,!1)):s="onreadystatechange"in U("script")?function(ye){R.appendChild(U("script")).onreadystatechange=function(){R.removeChild(this),ue(ye)}}:function(ye){setTimeout(be(ye),0)}),c.exports={set:Z,clear:V}},function(c,p,i){var f=i(53);c.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},function(c,p,i){var f=i(55),s=function(g){var O,_;this.promise=new g(function(x,S){if(O!==void 0||_!==void 0)throw TypeError("Bad Promise constructor");O=x,_=S}),this.resolve=f(O),this.reject=f(_)};c.exports.f=function(g){return new s(g)}},function(c,p,i){p.a=function(){return!1}},function(c,p,i){(function(f){i.d(p,"a",function(){return Y});var s=i(0);function g(C){throw new Error("[mobx-utils] "+C)}function O(C,z){z===void 0&&(z="Illegal state"),C||g(z)}var _=function(C){return C&&C!==Object.prototype&&Object.getOwnPropertyNames(C).concat(_(Object.getPrototypeOf(C))||[])},x=function(C){return function(z){var M=_(z);return M.filter(function(L,H){return M.indexOf(L)===H})}(C).filter(function(z){return z!=="constructor"&&!~z.indexOf("__")})};function S(C){switch(this.state){case"pending":return C.pending&&C.pending(this.value);case"rejected":return C.rejected&&C.rejected(this.value);case"fulfilled":return C.fulfilled?C.fulfilled(this.value):this.value}}function P(C,z){if(O(arguments.length<=2,"fromPromise expects up to two arguments"),O(typeof C=="function"||typeof C=="object"&&C&&typeof C.then=="function","Please pass a promise or function to fromPromise"),C.isPromiseBasedObservable===!0)return C;typeof C=="function"&&(C=new Promise(C));var M=C;C.then(Object(s.k)("observableFromPromise-resolve",function(H){M.value=H,M.state="fulfilled"}),Object(s.k)("observableFromPromise-reject",function(H){M.value=H,M.state="rejected"})),M.isPromiseBasedObservable=!0,M.case=S;var L=z&&z.state==="fulfilled"?z.value:void 0;return Object(s.q)(M,{value:L,state:"pending"},{},{deep:!1}),M}(function(C){C.reject=Object(s.k)("fromPromise.reject",function(z){var M=C(Promise.reject(z));return M.state="rejected",M.value=z,M}),C.resolve=Object(s.k)("fromPromise.resolve",function(z){z===void 0&&(z=void 0);var M=C(Promise.resolve(z));return M.state="fulfilled",M.value=z,M})})(P||(P={}));var A=function(C,z,M,L){var H,ee=arguments.length,q=ee<3?z:L===null?L=Object.getOwnPropertyDescriptor(z,M):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(C,z,M,L);else for(var ue=C.length-1;ue>=0;ue--)(H=C[ue])&&(q=(ee<3?H(q):ee>3?H(z,M,q):H(z,M))||q);return ee>3&&q&&Object.defineProperty(z,M,q),q};(function(){function C(z,M){var L=this;Object(s.G)(function(){L.current=M,L.subscription=z.subscribe(L)})}C.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},C.prototype.next=function(z){this.current=z},C.prototype.complete=function(){this.dispose()},C.prototype.error=function(z){this.current=z,this.dispose()},A([s.C.ref],C.prototype,"current",void 0),A([s.k.bound],C.prototype,"next",null),A([s.k.bound],C.prototype,"complete",null),A([s.k.bound],C.prototype,"error",null)})();var N=function(){return(N=Object.assign||function(C){for(var z,M=1,L=arguments.length;M<L;M++)for(var H in z=arguments[M])Object.prototype.hasOwnProperty.call(z,H)&&(C[H]=z[H]);return C}).apply(this,arguments)},R=function(C,z,M,L){var H,ee=arguments.length,q=ee<3?z:L===null?L=Object.getOwnPropertyDescriptor(z,M):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(C,z,M,L);else for(var ue=C.length-1;ue>=0;ue--)(H=C[ue])&&(q=(ee<3?H(q):ee>3?H(z,M,q):H(z,M))||q);return ee>3&&q&&Object.defineProperty(z,M,q),q},F=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function C(z){var M=this;this.model=z,this.localValues=s.C.map({}),this.localComputedValues=s.C.map({}),this.isPropertyDirty=function(L){return M.localValues.has(L)},O(Object(s.A)(z),"createViewModel expects an observable object"),x(z).forEach(function(L){if(L!==s.a&&L!=="__mobxDidRunLazyInitializers"){if(O(F.indexOf(L)===-1,"The propertyname "+L+" is reserved and cannot be used with viewModels"),Object(s.w)(z,L)){var H=Object(s.h)(z,L).derivation;M.localComputedValues.set(L,Object(s.m)(H.bind(M)))}var ee=Object.getOwnPropertyDescriptor(z,L),q=ee?{enumerable:ee.enumerable}:{};Object.defineProperty(M,L,N(N({},q),{configurable:!0,get:function(){return Object(s.w)(z,L)?M.localComputedValues.get(L).get():M.isPropertyDirty(L)?M.localValues.get(L):M.model[L]},set:Object(s.k)(function(ue){ue!==M.model[L]?M.localValues.set(L,ue):M.localValues.delete(L)})}))}})}Object.defineProperty(C.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),C.prototype.submit=function(){var z=this;Object(s.B)(this.localValues).forEach(function(M){var L=z.localValues.get(M),H=z.model[M];Object(s.y)(H)?H.replace(L):Object(s.z)(H)?(H.clear(),H.merge(L)):Object(s.v)(L)||(z.model[M]=L)}),this.localValues.clear()},C.prototype.reset=function(){this.localValues.clear()},C.prototype.resetProperty=function(z){this.localValues.delete(z)},R([s.m],C.prototype,"isDirty",null),R([s.m],C.prototype,"changedValues",null),R([s.k.bound],C.prototype,"submit",null),R([s.k.bound],C.prototype,"reset",null),R([s.k.bound],C.prototype,"resetProperty",null)})();function U(C){if(!C)return"ROOT";for(var z=[];C.parent;)z.push(C.path),C=C.parent;return z.reverse().join("/")}function B(C){return Object(s.A)(C)||Object(s.y)(C)||Object(s.z)(C)}function Y(C,z){var M=new WeakMap;function L(q){var ue=M.get(q.object);(function(be,me){switch(be.type){case"add":H(be.newValue,me,be.name);break;case"update":ee(be.oldValue),H(be.newValue,me,be.name||""+be.index);break;case"remove":case"delete":ee(be.oldValue);break;case"splice":be.removed.map(ee),be.added.forEach(function(pe,le){return H(pe,me,""+(be.index+le))});for(var he=be.index+be.addedCount;he<be.object.length;he++)if(B(be.object[he])){var ye=M.get(be.object[he]);ye&&(ye.path=""+he)}}})(q,ue),z(q,U(ue),C)}function H(q,ue,be){if(B(q)){var me=M.get(q);if(me){if(me.parent!==ue||me.path!==be)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+U(ue)+"/"+be+"', but it already exists at '"+U(me.parent)+"/"+me.path+"'")}else{var he={parent:ue,path:be,dispose:Object(s.D)(q,L)};M.set(q,he),Object(s.p)(q).forEach(function(ye){var pe=ye[0];return H(ye[1],he,pe)})}}}function ee(q){if(B(q)){var ue=M.get(q);if(!ue)return;M.delete(q),ue.dispose(),Object(s.L)(q).forEach(ee)}}return H(C,void 0,""),function(){ee(C)}}var Z,V=(Z=function(C,z){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,L){M.__proto__=L}||function(M,L){for(var H in L)L.hasOwnProperty(H)&&(M[H]=L[H])})(C,z)},function(C,z){function M(){this.constructor=C}Z(C,z),C.prototype=z===null?Object.create(z):(M.prototype=z.prototype,new M)});(function(C){function z(M,L,H){var ee=H===void 0?{}:H,q=ee.name,ue=q===void 0?"ogm"+(1e3*Math.random()|0):q,be=ee.keyToName,me=be===void 0?function(pe){return""+pe}:be,he=C.call(this)||this;he._keyToName=me,he._groupBy=L,he._ogmInfoKey=Symbol("ogmInfo"+ue),he._base=M;for(var ye=0;ye<M.length;ye++)he._addItem(M[ye]);return he._disposeBaseObserver=Object(s.D)(he._base,function(pe){if(pe.type==="splice")Object(s.J)(function(){for(var le=0,_e=pe.removed;le<_e.length;le++){var xe=_e[le];he._removeItem(xe)}for(var Me=0,Ie=pe.added;Me<Ie.length;Me++){var Xe=Ie[Me];he._addItem(Xe)}});else{if(pe.type!=="update")throw new Error("illegal state");Object(s.J)(function(){he._removeItem(pe.oldValue),he._addItem(pe.newValue)})}}),he}V(z,C),z.prototype.clear=function(){throw new Error("not supported")},z.prototype.delete=function(M){throw new Error("not supported")},z.prototype.set=function(M,L){throw new Error("not supported")},z.prototype.dispose=function(){this._disposeBaseObserver();for(var M=0;M<this._base.length;M++){var L=this._base[M];L[this._ogmInfoKey].reaction(),delete L[this._ogmInfoKey]}},z.prototype._getGroupArr=function(M){var L=C.prototype.get.call(this,M);return L===void 0&&(L=Object(s.C)([],{name:"GroupArray["+this._keyToName(M)+"]",deep:!1}),C.prototype.set.call(this,M,L)),L},z.prototype._removeFromGroupArr=function(M,L){var H=C.prototype.get.call(this,M);H.length===1?C.prototype.delete.call(this,M):(L===H.length-1||(H[L]=H[H.length-1],H[L][this._ogmInfoKey].groupArrIndex=L),H.length--)},z.prototype._addItem=function(M){var L=this,H=this._groupBy(M),ee=this._getGroupArr(H),q={groupByValue:H,groupArrIndex:ee.length,reaction:Object(s.F)(function(){return L._groupBy(M)},function(ue,be){var me=M[L._ogmInfoKey];L._removeFromGroupArr(me.groupByValue,me.groupArrIndex);var he=L._getGroupArr(ue),ye=he.length;he.push(M),me.groupByValue=ue,me.groupArrIndex=ye})};Object.defineProperty(M,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:q}),ee.push(M)},z.prototype._removeItem=function(M){var L=M[this._ogmInfoKey];this._removeFromGroupArr(L.groupByValue,L.groupArrIndex),L.reaction(),delete M[this._ogmInfoKey]}})(s.b),function(){function C(z,M){this.base=z,this.args=M,this.closestIdx=0,this.isDisposed=!1;for(var L=this.closest=this.root=z,H=0;H<this.args.length-1&&(L=L.get(M[H]));H++)this.closest=L;this.closestIdx=H}return C.prototype.exists=function(){this.assertNotDisposed();var z=this.args.length;return this.closestIdx>=z-1&&this.closest.has(this.args[z-1])},C.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},C.prototype.set=function(z){this.assertNotDisposed();for(var M=this.args.length,L=this.closest,H=this.closestIdx;H<M-1;H++){var ee=new Map;L.set(this.args[H],ee),L=ee}this.closestIdx=M-1,this.closest=L,L.set(this.args[M-1],z)},C.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var z=this.args.length;this.closest.delete(this.args[z-1]);for(var M=this.root,L=[M],H=0;H<z-1;H++)M=M.get(this.args[H]),L.push(M);for(H=L.length-1;H>0;H--)L[H].size===0&&L[H-1].delete(this.args[H-1]);this.isDisposed=!0},C.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},C}(),Promise.resolve(),typeof queueMicrotask!="undefined"||f!==void 0&&f.nextTick}).call(this,i(155))},function(c,p,i){var f;(function(s,g,O){if(s){for(var _,x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},A={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},N=1;N<20;++N)x[111+N]="f"+N;for(N=0;N<=9;++N)x[N+96]=N.toString();Z.prototype.bind=function(V,C,z){return V=V instanceof Array?V:[V],this._bindMultiple.call(this,V,C,z),this},Z.prototype.unbind=function(V,C){return this.bind.call(this,V,function(){},C)},Z.prototype.trigger=function(V,C){return this._directMap[V+":"+C]&&this._directMap[V+":"+C]({},V),this},Z.prototype.reset=function(){return this._callbacks={},this._directMap={},this},Z.prototype.stopCallback=function(V,C){if((" "+C.className+" ").indexOf(" mousetrap ")>-1||function M(L,H){return L!==null&&L!==g&&(L===H||M(L.parentNode,H))}(C,this.target))return!1;if("composedPath"in V&&typeof V.composedPath=="function"){var z=V.composedPath()[0];z!==V.target&&(C=z)}return C.tagName=="INPUT"||C.tagName=="SELECT"||C.tagName=="TEXTAREA"||C.isContentEditable},Z.prototype.handleKey=function(){var V=this;return V._handleKey.apply(V,arguments)},Z.addKeycodes=function(V){for(var C in V)V.hasOwnProperty(C)&&(x[C]=V[C]);_=null},Z.init=function(){var V=Z(g);for(var C in V)C.charAt(0)!=="_"&&(Z[C]=function(z){return function(){return V[z].apply(V,arguments)}}(C))},Z.init(),s.Mousetrap=Z,c.exports&&(c.exports=Z),(f=function(){return Z}.call(p,i,p,c))===void 0||(c.exports=f)}function R(V,C,z){V.addEventListener?V.addEventListener(C,z,!1):V.attachEvent("on"+C,z)}function F(V){if(V.type=="keypress"){var C=String.fromCharCode(V.which);return V.shiftKey||(C=C.toLowerCase()),C}return x[V.which]?x[V.which]:S[V.which]?S[V.which]:String.fromCharCode(V.which).toLowerCase()}function U(V){return V=="shift"||V=="ctrl"||V=="alt"||V=="meta"}function B(V,C,z){return z||(z=function(){if(!_)for(var M in _={},x)M>95&&M<112||x.hasOwnProperty(M)&&(_[x[M]]=M);return _}()[V]?"keydown":"keypress"),z=="keypress"&&C.length&&(z="keydown"),z}function Y(V,C){var z,M,L,H=[];for(z=function(ee){return ee==="+"?["+"]:(ee=ee.replace(/\+{2}/g,"+plus")).split("+")}(V),L=0;L<z.length;++L)M=z[L],A[M]&&(M=A[M]),C&&C!="keypress"&&P[M]&&(M=P[M],H.push("shift")),U(M)&&H.push(M);return{key:M,modifiers:H,action:C=B(M,H,C)}}function Z(V){var C=this;if(V=V||g,!(C instanceof Z))return new Z(V);C.target=V,C._callbacks={},C._directMap={};var z,M={},L=!1,H=!1,ee=!1;function q(pe){pe=pe||{};var le,_e=!1;for(le in M)pe[le]?_e=!0:M[le]=0;_e||(ee=!1)}function ue(pe,le,_e,xe,Me,Ie){var Xe,Ae,We,lt,J=[],Q=_e.type;if(!C._callbacks[pe])return[];for(Q=="keyup"&&U(pe)&&(le=[pe]),Xe=0;Xe<C._callbacks[pe].length;++Xe)if(Ae=C._callbacks[pe][Xe],(xe||!Ae.seq||M[Ae.seq]==Ae.level)&&Q==Ae.action&&(Q=="keypress"&&!_e.metaKey&&!_e.ctrlKey||(We=le,lt=Ae.modifiers,We.sort().join(",")===lt.sort().join(",")))){var ae=!xe&&Ae.combo==Me,ge=xe&&Ae.seq==xe&&Ae.level==Ie;(ae||ge)&&C._callbacks[pe].splice(Xe,1),J.push(Ae)}return J}function be(pe,le,_e,xe){C.stopCallback(le,le.target||le.srcElement,_e,xe)||pe(le,_e)===!1&&(function(Me){Me.preventDefault?Me.preventDefault():Me.returnValue=!1}(le),function(Me){Me.stopPropagation?Me.stopPropagation():Me.cancelBubble=!0}(le))}function me(pe){typeof pe.which!="number"&&(pe.which=pe.keyCode);var le=F(pe);le&&(pe.type!="keyup"||L!==le?C.handleKey(le,function(_e){var xe=[];return _e.shiftKey&&xe.push("shift"),_e.altKey&&xe.push("alt"),_e.ctrlKey&&xe.push("ctrl"),_e.metaKey&&xe.push("meta"),xe}(pe),pe):L=!1)}function he(pe,le,_e,xe){function Me(We){return function(){ee=We,++M[pe],clearTimeout(z),z=setTimeout(q,1e3)}}function Ie(We){be(_e,We,pe),xe!=="keyup"&&(L=F(We)),setTimeout(q,10)}M[pe]=0;for(var Xe=0;Xe<le.length;++Xe){var Ae=Xe+1===le.length?Ie:Me(xe||Y(le[Xe+1]).action);ye(le[Xe],Ae,xe,pe,Xe)}}function ye(pe,le,_e,xe,Me){C._directMap[pe+":"+_e]=le;var Ie,Xe=(pe=pe.replace(/\s+/g," ")).split(" ");Xe.length>1?he(pe,Xe,le,_e):(Ie=Y(pe,_e),C._callbacks[Ie.key]=C._callbacks[Ie.key]||[],ue(Ie.key,Ie.modifiers,{type:Ie.action},xe,pe,Me),C._callbacks[Ie.key][xe?"unshift":"push"]({callback:le,modifiers:Ie.modifiers,action:Ie.action,seq:xe,level:Me,combo:pe}))}C._handleKey=function(pe,le,_e){var xe,Me=ue(pe,le,_e),Ie={},Xe=0,Ae=!1;for(xe=0;xe<Me.length;++xe)Me[xe].seq&&(Xe=Math.max(Xe,Me[xe].level));for(xe=0;xe<Me.length;++xe)if(Me[xe].seq){if(Me[xe].level!=Xe)continue;Ae=!0,Ie[Me[xe].seq]=1,be(Me[xe].callback,_e,Me[xe].combo,Me[xe].seq)}else Ae||be(Me[xe].callback,_e,Me[xe].combo);var We=_e.type=="keypress"&&H;_e.type!=ee||U(pe)||We||q(Ie),H=Ae&&_e.type=="keydown"},C._bindMultiple=function(pe,le,_e){for(var xe=0;xe<pe.length;++xe)ye(pe[xe],le,_e)},R(V,"keypress",me),R(V,"keydown",me),R(V,"keyup",me)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(c,p,i){var f=i(36),s=i(37),g=i(32),O=i(39),_=i(66);c.exports=f?Object.defineProperties:function(x,S){g(x);for(var P,A=O(S),N=_(S),R=N.length,F=0;R>F;)s.f(x,P=N[F++],A[P]);return x}},function(c,p,i){var f=i(7),s=i(35),g=i(28),O=i(33),_=f.TypeError;c.exports=function(x,S){var P,A;if(S==="string"&&g(P=x.toString)&&!O(A=s(P,x))||g(P=x.valueOf)&&!O(A=s(P,x))||S!=="string"&&g(P=x.toString)&&!O(A=s(P,x)))return A;throw _("Can't convert object to primitive value")}},function(c,p,i){var f=i(7),s=i(28),g=i(92),O=f.WeakMap;c.exports=s(O)&&/native code/.test(g(O))},function(c,p,i){var f=i(136).IteratorPrototype,s=i(54),g=i(71),O=i(73),_=i(70),x=function(){return this};c.exports=function(S,P,A,N){var R=P+" Iterator";return S.prototype=s(f,{next:g(+!N,A)}),O(S,R,!1,!0),_[R]=x,S}},function(c,p,i){var f=i(7),s=i(28),g=f.String,O=f.TypeError;c.exports=function(_){if(typeof _=="object"||s(_))return _;throw O("Can't set "+g(_)+" as a prototype")}},function(c,p,i){var f=i(16),s=i(7),g=i(15),O=i(95),_=i(44),x=i(138),S=i(114),P=i(117),A=i(28),N=i(33),R=i(18),F=i(118),U=i(73),B=i(143);c.exports=function(Y,Z,V){var C=Y.indexOf("Map")!==-1,z=Y.indexOf("Weak")!==-1,M=C?"set":"add",L=s[Y],H=L&&L.prototype,ee=L,q={},ue=function(le){var _e=g(H[le]);_(H,le,le=="add"?function(xe){return _e(this,xe===0?0:xe),this}:le=="delete"?function(xe){return!(z&&!N(xe))&&_e(this,xe===0?0:xe)}:le=="get"?function(xe){return z&&!N(xe)?void 0:_e(this,xe===0?0:xe)}:le=="has"?function(xe){return!(z&&!N(xe))&&_e(this,xe===0?0:xe)}:function(xe,Me){return _e(this,xe===0?0:xe,Me),this})};if(O(Y,!A(L)||!(z||H.forEach&&!R(function(){new L().entries().next()}))))ee=V.getConstructor(Z,Y,C,M),x.enable();else if(O(Y,!0)){var be=new ee,me=be[M](z?{}:-0,1)!=be,he=R(function(){be.has(1)}),ye=F(function(le){new L(le)}),pe=!z&&R(function(){for(var le=new L,_e=5;_e--;)le[M](_e,_e);return!le.has(-0)});ye||((ee=Z(function(le,_e){P(le,H);var xe=B(new L,le,ee);return _e!=null&&S(_e,xe[M],{that:xe,AS_ENTRIES:C}),xe})).prototype=H,H.constructor=ee),(he||pe)&&(ue("delete"),ue("has"),C&&ue("get")),(pe||me)&&ue(M),z&&H.clear&&delete H.clear}return q[Y]=ee,f({global:!0,forced:ee!=L},q),U(ee,Y),z||V.setStrong(ee,Y,C),ee}},function(c,p,i){var f=i(18),s=i(33),g=i(50),O=i(175),_=Object.isExtensible,x=f(function(){});c.exports=x||O?function(S){return!!s(S)&&(!O||g(S)!="ArrayBuffer")&&(!_||_(S))}:_},function(c,p,i){var f=i(18);c.exports=f(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}})},function(c,p,i){var f=i(18);c.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(c,p,i){var f=i(37).f,s=i(54),g=i(144),O=i(62),_=i(117),x=i(114),S=i(111),P=i(145),A=i(36),N=i(138).fastKey,R=i(56),F=R.set,U=R.getterFor;c.exports={getConstructor:function(B,Y,Z,V){var C=B(function(ee,q){_(ee,z),F(ee,{type:Y,index:s(null),first:void 0,last:void 0,size:0}),A||(ee.size=0),q!=null&&x(q,ee[V],{that:ee,AS_ENTRIES:Z})}),z=C.prototype,M=U(Y),L=function(ee,q,ue){var be,me,he=M(ee),ye=H(ee,q);return ye?ye.value=ue:(he.last=ye={index:me=N(q,!0),key:q,value:ue,previous:be=he.last,next:void 0,removed:!1},he.first||(he.first=ye),be&&(be.next=ye),A?he.size++:ee.size++,me!=="F"&&(he.index[me]=ye)),ee},H=function(ee,q){var ue,be=M(ee),me=N(q);if(me!=="F")return be.index[me];for(ue=be.first;ue;ue=ue.next)if(ue.key==q)return ue};return g(z,{clear:function(){for(var ee=M(this),q=ee.index,ue=ee.first;ue;)ue.removed=!0,ue.previous&&(ue.previous=ue.previous.next=void 0),delete q[ue.index],ue=ue.next;ee.first=ee.last=void 0,A?ee.size=0:this.size=0},delete:function(ee){var q=M(this),ue=H(this,ee);if(ue){var be=ue.next,me=ue.previous;delete q.index[ue.index],ue.removed=!0,me&&(me.next=be),be&&(be.previous=me),q.first==ue&&(q.first=be),q.last==ue&&(q.last=me),A?q.size--:this.size--}return!!ue},forEach:function(ee){for(var q,ue=M(this),be=O(ee,arguments.length>1?arguments[1]:void 0);q=q?q.next:ue.first;)for(be(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function(ee){return!!H(this,ee)}}),g(z,Z?{get:function(ee){var q=H(this,ee);return q&&q.value},set:function(ee,q){return L(this,ee===0?0:ee,q)}}:{add:function(ee){return L(this,ee=ee===0?0:ee,ee)}}),A&&f(z,"size",{get:function(){return M(this).size}}),C},setStrong:function(B,Y,Z){var V=Y+" Iterator",C=U(Y),z=U(V);S(B,Y,function(M,L){F(this,{type:V,target:M,state:C(M),kind:L,last:void 0})},function(){for(var M=z(this),L=M.kind,H=M.last;H&&H.removed;)H=H.previous;return M.target&&(M.last=H=H?H.next:M.state.first)?L=="keys"?{value:H.key,done:!1}:L=="values"?{value:H.value,done:!1}:{value:[H.key,H.value],done:!1}:(M.target=void 0,{value:void 0,done:!0})},Z?"entries":"values",!Z,!0),P(Y)}}},function(c,p,i){var f=i(116),s=i(98);c.exports=f?{}.toString:function(){return"[object "+s(this)+"]"}},function(c,p,i){var f=i(74).forEach,s=i(120)("forEach");c.exports=s?[].forEach:function(g){return f(this,g,arguments.length>1?arguments[1]:void 0)}},function(c,p,i){var f=i(7),s=i(99),g=i(100),O=i(33),_=i(27)("species"),x=f.Array;c.exports=function(S){var P;return s(S)&&(P=S.constructor,(g(P)&&(P===x||s(P.prototype))||O(P)&&(P=P[_])===null)&&(P=void 0)),P===void 0?x:P}},function(c,p,i){var f=i(7);c.exports=f},function(c,p,i){var f=i(7),s=i(62),g=i(35),O=i(38),_=i(183),x=i(140),S=i(100),P=i(43),A=i(61),N=i(141),R=i(115),F=f.Array;c.exports=function(U){var B=O(U),Y=S(this),Z=arguments.length,V=Z>1?arguments[1]:void 0,C=V!==void 0;C&&(V=s(V,Z>2?arguments[2]:void 0));var z,M,L,H,ee,q,ue=R(B),be=0;if(!ue||this==F&&x(ue))for(z=P(B),M=Y?new this(z):F(z);z>be;be++)q=C?V(B[be],be):B[be],A(M,be,q);else for(ee=(H=N(B,ue)).next,M=Y?new this:[];!(L=g(ee,H)).done;be++)q=C?_(H,V,[L.value,be],!0):L.value,A(M,be,q);return M.length=be,M}},function(c,p,i){var f=i(32),s=i(142);c.exports=function(g,O,_,x){try{return x?O(f(_)[0],_[1]):O(_)}catch(S){s(g,"throw",S)}}},function(c,p,i){var f=i(32);c.exports=function(){var s=f(this),g="";return s.global&&(g+="g"),s.ignoreCase&&(g+="i"),s.multiline&&(g+="m"),s.dotAll&&(g+="s"),s.unicode&&(g+="u"),s.sticky&&(g+="y"),g}},function(c,p,i){var f=i(18),s=i(7).RegExp;c.exports=f(function(){var g=s(".","s");return!(g.dotAll&&g.exec(`
`)&&g.flags==="s")})},function(c,p,i){var f=i(18),s=i(7).RegExp;c.exports=f(function(){var g=s("(?<a>b)","g");return g.exec("b").groups.a!=="b"||"b".replace(g,"$<a>c")!=="bc"})},function(c,p,i){var f=i(16),s=i(15),g=i(55),O=i(38),_=i(43),x=i(40),S=i(18),P=i(188),A=i(120),N=i(189),R=i(190),F=i(65),U=i(191),B=[],Y=s(B.sort),Z=s(B.push),V=S(function(){B.sort(void 0)}),C=S(function(){B.sort(null)}),z=A("sort"),M=!S(function(){if(F)return F<70;if(!(N&&N>3)){if(R)return!0;if(U)return U<603;var L,H,ee,q,ue="";for(L=65;L<76;L++){switch(H=String.fromCharCode(L),L){case 66:case 69:case 70:case 72:ee=3;break;case 68:case 71:ee=4;break;default:ee=2}for(q=0;q<47;q++)B.push({k:H+q,v:ee})}for(B.sort(function(be,me){return me.v-be.v}),q=0;q<B.length;q++)H=B[q].k.charAt(0),ue.charAt(ue.length-1)!==H&&(ue+=H);return ue!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:V||!C||!z||!M},{sort:function(L){L!==void 0&&g(L);var H=O(this);if(M)return L===void 0?Y(H):Y(H,L);var ee,q,ue=[],be=_(H);for(q=0;q<be;q++)q in H&&Z(ue,H[q]);for(P(ue,function(me){return function(he,ye){return ye===void 0?-1:he===void 0?1:me!==void 0?+me(he,ye)||0:x(he)>x(ye)?1:-1}}(L)),ee=ue.length,q=0;q<ee;)H[q]=ue[q++];for(;q<be;)delete H[q++];return H}})},function(c,p,i){var f=i(113),s=Math.floor,g=function(x,S){var P=x.length,A=s(P/2);return P<8?O(x,S):_(x,g(f(x,0,A),S),g(f(x,A),S),S)},O=function(x,S){for(var P,A,N=x.length,R=1;R<N;){for(A=R,P=x[R];A&&S(x[A-1],P)>0;)x[A]=x[--A];A!==R++&&(x[A]=P)}return x},_=function(x,S,P,A){for(var N=S.length,R=P.length,F=0,U=0;F<N||U<R;)x[F+U]=F<N&&U<R?A(S[F],P[U])<=0?S[F++]:P[U++]:F<N?S[F++]:P[U++];return x};c.exports=g},function(c,p,i){var f=i(53).match(/firefox\/(\d+)/i);c.exports=!!f&&+f[1]},function(c,p,i){var f=i(53);c.exports=/MSIE|Trident/.test(f)},function(c,p,i){var f=i(53).match(/AppleWebKit\/(\d+)\./);c.exports=!!f&&+f[1]},function(c,p,i){var f=i(16),s=i(74).find,g=i(83),O=!0;"find"in[]&&Array(1).find(function(){O=!1}),f({target:"Array",proto:!0,forced:O},{find:function(_){return s(this,_,arguments.length>1?arguments[1]:void 0)}}),g("find")},function(c,p,i){var f=i(7),s=i(154),g=f.TypeError;c.exports=function(O){if(s(O))throw g("The method doesn't accept regular expressions");return O}},function(c,p,i){var f=i(27)("match");c.exports=function(s){var g=/./;try{"/./"[s](g)}catch(O){try{return g[f]=!1,"/./"[s](g)}catch(_){}}return!1}},function(c,p,i){var f=i(94).PROPER,s=i(18),g=i(160);c.exports=function(O){return s(function(){return!!g[O]()||"\u200B\x85\u180E"[O]()!=="\u200B\x85\u180E"||f&&g[O].name!==O})}},function(c,p,i){var f=i(15);c.exports=f(1 .valueOf)},function(c,p,i){var f=i(15),s=i(38),g=Math.floor,O=f("".charAt),_=f("".replace),x=f("".slice),S=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,P=/\$([$&'`]|\d{1,2})/g;c.exports=function(A,N,R,F,U,B){var Y=R+A.length,Z=F.length,V=P;return U!==void 0&&(U=s(U),V=S),_(B,V,function(C,z){var M;switch(O(z,0)){case"$":return"$";case"&":return A;case"`":return x(N,0,R);case"'":return x(N,Y);case"<":M=U[x(z,1,-1)];break;default:var L=+z;if(L===0)return C;if(L>Z){var H=g(L/10);return H===0?C:H<=Z?F[H-1]===void 0?O(z,1):F[H-1]+O(z,1):C}M=F[L-1]}return M===void 0?"":M})}},function(c,p,i){var f=i(7),s=i(15),g=i(55),O=i(33),_=i(34),x=i(101),S=f.Function,P=s([].concat),A=s([].join),N={},R=function(F,U,B){if(!_(N,U)){for(var Y=[],Z=0;Z<U;Z++)Y[Z]="a["+Z+"]";N[U]=S("C,a","return new C("+A(Y,",")+")")}return N[U](F,B)};c.exports=S.bind||function(F){var U=g(this),B=U.prototype,Y=x(arguments,1),Z=function(){var V=P(Y,x(arguments));return this instanceof Z?R(U,V.length,V):U.apply(F,V)};return O(B)&&(Z.prototype=B),Z}},function(c,p,i){var f=i(34);c.exports=function(s){return s!==void 0&&(f(s,"value")||f(s,"writable"))}},function(c,p,i){var f=i(36),s=i(15),g=i(35),O=i(18),_=i(66),x=i(112),S=i(93),P=i(38),A=i(81),N=Object.assign,R=Object.defineProperty,F=s([].concat);c.exports=!N||O(function(){if(f&&N({b:1},N(R({},"a",{enumerable:!0,get:function(){R(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var U={},B={},Y=Symbol();return U[Y]=7,"abcdefghijklmnopqrst".split("").forEach(function(Z){B[Z]=Z}),N({},U)[Y]!=7||_(N({},B)).join("")!="abcdefghijklmnopqrst"})?function(U,B){for(var Y=P(U),Z=arguments.length,V=1,C=x.f,z=S.f;Z>V;)for(var M,L=A(arguments[V++]),H=C?F(_(L),C(L)):_(L),ee=H.length,q=0;ee>q;)M=H[q++],f&&!g(z,L,M)||(Y[M]=L[M]);return Y}:N},function(c,p,i){var f=i(15),s=i(45),g=i(40),O=/"/g,_=f("".replace);c.exports=function(x,S,P,A){var N=g(s(x)),R="<"+S;return P!==""&&(R+=" "+P+'="'+_(g(A),O,"&quot;")+'"'),R+">"+N+"</"+S+">"}},function(c,p,i){var f=i(18);c.exports=function(s){return f(function(){var g=""[s]('"');return g!==g.toLowerCase()||g.split('"').length>3})}},function(c,p,i){var f=i(16),s=Math.hypot,g=Math.abs,O=Math.sqrt;f({target:"Math",stat:!0,forced:!!s&&s(1/0,NaN)!==1/0},{hypot:function(_,x){for(var S,P,A=0,N=0,R=arguments.length,F=0;N<R;)F<(S=g(arguments[N++]))?(A=A*(P=F/S)*P+1,F=S):A+=S>0?(P=S/F)*P:S;return F===1/0?1/0:F*O(A)}})},function(c,p,i){var f,s,g,O,_=i(16),x=i(64),S=i(7),P=i(46),A=i(35),N=i(205),R=i(44),F=i(144),U=i(97),B=i(73),Y=i(145),Z=i(55),V=i(28),C=i(33),z=i(117),M=i(92),L=i(114),H=i(118),ee=i(156),q=i(162).set,ue=i(206),be=i(209),me=i(210),he=i(164),ye=i(211),pe=i(56),le=i(95),_e=i(27),xe=i(212),Me=i(126),Ie=i(65),Xe=_e("species"),Ae="Promise",We=pe.getterFor(Ae),lt=pe.set,J=pe.getterFor(Ae),Q=N&&N.prototype,ae=N,ge=Q,De=S.TypeError,we=S.document,Ke=S.process,Ve=he.f,et=Ve,$e=!!(we&&we.createEvent&&S.dispatchEvent),ve=V(S.PromiseRejectionEvent),K=!1,Fe=le(Ae,function(){var ne=M(ae),Se=ne!==String(ae);if(!Se&&Ie===66||x&&!ge.finally)return!0;if(Ie>=51&&/native code/.test(ne))return!1;var Pe=new ae(function(Ge){Ge(1)}),Te=function(Ge){Ge(function(){},function(){})};return(Pe.constructor={})[Xe]=Te,!(K=Pe.then(function(){})instanceof Te)||!Se&&xe&&!ve}),He=Fe||!H(function(ne){ae.all(ne).catch(function(){})}),Ze=function(ne){var Se;return!(!C(ne)||!V(Se=ne.then))&&Se},At=function(ne,Se){if(!ne.notified){ne.notified=!0;var Pe=ne.reactions;ue(function(){for(var Te=ne.value,Ge=ne.state==1,gt=0;Pe.length>gt;){var wt,Zt,en,st=Pe[gt++],Ce=Ge?st.ok:st.fail,Ye=st.resolve,Qe=st.reject,nt=st.domain;try{Ce?(Ge||(ne.rejection===2&&Rt(ne),ne.rejection=1),Ce===!0?wt=Te:(nt&&nt.enter(),wt=Ce(Te),nt&&(nt.exit(),en=!0)),wt===st.promise?Qe(De("Promise-chain cycle")):(Zt=Ze(wt))?A(Zt,wt,Ye,Qe):Ye(wt)):Qe(Te)}catch(xt){nt&&!en&&nt.exit(),Qe(xt)}}ne.reactions=[],ne.notified=!1,Se&&!ne.rejection&&ft(ne)})}},ut=function(ne,Se,Pe){var Te,Ge;$e?((Te=we.createEvent("Event")).promise=Se,Te.reason=Pe,Te.initEvent(ne,!1,!0),S.dispatchEvent(Te)):Te={promise:Se,reason:Pe},!ve&&(Ge=S["on"+ne])?Ge(Te):ne==="unhandledrejection"&&me("Unhandled promise rejection",Pe)},ft=function(ne){A(q,S,function(){var Se,Pe=ne.facade,Te=ne.value;if(yt(ne)&&(Se=ye(function(){Me?Ke.emit("unhandledRejection",Te,Pe):ut("unhandledrejection",Pe,Te)}),ne.rejection=Me||yt(ne)?2:1,Se.error))throw Se.value})},yt=function(ne){return ne.rejection!==1&&!ne.parent},Rt=function(ne){A(q,S,function(){var Se=ne.facade;Me?Ke.emit("rejectionHandled",Se):ut("rejectionhandled",Se,ne.value)})},G=function(ne,Se,Pe){return function(Te){ne(Se,Te,Pe)}},te=function(ne,Se,Pe){ne.done||(ne.done=!0,Pe&&(ne=Pe),ne.value=Se,ne.state=2,At(ne,!0))},fe=function(ne,Se,Pe){if(!ne.done){ne.done=!0,Pe&&(ne=Pe);try{if(ne.facade===Se)throw De("Promise can't be resolved itself");var Te=Ze(Se);Te?ue(function(){var Ge={done:!1};try{A(Te,Se,G(fe,Ge,ne),G(te,Ge,ne))}catch(gt){te(Ge,gt,ne)}}):(ne.value=Se,ne.state=1,At(ne,!1))}catch(Ge){te({done:!1},Ge,ne)}}};if(Fe&&(ge=(ae=function(ne){z(this,ge),Z(ne),A(f,this);var Se=We(this);try{ne(G(fe,Se),G(te,Se))}catch(Pe){te(Se,Pe)}}).prototype,(f=function(ne){lt(this,{type:Ae,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=F(ge,{then:function(ne,Se){var Pe=J(this),Te=Pe.reactions,Ge=Ve(ee(this,ae));return Ge.ok=!V(ne)||ne,Ge.fail=V(Se)&&Se,Ge.domain=Me?Ke.domain:void 0,Pe.parent=!0,Te[Te.length]=Ge,Pe.state!=0&&At(Pe,!1),Ge.promise},catch:function(ne){return this.then(void 0,ne)}}),s=function(){var ne=new f,Se=We(ne);this.promise=ne,this.resolve=G(fe,Se),this.reject=G(te,Se)},he.f=Ve=function(ne){return ne===ae||ne===g?new s(ne):et(ne)},!x&&V(N)&&Q!==Object.prototype)){O=Q.then,K||(R(Q,"then",function(ne,Se){var Pe=this;return new ae(function(Te,Ge){A(O,Pe,Te,Ge)}).then(ne,Se)},{unsafe:!0}),R(Q,"catch",ge.catch,{unsafe:!0}));try{delete Q.constructor}catch(ne){}U&&U(Q,ge)}_({global:!0,wrap:!0,forced:Fe},{Promise:ae}),B(ae,Ae,!1,!0),Y(Ae),g=P(Ae),_({target:Ae,stat:!0,forced:Fe},{reject:function(ne){var Se=Ve(this);return A(Se.reject,void 0,ne),Se.promise}}),_({target:Ae,stat:!0,forced:x||Fe},{resolve:function(ne){return be(x&&this===g?ae:this,ne)}}),_({target:Ae,stat:!0,forced:He},{all:function(ne){var Se=this,Pe=Ve(Se),Te=Pe.resolve,Ge=Pe.reject,gt=ye(function(){var wt=Z(Se.resolve),Zt=[],en=0,st=1;L(ne,function(Ce){var Ye=en++,Qe=!1;st++,A(wt,Se,Ce).then(function(nt){Qe||(Qe=!0,Zt[Ye]=nt,--st||Te(Zt))},Ge)}),--st||Te(Zt)});return gt.error&&Ge(gt.value),Pe.promise},race:function(ne){var Se=this,Pe=Ve(Se),Te=Pe.reject,Ge=ye(function(){var gt=Z(Se.resolve);L(ne,function(wt){A(gt,Se,wt).then(Pe.resolve,Te)})});return Ge.error&&Te(Ge.value),Pe.promise}})},function(c,p,i){var f=i(7);c.exports=f.Promise},function(c,p,i){var f,s,g,O,_,x,S,P,A=i(7),N=i(62),R=i(51).f,F=i(162).set,U=i(163),B=i(207),Y=i(208),Z=i(126),V=A.MutationObserver||A.WebKitMutationObserver,C=A.document,z=A.process,M=A.Promise,L=R(A,"queueMicrotask"),H=L&&L.value;H||(f=function(){var ee,q;for(Z&&(ee=z.domain)&&ee.exit();s;){q=s.fn,s=s.next;try{q()}catch(ue){throw s?O():g=void 0,ue}}g=void 0,ee&&ee.enter()},U||Z||Y||!V||!C?!B&&M&&M.resolve?((S=M.resolve(void 0)).constructor=M,P=N(S.then,S),O=function(){P(f)}):Z?O=function(){z.nextTick(f)}:(F=N(F,A),O=function(){F(f)}):(_=!0,x=C.createTextNode(""),new V(f).observe(x,{characterData:!0}),O=function(){x.data=_=!_})),c.exports=H||function(ee){var q={fn:ee,next:void 0};g&&(g.next=q),s||(s=q,O()),g=q}},function(c,p,i){var f=i(53),s=i(7);c.exports=/ipad|iphone|ipod/i.test(f)&&s.Pebble!==void 0},function(c,p,i){var f=i(53);c.exports=/web0s(?!.*chrome)/i.test(f)},function(c,p,i){var f=i(32),s=i(33),g=i(164);c.exports=function(O,_){if(f(O),s(_)&&_.constructor===O)return _;var x=g.f(O);return(0,x.resolve)(_),x.promise}},function(c,p,i){var f=i(7);c.exports=function(s,g){var O=f.console;O&&O.error&&(arguments.length==1?O.error(s):O.error(s,g))}},function(c,p){c.exports=function(i){try{return{error:!1,value:i()}}catch(f){return{error:!0,value:f}}}},function(c,p){c.exports=typeof window=="object"},function(c,p,i){var f=i(36),s=i(15),g=i(66),O=i(39),_=s(i(93).f),x=s([].push),S=function(P){return function(A){for(var N,R=O(A),F=g(R),U=F.length,B=0,Y=[];U>B;)N=F[B++],f&&!_(R,N)||x(Y,P?[N,R[N]]:R[N]);return Y}};c.exports={entries:S(!0),values:S(!1)}},function(c,p,i){var f=i(38),s=i(67),g=i(43);c.exports=function(O){for(var _=f(this),x=g(_),S=arguments.length,P=s(S>1?arguments[1]:void 0,x),A=S>2?arguments[2]:void 0,N=A===void 0?x:s(A,x);N>P;)_[P++]=O;return _}},function(c,p,i){i.r(p),i.d(p,"observer",function(){return zn}),i.d(p,"LogicFlow",function(){return qc}),i.d(p,"h",function(){return K.g}),i.d(p,"LogicFlowUtil",function(){return f}),i.d(p,"BaseNode",function(){return hr}),i.d(p,"RectNode",function(){return dc}),i.d(p,"CircleNode",function(){return yc}),i.d(p,"PolygonNode",function(){return gc}),i.d(p,"DiamondNode",function(){return mc}),i.d(p,"EllipseNode",function(){return _c}),i.d(p,"TextNode",function(){return xc}),i.d(p,"HtmlNode",function(){return jc}),i.d(p,"BaseEdge",function(){return hi}),i.d(p,"LineEdge",function(){return Cc}),i.d(p,"PolylineEdge",function(){return Lc}),i.d(p,"BezierEdge",function(){return Fc}),i.d(p,"Arrow",function(){return qO}),i.d(p,"BaseEdgeModel",function(){return Su}),i.d(p,"BezierEdgeModel",function(){return qu}),i.d(p,"LineEdgeModel",function(){return Au}),i.d(p,"PolylineEdgeModel",function(){return Mu}),i.d(p,"BaseNodeModel",function(){return pr}),i.d(p,"CircleNodeModel",function(){return Ju}),i.d(p,"DiamondNodeModel",function(){return ec}),i.d(p,"EllipseNodeModel",function(){return tc}),i.d(p,"PolygonNodeModel",function(){return rc}),i.d(p,"RectNodeModel",function(){return oc}),i.d(p,"TextNodeModel",function(){return ic}),i.d(p,"HtmlNodeModel",function(){return uc}),i.d(p,"EditConfigModel",function(){return Cs}),i.d(p,"GraphModel",function(){return Sf}),i.d(p,"SnaplineModel",function(){return Jd}),i.d(p,"Keyboard",function(){return zy}),i.d(p,"get",function(){return Op}),i.d(p,"defaults",function(){return wp});var f={};i.r(f),i.d(f,"createUuid",function(){return Wr}),i.d(f,"refreshGraphId",function(){return ob}),i.d(f,"createDrag",function(){return Iu}),i.d(f,"StepDrag",function(){return Zr});var s=i(0),g=i(10);if(!g.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!s.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var O=i(42),_=Object(O.b)("observerBatching");function x(e){e()}var S=!1;function P(){return S}function A(e){return Object(s.t)(e)}var N,R=1e4,F=new Set;function U(){N===void 0&&(N=setTimeout(B,1e4))}function B(){N=void 0;var e=Date.now();F.forEach(function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,F.delete(t))}),F.size>0&&U()}var Y=!1,Z=[],V={};function C(e){return"observer"+e}function z(e,t,n){t===void 0&&(t="observed"),n===void 0&&(n=V),P();var r,a=function(m){return function(){Y?Z.push(m):m()}}((n.useForceUpdate||O.d)()),o=g.d.useRef(null);if(!o.current){var u=new s.c(C(t),function(){l.mounted?a():(u.dispose(),o.current=null)}),l=function(m){return{cleanAt:Date.now()+R,reaction:m}}(u);o.current=l,r=o,F.add(r),U()}var d=o.current.reaction;return g.d.useDebugValue(d,A),g.d.useEffect(function(){var m;return m=o,F.delete(m),o.current?o.current.mounted=!0:(o.current={reaction:new s.c(C(t),function(){a()}),cleanAt:1/0},a()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(m){Y=!0,Z=[];try{var w=m();Y=!1;var j=Z.length>0?Z:void 0;return g.d.useLayoutEffect(function(){j&&j.forEach(function(k){return k()})},[j]),w}finally{Y=!1}}(function(){var m,w;if(d.track(function(){try{m=e()}catch(j){w=j}}),w)throw w;return m})}var M=function(){return(M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function L(e,t){var n,r,a,o=M({forwardRef:!1},t),u=e.displayName||e.name,l=function(d,m){return z(function(){return e(d,m)},u)};return l.displayName=u,n=o.forwardRef?Object(g.f)(Object(g.e)(l)):Object(g.f)(l),r=e,a=n,Object.keys(r).forEach(function(d){H[d]||Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(r,d))}),n.displayName=u,n}var H={$$typeof:!0,render:!0,compare:!0,type:!0};function ee(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:z(r)}function q(e,t,n,r,a){var o=t==="children"?"render":"children",u=typeof e[t]=="function",l=typeof e[o]=="function";return u&&l?new Error("MobX Observer: Do not use children and render in the same time in`"+n):u||l?null:new Error("Invalid prop `"+a+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}ee.propTypes={children:q,render:q},ee.displayName="Observer";var ue;(ue=g.g)||(ue=x),Object(s.n)({reactionScheduler:ue}),Object(O.a)()[_]=!0;var be=0,me={};function he(e){return me[e]||(me[e]=function(t){if(typeof Symbol=="function")return Symbol(t);var n="__$mobx-react "+t+" ("+be+")";return be++,n}(e)),me[e]}function ye(e,t){if(pe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(t,n[a])||!pe(e[n[a]],t[n[a]]))return!1;return!0}function pe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function le(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var _e=he("patchMixins"),xe=he("patchedDefinition");function Me(e,t){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];t.locks++;try{var u;return e!=null&&(u=e.apply(this,a)),u}finally{t.locks--,t.locks===0&&t.methods.forEach(function(l){l.apply(n,a)})}}function Ie(e,t){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];Me.call.apply(Me,[this,e,t].concat(r))}}function Xe(e,t,n){var r=function(l,d){var m=l[_e]=l[_e]||{},w=m[d]=m[d]||{};return w.locks=w.locks||0,w.methods=w.methods||[],w}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var a=Object.getOwnPropertyDescriptor(e,t);if(!a||!a[xe]){var o=e[t],u=function l(d,m,w,j,k){var I,W=Ie(k,j);return(I={})[xe]=!0,I.get=function(){return W},I.set=function($){if(this===d)W=Ie($,j);else{var oe=l(this,m,w,j,$);Object.defineProperty(this,m,oe)}},I.configurable=!0,I.enumerable=w,I}(e,t,a?a.enumerable:void 0,r,o);Object.defineProperty(e,t,u)}}var Ae=s.a||"$mobx",We=he("isMobXReactObserver"),lt=he("isUnmounted"),J=he("skipRender"),Q=he("isForcingUpdate");function ae(e){var t=e.prototype;if(e[We]){var n=ge(t);console.warn("The provided component class ("+n+`) 
                has already been declared as an observer component.`)}else e[We]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==g.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==we)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=we;Ke(t,"props"),Ke(t,"state");var r=t.render;return t.render=function(){return De.call(this,r)},Xe(t,"componentWillUnmount",function(){var a;if((a=this.render[Ae])===null||a===void 0||a.dispose(),this[lt]=!0,!this.render[Ae]){var o=ge(this);console.warn("The reactive render of an observer class component ("+o+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ge(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function De(e){var t=this;le(this,J,!1),le(this,Q,!1);var n=ge(this),r=e.bind(this),a=!1,o=new s.c(n+".render()",function(){if(!a&&(a=!0,t[lt]!==!0)){var l=!0;try{le(t,Q,!0),t[J]||g.a.prototype.forceUpdate.call(t),l=!1}finally{le(t,Q,!1),l&&o.dispose()}}});function u(){a=!1;var l=void 0,d=void 0;if(o.track(function(){try{d=Object(s.d)(!1,r)}catch(m){l=m}}),l)throw l;return d}return o.reactComponent=this,u[Ae]=o,this.render=u,u.call(this)}function we(e,t){return this.state!==t||!ye(this.props,e)}function Ke(e,t){var n=he("reactProp_"+t+"_valueHolder"),r=he("reactProp_"+t+"_atomHolder");function a(){return this[r]||le(this,r,Object(s.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var o=!1;return s.f&&s.e&&(o=Object(s.f)(!0)),a.call(this).reportObserved(),s.f&&s.e&&Object(s.e)(o),this[n]},set:function(o){this[Q]||ye(this[n],o)?le(this,n,o):(le(this,n,o),le(this,J,!0),a.call(this).reportChanged(),le(this,J,!1))}})}var Ve=typeof Symbol=="function"&&Symbol.for,et=Ve?Symbol.for("react.forward_ref"):typeof g.e=="function"&&Object(g.e)(function(e){return null}).$$typeof,$e=Ve?Symbol.for("react.memo"):typeof g.f=="function"&&Object(g.f)(function(e){return null}).$$typeof;function ve(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),$e&&e.$$typeof===$e)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(et&&e.$$typeof===et){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(g.e)(function(){var n=arguments;return Object(g.c)(ee,null,function(){return t.apply(void 0,n)})})}return typeof e!="function"||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(g.a,e)?ae(e):L(e)}if(!g.a)throw new Error("mobx-react requires React to be available");if(!s.C)throw new Error("mobx-react requires mobx to be available");var K=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(24),i(20),i(5),i(22),i(21),i(23),i(8),i(9),i(17),i(25),i(19),i(29),i(187),i(192),i(103),i(152),i(153);var Fe=function(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a},He=function(){this.__data__=[],this.size=0},Ze=function(e,t){return e===t||e!=e&&t!=t},At=function(e,t){for(var n=e.length;n--;)if(Ze(e[n][0],t))return n;return-1},ut=Array.prototype.splice,ft=function(e){var t=this.__data__,n=At(t,e);return!(n<0)&&(n==t.length-1?t.pop():ut.call(t,n,1),--this.size,!0)},yt=function(e){var t=this.__data__,n=At(t,e);return n<0?void 0:t[n][1]},Rt=function(e){return At(this.__data__,e)>-1},G=function(e,t){var n=this.__data__,r=At(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function te(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}te.prototype.clear=He,te.prototype.delete=ft,te.prototype.get=yt,te.prototype.has=Rt,te.prototype.set=G;var fe=te,ne=function(){this.__data__=new fe,this.size=0},Se=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Pe=function(e){return this.__data__.get(e)},Te=function(e){return this.__data__.has(e)},Ge=i(30),gt=Ge.a.Symbol,wt=Object.prototype,Zt=wt.hasOwnProperty,en=wt.toString,st=gt?gt.toStringTag:void 0,Ce=function(e){var t=Zt.call(e,st),n=e[st];try{e[st]=void 0;var r=!0}catch(o){}var a=en.call(e);return r&&(t?e[st]=n:delete e[st]),a},Ye=Object.prototype.toString,Qe=function(e){return Ye.call(e)},nt=gt?gt.toStringTag:void 0,xt=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":nt&&nt in Object(e)?Ce(e):Qe(e)},Tt=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},tn,Co=function(e){if(!Tt(e))return!1;var t=xt(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Bn=Ge.a["__core-js_shared__"],or=(tn=/[^.]+$/.exec(Bn&&Bn.keys&&Bn.keys.IE_PROTO||""))?"Symbol(src)_1."+tn:"",io=function(e){return!!or&&or in e},Za=Function.prototype.toString,Sn=function(e){if(e!=null){try{return Za.call(e)}catch(t){}try{return e+""}catch(t){}}return""},ao=/^\[object .+?Constructor\]$/,Ai=Function.prototype,Be=Object.prototype,qa=Ai.toString,ki=Be.hasOwnProperty,Mi=RegExp("^"+qa.call(ki).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yn=function(e){return!(!Tt(e)||io(e))&&(Co(e)?Mi:ao).test(Sn(e))},vn=function(e,t){return e==null?void 0:e[t]},Fn=function(e,t){var n=vn(e,t);return yn(n)?n:void 0},mr=Fn(Ge.a,"Map"),Pn=Fn(Object,"create"),Ro=function(){this.__data__=Pn?Pn(null):{},this.size=0},Di=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$a=Object.prototype.hasOwnProperty,uo=function(e){var t=this.__data__;if(Pn){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return $a.call(t,e)?t[e]:void 0},Ja=Object.prototype.hasOwnProperty,Ti=function(e){var t=this.__data__;return Pn?t[e]!==void 0:Ja.call(t,e)},Qa=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pn&&t===void 0?"__lodash_hash_undefined__":t,this};function ir(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ir.prototype.clear=Ro,ir.prototype.delete=Di,ir.prototype.get=uo,ir.prototype.has=Ti,ir.prototype.set=Qa;var Ni=ir,Hn=function(){this.size=0,this.__data__={hash:new Ni,map:new(mr||fe),string:new Ni}},eu=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},co=function(e,t){var n=e.__data__;return eu(t)?n[typeof t=="string"?"string":"hash"]:n.map},Io=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Lo=function(e){return co(this,e).get(e)},tu=function(e){return co(this,e).has(e)},Ci=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Or(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Or.prototype.clear=Hn,Or.prototype.delete=Io,Or.prototype.get=Lo,Or.prototype.has=tu,Or.prototype.set=Ci;var _r=Or,Ri=function(e,t){var n=this.__data__;if(n instanceof fe){var r=n.__data__;if(!mr||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _r(r)}return n.set(e,t),this.size=n.size,this};function wr(e){var t=this.__data__=new fe(e);this.size=t.size}wr.prototype.clear=ne,wr.prototype.delete=Se,wr.prototype.get=Pe,wr.prototype.has=Te,wr.prototype.set=Ri;var Un=wr,Ii=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Li=function(e){return this.__data__.has(e)};function Rr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new _r;++t<n;)this.add(e[t])}Rr.prototype.add=Rr.prototype.push=Ii,Rr.prototype.has=Li;var zi=Rr,nu=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Bi=function(e,t){return e.has(t)},Fi=function(e,t,n,r,a,o){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var m=o.get(e),w=o.get(t);if(m&&w)return m==t&&w==e;var j=-1,k=!0,I=2&n?new zi:void 0;for(o.set(e,t),o.set(t,e);++j<l;){var W=e[j],$=t[j];if(r)var oe=u?r($,W,j,t,e,o):r(W,$,j,e,t,o);if(oe!==void 0){if(oe)continue;k=!1;break}if(I){if(!nu(t,function(re,se){if(!Bi(I,se)&&(W===re||a(W,re,n,r,o)))return I.push(se)})){k=!1;break}}else if(W!==$&&!a(W,$,n,r,o)){k=!1;break}}return o.delete(e),o.delete(t),k},Ir=Ge.a.Uint8Array,Hi=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n},ru=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},Ui=gt?gt.prototype:void 0,zo=Ui?Ui.valueOf:void 0,Lr=function(e,t,n,r,a,o,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Ir(e),new Ir(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ze(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Hi;case"[object Set]":var d=1&r;if(l||(l=ru),e.size!=t.size&&!d)return!1;var m=u.get(e);if(m)return m==t;r|=2,u.set(e,t);var w=Fi(l(e),l(t),r,a,o,u);return u.delete(e),w;case"[object Symbol]":if(zo)return zo.call(e)==zo.call(t)}return!1},Gn=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e},Gt=Array.isArray,Gi=function(e,t,n){var r=t(e);return Gt(e)?r:Gn(r,n(e))},ou=function(e,t){for(var n=-1,r=e==null?0:e.length,a=0,o=[];++n<r;){var u=e[n];t(u,n,e)&&(o[a++]=u)}return o},Xi=function(){return[]},xr=Object.prototype.propertyIsEnumerable,Vi=Object.getOwnPropertySymbols,Bo=Vi?function(e){return e==null?[]:(e=Object(e),ou(Vi(e),function(t){return xr.call(e,t)}))}:Xi,On=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},_n=function(e){return e!=null&&typeof e=="object"},Fo=function(e){return _n(e)&&xt(e)=="[object Arguments]"},Yi=Object.prototype,so=Yi.hasOwnProperty,lo=Yi.propertyIsEnumerable,zr=Fo(function(){return arguments}())?Fo:function(e){return _n(e)&&so.call(e,"callee")&&!lo.call(e,"callee")},Br=i(48),wn=/^(?:0|[1-9]\d*)$/,Xn=function(e,t){var n=typeof e;return!!(t=t==null?9007199254740991:t)&&(n=="number"||n!="symbol"&&wn.test(e))&&e>-1&&e%1==0&&e<t},pn=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},dt={};dt["[object Float32Array]"]=dt["[object Float64Array]"]=dt["[object Int8Array]"]=dt["[object Int16Array]"]=dt["[object Int32Array]"]=dt["[object Uint8Array]"]=dt["[object Uint8ClampedArray]"]=dt["[object Uint16Array]"]=dt["[object Uint32Array]"]=!0,dt["[object Arguments]"]=dt["[object Array]"]=dt["[object ArrayBuffer]"]=dt["[object Boolean]"]=dt["[object DataView]"]=dt["[object Date]"]=dt["[object Error]"]=dt["[object Function]"]=dt["[object Map]"]=dt["[object Number]"]=dt["[object Object]"]=dt["[object RegExp]"]=dt["[object Set]"]=dt["[object String]"]=dt["[object WeakMap]"]=!1;var Fr=function(e){return _n(e)&&pn(e.length)&&!!dt[xt(e)]},nn=function(e){return function(t){return e(t)}},Er=i(49),Wi=Er.a&&Er.a.isTypedArray,fo=Wi?nn(Wi):Fr,An=Object.prototype.hasOwnProperty,Ho=function(e,t){var n=Gt(e),r=!n&&zr(e),a=!n&&!r&&Object(Br.a)(e),o=!n&&!r&&!a&&fo(e),u=n||r||a||o,l=u?On(e.length,String):[],d=l.length;for(var m in e)!t&&!An.call(e,m)||u&&(m=="length"||a&&(m=="offset"||m=="parent")||o&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||Xn(m,d))||l.push(m);return l},iu=Object.prototype,dn=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||iu)},Uo=function(e,t){return function(n){return e(t(n))}},au=Uo(Object.keys,Object),Go=Object.prototype.hasOwnProperty,rn=function(e){if(!dn(e))return au(e);var t=[];for(var n in Object(e))Go.call(e,n)&&n!="constructor"&&t.push(n);return t},ar=function(e){return e!=null&&pn(e.length)&&!Co(e)},ur=function(e){return ar(e)?Ho(e):rn(e)},qt=function(e){return Gi(e,ur,Bo)},Ki=Object.prototype.hasOwnProperty,Xo=function(e,t,n,r,a,o){var u=1&n,l=qt(e),d=l.length;if(d!=qt(t).length&&!u)return!1;for(var m=d;m--;){var w=l[m];if(!(u?w in t:Ki.call(t,w)))return!1}var j=o.get(e),k=o.get(t);if(j&&k)return j==t&&k==e;var I=!0;o.set(e,t),o.set(t,e);for(var W=u;++m<d;){var $=e[w=l[m]],oe=t[w];if(r)var re=u?r(oe,$,w,t,e,o):r($,oe,w,e,t,o);if(!(re===void 0?$===oe||a($,oe,n,r,o):re)){I=!1;break}W||(W=w=="constructor")}if(I&&!W){var se=e.constructor,de=t.constructor;se==de||!("constructor"in e)||!("constructor"in t)||typeof se=="function"&&se instanceof se&&typeof de=="function"&&de instanceof de||(I=!1)}return o.delete(e),o.delete(t),I},po=Fn(Ge.a,"DataView"),ho=Fn(Ge.a,"Promise"),yo=Fn(Ge.a,"Set"),Vo=Fn(Ge.a,"WeakMap"),gn=Sn(po),xn=Sn(mr),Hr=Sn(ho),Zi=Sn(yo),Yo=Sn(Vo),Vn=xt;(po&&Vn(new po(new ArrayBuffer(1)))!="[object DataView]"||mr&&Vn(new mr)!="[object Map]"||ho&&Vn(ho.resolve())!="[object Promise]"||yo&&Vn(new yo)!="[object Set]"||Vo&&Vn(new Vo)!="[object WeakMap]")&&(Vn=function(e){var t=xt(e),n=t=="[object Object]"?e.constructor:void 0,r=n?Sn(n):"";if(r)switch(r){case gn:return"[object DataView]";case xn:return"[object Map]";case Hr:return"[object Promise]";case Zi:return"[object Set]";case Yo:return"[object WeakMap]"}return t});var Ur=Vn,Gr=Object.prototype.hasOwnProperty,uu=function(e,t,n,r,a,o){var u=Gt(e),l=Gt(t),d=u?"[object Array]":Ur(e),m=l?"[object Array]":Ur(t),w=(d=d=="[object Arguments]"?"[object Object]":d)=="[object Object]",j=(m=m=="[object Arguments]"?"[object Object]":m)=="[object Object]",k=d==m;if(k&&Object(Br.a)(e)){if(!Object(Br.a)(t))return!1;u=!0,w=!1}if(k&&!w)return o||(o=new Un),u||fo(e)?Fi(e,t,n,r,a,o):Lr(e,t,d,n,r,a,o);if(!(1&n)){var I=w&&Gr.call(e,"__wrapped__"),W=j&&Gr.call(t,"__wrapped__");if(I||W){var $=I?e.value():e,oe=W?t.value():t;return o||(o=new Un),a($,oe,n,r,o)}}return!!k&&(o||(o=new Un),Xo(e,t,n,r,a,o))},y=function e(t,n,r,a,o){return t===n||(t==null||n==null||!_n(t)&&!_n(n)?t!=t&&n!=n:uu(t,n,r,a,e,o))},b=function(e,t,n,r){var a=n.length,o=a,u=!r;if(e==null)return!o;for(e=Object(e);a--;){var l=n[a];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var d=(l=n[a])[0],m=e[d],w=l[1];if(u&&l[2]){if(m===void 0&&!(d in e))return!1}else{var j=new Un;if(r)var k=r(m,w,d,e,t,j);if(!(k===void 0?y(w,m,3,r,j):k))return!1}}return!0},E=function(e){return e==e&&!Tt(e)},D=function(e){for(var t=ur(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,E(a)]}return t},T=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},X=function(e){var t=D(e);return t.length==1&&t[0][2]?T(t[0][0],t[0][1]):function(n){return n===e||b(n,e,t)}},ie=function(e){return typeof e=="symbol"||_n(e)&&xt(e)=="[object Symbol]"},Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Re=/^\w*$/,at=function(e,t){if(Gt(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!ie(e))||Re.test(e)||!Oe.test(e)||t!=null&&e in Object(t)};function ot(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var u=e.apply(this,r);return n.cache=o.set(a,u)||o,u};return n.cache=new(ot.Cache||_r),n}ot.Cache=_r;var Et=ot,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vt=/\\(\\)?/g,Pt=function(e){var t=Et(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bt,function(n,r,a,o){t.push(a?o.replace(vt,"$1"):r||n)}),t}),jt=gt?gt.prototype:void 0,mt=jt?jt.toString:void 0,kn=function e(t){if(typeof t=="string")return t;if(Gt(t))return Fe(t,e)+"";if(ie(t))return mt?mt.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},cu=function(e){return e==null?"":kn(e)},Xr=function(e,t){return Gt(e)?e:at(e,t)?[e]:Pt(cu(e))},jr=function(e){if(typeof e=="string"||ie(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Vr=function(e,t){for(var n=0,r=(t=Xr(t,e)).length;e!=null&&n<r;)e=e[jr(t[n++])];return n&&n==r?e:void 0},Wo=function(e,t,n){var r=e==null?void 0:Vr(e,t);return r===void 0?n:r},on=function(e,t){return e!=null&&t in Object(e)},qi=function(e,t,n){for(var r=-1,a=(t=Xr(t,e)).length,o=!1;++r<a;){var u=jr(t[r]);if(!(o=e!=null&&n(e,u)))break;e=e[u]}return o||++r!=a?o:!!(a=e==null?0:e.length)&&pn(a)&&Xn(u,a)&&(Gt(e)||zr(e))},Ko=function(e,t){return e!=null&&qi(e,t,on)},Kv=function(e,t){return at(e)&&E(t)?T(jr(e),t):function(n){var r=Wo(n,e);return r===void 0&&r===t?Ko(n,e):y(t,r,3)}},su=function(e){return e},Zv=function(e){return function(t){return t==null?void 0:t[e]}},qv=function(e){return function(t){return Vr(t,e)}},$v=function(e){return at(e)?Zv(jr(e)):qv(e)},Jv=function(e){return typeof e=="function"?e:e==null?su:typeof e=="object"?Gt(e)?Kv(e[0],e[1]):X(e):$v(e)},ls=function(e){return function(t,n,r){for(var a=-1,o=Object(t),u=r(t),l=u.length;l--;){var d=u[e?l:++a];if(n(o[d],d,o)===!1)break}return t}}(),Qv=function(e,t){return function(n,r){if(n==null)return n;if(!ar(n))return e(n,r);for(var a=n.length,o=t?a:-1,u=Object(n);(t?o--:++o<a)&&r(u[o],o,u)!==!1;);return n}}(function(e,t){return e&&ls(e,t,ur)}),eg=function(e,t){var n=-1,r=ar(e)?Array(e.length):[];return Qv(e,function(a,o,u){r[++n]=t(a,o,u)}),r},$i=function(e,t){return(Gt(e)?Fe:eg)(e,Jv(t))},Ji=function(){try{var e=Fn(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),lu=function(e,t,n){t=="__proto__"&&Ji?Ji(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},tg=Object.prototype.hasOwnProperty,Qi=function(e,t,n){var r=e[t];tg.call(e,t)&&Ze(r,n)&&(n!==void 0||t in e)||lu(e,t,n)},vo=function(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var l=t[o],d=r?r(n[l],e[l],l,n,e):void 0;d===void 0&&(d=e[l]),a?lu(n,l,d):Qi(n,l,d)}return n},ng=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},fs=Math.max,ps=function(e,t,n){return t=fs(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=fs(r.length-t,0),u=Array(o);++a<o;)u[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(u),ng(e,this,l)}},rg=function(e){return function(){return e}},og=Ji?function(e,t){return Ji(e,"toString",{configurable:!0,enumerable:!1,value:rg(t),writable:!0})}:su,ig=Date.now,ds=function(e){var t=0,n=0;return function(){var r=ig(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(og),ag=function(e,t){return ds(ps(e,t,su),e+"")},ug=function(e,t,n){if(!Tt(n))return!1;var r=typeof t;return!!(r=="number"?ar(n)&&Xn(t,n.length):r=="string"&&t in n)&&Ze(n[t],e)},hs=function(e){return ag(function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,u=a>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(a--,o):void 0,u&&ug(n[0],n[1],u)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var l=n[r];l&&e(t,l,r,o)}return t})},cg=Object.prototype.hasOwnProperty,an=hs(function(e,t){if(dn(t)||ar(t))vo(t,ur(t),e);else for(var n in t)cg.call(t,n)&&Qi(e,n,t[n])}),sg=function(e,t,n,r){if(!Tt(e))return e;for(var a=-1,o=(t=Xr(t,e)).length,u=o-1,l=e;l!=null&&++a<o;){var d=jr(t[a]),m=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(a!=u){var w=l[d];(m=r?r(w,d,l):void 0)===void 0&&(m=Tt(w)?w:Xn(t[a+1])?[]:{})}Qi(l,d,m),l=l[d]}return e},lg=function(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var u=t[r],l=Vr(e,u);n(l,u)&&sg(o,Xr(u,e),l)}return o},fg=function(e,t){return lg(e,t,function(n,r){return Ko(e,r)})},ys=gt?gt.isConcatSpreadable:void 0,pg=function(e){return Gt(e)||zr(e)||!!(ys&&e&&e[ys])},dg=function e(t,n,r,a,o){var u=-1,l=t.length;for(r||(r=pg),o||(o=[]);++u<l;){var d=t[u];n>0&&r(d)?n>1?e(d,n-1,r,a,o):Gn(o,d):a||(o[o.length]=d)}return o},hg=function(e){return e!=null&&e.length?dg(e,1):[]},It,vs,gs,bs,ms,Os,_s,ws,xs,Es,js,Ss,Ps,As,ks,Ms,Ds,Zo=function(e){return ds(ps(e,void 0,hg),e+"")}(function(e,t){return e==null?{}:fg(e,t)});function $t(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function yg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xt(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var St,Ns,ht,Ft,tt,Mt,vg={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},fu=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],Cs=(vs=Xt((It=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),$t(this,"isSilentMode",vs,this),$t(this,"stopZoomGraph",gs,this),$t(this,"stopScrollGraph",bs,this),$t(this,"stopMoveGraph",ms,this),$t(this,"adjustEdge",Os,this),$t(this,"adjustEdgeMiddle",_s,this),$t(this,"adjustEdgeStartAndEnd",ws,this),$t(this,"adjustNodePosition",xs,this),$t(this,"hideAnchors",Es,this),$t(this,"hoverOutline",js,this),$t(this,"nodeSelectedOutline",Ss,this),$t(this,"edgeSelectedOutline",Ps,this),$t(this,"nodeTextEdit",As,this),$t(this,"edgeTextEdit",ks,this),$t(this,"nodeTextDraggable",Ms,this),$t(this,"edgeTextDraggable",Ds,this),Ts(this,"multipleSelectKey",""),Ts(this,"defaultConfig",{}),an(this,this.getConfigDetail(r))}var t,n;return t=e,(n=[{key:"updateEditConfig",value:function(r){var a=this.getConfigDetail(r);an(this,a)}},{key:"getConfigDetail",value:function(r){var a=r.isSilentMode,o=r.textEdit,u={};if(a===!1&&an(u,this.defaultConfig),a===!0){var l=Zo(vg,fu);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},an(u,l)}o===!1&&an(u,{nodeTextEdit:!1,edgeTextEdit:!1});var d=Zo(r,fu);return an(u,d)}},{key:"getConfig",value:function(){return Zo(this,fu)}}])&&yg(t.prototype,n),e}()).prototype,"isSilentMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gs=Xt(It.prototype,"stopZoomGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bs=Xt(It.prototype,"stopScrollGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ms=Xt(It.prototype,"stopMoveGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Os=Xt(It.prototype,"adjustEdge",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_s=Xt(It.prototype,"adjustEdgeMiddle",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ws=Xt(It.prototype,"adjustEdgeStartAndEnd",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xs=Xt(It.prototype,"adjustNodePosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Es=Xt(It.prototype,"hideAnchors",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),js=Xt(It.prototype,"hoverOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ss=Xt(It.prototype,"nodeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ps=Xt(It.prototype,"edgeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),As=Xt(It.prototype,"nodeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ks=Xt(It.prototype,"edgeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ms=Xt(It.prototype,"nodeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ds=Xt(It.prototype,"edgeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xt(It.prototype,"updateEditConfig",[s.k],Object.getOwnPropertyDescriptor(It.prototype,"updateEditConfig"),It.prototype),It);i(77),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(St||(St={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(Ns||(Ns={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(ht||(ht={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(Ft||(Ft={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(tt||(tt={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(Mt||(Mt={}));var bn,Lt,Rs,Is,Ls,zs,Bs,Fs,Hs;function ea(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Us(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Us(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Us(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yr(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function gg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mn(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(bn||(bn={}));var bg=(Rs=Mn((Lt=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),pu(this,"MINI_SCALE_SIZE",.2),pu(this,"MAX_SCALE_SIZE",16),Yr(this,"SCALE_X",Rs,this),Yr(this,"SKEW_Y",Is,this),Yr(this,"SKEW_X",Ls,this),Yr(this,"SCALE_Y",zs,this),Yr(this,"TRANSLATE_X",Bs,this),Yr(this,"TRANSLATE_Y",Fs,this),Yr(this,"ZOOM_SIZE",Hs,this),pu(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var a=ea(r,2),o=a[0],u=a[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(u-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var a=ea(r,2),o=a[0],u=a[1];return[o*this.SCALE_X+this.TRANSLATE_X,u*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,a,o){var u=ea(r,2),l=u[0],d=u[1];return[l+a/this.SCALE_X,d+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,a){return[r/this.SCALE_X,a/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,u=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,u+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,u-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,u=r),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(a&&(this.TRANSLATE_X-=(o-this.SCALE_X)*a[0],this.TRANSLATE_Y-=(u-this.SCALE_Y)*a[1]),this.SCALE_X=o,this.SCALE_Y=u,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(tt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,a){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=a,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,a,o,u){var l=ea(this.CanvasPointToHtmlPoint([r,a]),2),d=o/2-l[0],m=u/2-l[1];this.TRANSLATE_X+=d,this.TRANSLATE_Y+=m,this.emitGraphTransform("focusOn")}}])&&gg(t.prototype,n),e}()).prototype,"SCALE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Is=Mn(Lt.prototype,"SKEW_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ls=Mn(Lt.prototype,"SKEW_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zs=Mn(Lt.prototype,"SCALE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Bs=Mn(Lt.prototype,"TRANSLATE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fs=Mn(Lt.prototype,"TRANSLATE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hs=Mn(Lt.prototype,"ZOOM_SIZE",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Mn(Lt.prototype,"zoom",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"zoom"),Lt.prototype),Mn(Lt.prototype,"resetZoom",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"resetZoom"),Lt.prototype),Mn(Lt.prototype,"translate",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"translate"),Lt.prototype),Mn(Lt.prototype,"focusOn",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"focusOn"),Lt.prototype),Lt),mg=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},Og=function(e,t){return e&&vo(t,ur(t),e)},_g=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},wg=Object.prototype.hasOwnProperty,xg=function(e){if(!Tt(e))return _g(e);var t=dn(e),n=[];for(var r in e)(r!="constructor"||!t&&wg.call(e,r))&&n.push(r);return n},qo=function(e){return ar(e)?Ho(e,!0):xg(e)},Eg=function(e,t){return e&&vo(t,qo(t),e)},Gs=i(106),Xs=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},jg=function(e,t){return vo(e,Bo(e),t)},du=Uo(Object.getPrototypeOf,Object),Vs=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Gn(t,Bo(e)),e=du(e);return t}:Xi,Sg=function(e,t){return vo(e,Vs(e),t)},Pg=function(e){return Gi(e,qo,Vs)},Ag=Object.prototype.hasOwnProperty,kg=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Ag.call(e,"index")&&(n.index=e.index,n.input=e.input),n},hu=function(e){var t=new e.constructor(e.byteLength);return new Ir(t).set(new Ir(e)),t},Mg=function(e,t){var n=t?hu(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Dg=/\w*$/,Tg=function(e){var t=new e.constructor(e.source,Dg.exec(e));return t.lastIndex=e.lastIndex,t},Ys=gt?gt.prototype:void 0,Ws=Ys?Ys.valueOf:void 0,Ng=function(e){return Ws?Object(Ws.call(e)):{}},Ks=function(e,t){var n=t?hu(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Cg=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return hu(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Mg(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ks(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Tg(e);case"[object Set]":return new r;case"[object Symbol]":return Ng(e)}},Zs=Object.create,Rg=function(){function e(){}return function(t){if(!Tt(t))return{};if(Zs)return Zs(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),qs=function(e){return typeof e.constructor!="function"||dn(e)?{}:Rg(du(e))},Ig=function(e){return _n(e)&&Ur(e)=="[object Map]"},$s=Er.a&&Er.a.isMap,Lg=$s?nn($s):Ig,zg=function(e){return _n(e)&&Ur(e)=="[object Set]"},Js=Er.a&&Er.a.isSet,Bg=Js?nn(Js):zg,kt={};kt["[object Arguments]"]=kt["[object Array]"]=kt["[object ArrayBuffer]"]=kt["[object DataView]"]=kt["[object Boolean]"]=kt["[object Date]"]=kt["[object Float32Array]"]=kt["[object Float64Array]"]=kt["[object Int8Array]"]=kt["[object Int16Array]"]=kt["[object Int32Array]"]=kt["[object Map]"]=kt["[object Number]"]=kt["[object Object]"]=kt["[object RegExp]"]=kt["[object Set]"]=kt["[object String]"]=kt["[object Symbol]"]=kt["[object Uint8Array]"]=kt["[object Uint8ClampedArray]"]=kt["[object Uint16Array]"]=kt["[object Uint32Array]"]=!0,kt["[object Error]"]=kt["[object Function]"]=kt["[object WeakMap]"]=!1;var Fg=function e(t,n,r,a,o,u){var l,d=1&n,m=2&n,w=4&n;if(r&&(l=o?r(t,a,o,u):r(t)),l!==void 0)return l;if(!Tt(t))return t;var j=Gt(t);if(j){if(l=kg(t),!d)return Xs(t,l)}else{var k=Ur(t),I=k=="[object Function]"||k=="[object GeneratorFunction]";if(Object(Br.a)(t))return Object(Gs.a)(t,d);if(k=="[object Object]"||k=="[object Arguments]"||I&&!o){if(l=m||I?{}:qs(t),!d)return m?Sg(t,Eg(l,t)):jg(t,Og(l,t))}else{if(!kt[k])return o?t:{};l=Cg(t,k,d)}}u||(u=new Un);var W=u.get(t);if(W)return W;u.set(t,l),Bg(t)?t.forEach(function(oe){l.add(e(oe,n,r,oe,t,u))}):Lg(t)&&t.forEach(function(oe,re){l.set(re,e(oe,n,r,re,t,u))});var $=j?void 0:(w?m?Pg:qt:m?qo:ur)(t);return mg($||t,function(oe,re){$&&(oe=t[re=oe]),Qi(l,re,e(oe,n,r,re,t,u))}),l},Dt=function(e){return Fg(e,5)},yu=function(e,t,n){(n!==void 0&&!Ze(e[t],n)||n===void 0&&!(t in e))&&lu(e,t,n)},Hg=function(e){return _n(e)&&ar(e)},Ug=Function.prototype,Gg=Object.prototype,Qs=Ug.toString,Xg=Gg.hasOwnProperty,Vg=Qs.call(Object),Yg=function(e){if(!_n(e)||xt(e)!="[object Object]")return!1;var t=du(e);if(t===null)return!0;var n=Xg.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Qs.call(n)==Vg},vu=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},Wg=function(e){return vo(e,qo(e))},Kg=function(e,t,n,r,a,o,u){var l=vu(e,n),d=vu(t,n),m=u.get(d);if(m)yu(e,n,m);else{var w=o?o(l,d,n+"",e,t,u):void 0,j=w===void 0;if(j){var k=Gt(d),I=!k&&Object(Br.a)(d),W=!k&&!I&&fo(d);w=d,k||I||W?Gt(l)?w=l:Hg(l)?w=Xs(l):I?(j=!1,w=Object(Gs.a)(d,!0)):W?(j=!1,w=Ks(d,!0)):w=[]:Yg(d)||zr(d)?(w=l,zr(l)?w=Wg(l):Tt(l)&&!Co(l)||(w=qs(d))):j=!1}j&&(u.set(d,w),a(w,d,r,o,u),u.delete(d)),yu(e,n,w)}},Zg=function e(t,n,r,a,o){t!==n&&ls(n,function(u,l){if(o||(o=new Un),Tt(u))Kg(t,n,l,r,e,a,o);else{var d=a?a(vu(t,l),u,l+"",t,n,o):void 0;d===void 0&&(d=u),yu(t,l,d)}},qo)},el=hs(function(e,t,n){Zg(e,t,n)}),qg={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},tl=function(e){var t=Dt(qg);return e&&(t=el(t,e)),t};i(78),i(158);function $g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jg=function(){function e(){var r,a,o;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),o={},(a="_events")in(r=this)?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o}var t,n;return t=e,(n=[{key:"on",value:function(r,a,o){var u=this;return r==null||r.split(",").forEach(function(l){l=l.trim(),u._events[l]||(u._events[l]=[]),u._events[l].push({callback:a,once:!!o})}),this}},{key:"once",value:function(r,a){var o=this;r==null||r.split(",").forEach(function(u){return u=u.trim(),o.on(u,a,!0)})}},{key:"emit",value:function(r,a){var o=this;r==null||r.split(",").forEach(function(u){var l=o._events[u]||[],d=o._events["*"]||[],m=function(w){for(var j=w.length,k=0;k<j;k++)if(w[k]){var I=w[k],W=I.callback;I.once&&(w.splice(k,1),w.length===0&&delete o._events[u],j--,k--),W.apply(o,[a])}};m(l),m(d)})}},{key:"off",value:function(r,a){var o=this;return r||(this._events={}),r.split(",").forEach(function(u){if(a){for(var l=o._events[u]||[],d=l.length,m=0;m<d;m++)l[m].callback===a&&(l.splice(m,1),d--,m--);l.length===0&&delete o._events[u]}else delete o._events[u]}),this}},{key:"getEvents",value:function(){return this._events}}])&&$g(t.prototype,n),e}();function go(e,t){return t*Math.round(e/t)||e}function nl(e,t){return e%t}function gu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return rl(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return rl(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bu,mu=function(e,t,n){var r=gu(e,2),a=r[0],o=r[1],u=gu(t,2),l=u[0],d=u[1],m=gu(n,2),w=m[0],j=m[1];return a>l&&a<w&&o>d&&o<j},ol=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;default:n=!1}return n},Qg=(i(79),i(161),i(125),i(80),i(12),i(13),i(14),i(47),i(31),new Uint8Array(16));function eb(){if(!bu&&!(bu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bu(Qg)}for(var tb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,nb=function(e){return typeof e=="string"&&tb.test(e)},Vt=[],Ou=0;Ou<256;++Ou)Vt.push((Ou+256).toString(16).substr(1));var rb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Vt[e[t+0]]+Vt[e[t+1]]+Vt[e[t+2]]+Vt[e[t+3]]+"-"+Vt[e[t+4]]+Vt[e[t+5]]+"-"+Vt[e[t+6]]+Vt[e[t+7]]+"-"+Vt[e[t+8]]+Vt[e[t+9]]+"-"+Vt[e[t+10]]+Vt[e[t+11]]+Vt[e[t+12]]+Vt[e[t+13]]+Vt[e[t+14]]+Vt[e[t+15]]).toLowerCase();if(!nb(n))throw TypeError("Stringified UUID is invalid");return n},_u=function(e,t,n){var r=(e=e||{}).random||(e.rng||eb)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return rb(r)},Wr=function(){return _u()},ob=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.nodes.reduce(function(r,a){return r[a.id]=t+_u(),a.id=r[a.id],r},{});return e.edges.forEach(function(r){r.id=t+_u(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),e},$o=(i(104),i(203),function(e,t,n){var r=e.x,a=e.y;return(r-t.x)*(r-n.x)<=0&&(a-t.y)*(a-n.y)<=0});function il(e){return(il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ul(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?al(Object(n),!0).forEach(function(r){ib(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ib(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je,cl,sl,ll,fl,pl,dl,hl,yl,vl,gl,bl,ml,Ol,_l,wl,xl,El,jl,wu=function(e){return e.anchors},ta=function(e,t){for(var n,r=t.nodes,a=r.length-1;a>=0;a--){var o=r[a];if(cb(e,o)){var u=ub(e,o);if(u){var l={node:o,anchorIndex:u.index,anchor:u.anchor};n&&!ab(o,n.node,t)||(n=l)}}}return n},ab=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},ub=function(e,t){for(var n,r=wu(t),a=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var u=Yn(e.x,e.y,r[o].x,r[o].y);u<a&&(a=u,n={index:o,anchor:ul(ul({},r[o]),{},{x:r[o].x,y:r[o].y,id:r[o].id})})}return n},Yn=function(e,t,n,r){return Math.hypot(e-n,t-r)},Sr=function(e,t){var n=!1,r=mn(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},cb=function(e,t){var n=!1,r=mn(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},mn=function(e){var t=e.x,n=e.y,r=e.width,a=e.height;return{minX:t-r/2,minY:n-a/2,maxX:t+r/2,maxY:n+a/2,x:t,y:n,width:r,height:a,centerX:t,centerY:n}},Sl=function(e,t,n){var r,a=function(u){var l=u,d=l.x,m=l.y,w=l.width,j=l.height,k=l.radius;return[{x:d-w/2+k,y:m-j/2+k,r:k},{x:d+w/2-k,y:m-j/2+k,r:k},{x:d-w/2+k,y:m+j/2-k,r:k},{x:d+w/2-k,y:m+j/2-k,r:k}]}(n),o=Number.MAX_SAFE_INTEGER;return a.forEach(function(u){var l=Yn(e.x,e.y,u.x,u.y);l<o&&(o=l,r=u)}),xu(e,t,r)},xu=function(e,t,n){var r,a=n,o=a.x,u=a.y,l=a.r;if(t===Mt.HORIZONTAL){var d=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)),m=o+Math.sqrt(l*l-(e.y-u)*(e.y-u));r={x:Math.abs(d-e.x)<Math.abs(m-e.x)?d:m,y:e.y}}else if(t===Mt.VERTICAL){var w=u-Math.sqrt(l*l-(e.x-o)*(e.x-o)),j=u+Math.sqrt(l*l-(e.x-o)*(e.x-o)),k=Math.abs(w-e.y)<Math.abs(j-e.y)?w:j;r={x:e.x,y:k}}return r},Pl=function(e,t){var n=t,r=!1,a=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,u=n.y-n.height/2+n.radius,l=n.y+n.height/2-n.radius,d=n.x,m=n.y,w=n.width,j=n.height;return e.y===m+j/2||e.y===m-j/2?r=e.x>a&&e.x<o:e.x!==d+w/2&&e.x!==d-w/2||(r=e.y>u&&e.y<l),r},Al=function(e,t,n){var r,a=n,o=a.x,u=a.y,l=a.rx,d=a.ry;if(t===Mt.HORIZONTAL){var m=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d)),w=o+Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d));r={x:Math.abs(m-e.x)<Math.abs(w-e.x)?m:w,y:e.y}}else if(t===Mt.VERTICAL){var j=u-Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),k=u+Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),I=Math.abs(j-e.y)<Math.abs(k-e.y)?j:k;r={x:e.x,y:I}}return r},kl=function(e,t,n){for(var r,a=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,u=[],l=0;l<a.length;l++)u.push({start:a[l],end:a[(l+1)%a.length]});return u.forEach(function(d){var m=d.start,w=d.end,j=m,k=w;m.x>w.x&&(j=w,k=m);var I={x:e.x,y:e.y};if(j.x===k.x&&t===Mt.HORIZONTAL&&(I={x:j.x,y:e.y}),j.y===k.y&&t===Mt.VERTICAL&&(I={x:e.x,y:j.y}),j.x!==k.x&&j.y!==k.y){var W=(k.y-j.y)/(k.x-j.x),$=(j.x*k.y-k.x*j.y)/(j.x-k.x);t===Mt.HORIZONTAL?I={x:(e.y-$)/W,y:e.y}:t===Mt.VERTICAL&&(I={x:e.x,y:W*e.x+$})}if($o(I,m,w)){var oe=Yn(I.x,I.y,e.x,e.y);oe<o&&(o=oe,r=I)}}),r},Ml=function(e,t,n,r){var a=e.x,o=e.y;return t.x>e.x?a=e.x+n/2:t.x<e.x&&(a=e.x-n/2),t.y>e.y?o=e.y+r/2:t.y<e.y&&(o=e.y-r/2),{x:a,y:o}},Dl=function(e){var t=e.rows,n=e.style,r=e.rowsLength,a=e.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=a,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?t.forEach(function(l){var d=document.createElement("div");d.textContent=l,o.appendChild(d)}):o.textContent=t,document.body.appendChild(o);var u=o.clientHeight;return document.body.removeChild(o),u},Eu=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,a=0;return t&&t.forEach(function(o){var u=af(o);a=u>a?u:a}),{width:Math.ceil(a/2)*r+r/4,height:n*(r+2)+r/4}},na=function(e){return il(e)!=="object"?{isAllPass:!!e,msg:e?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:e},Tl={node:!1,edge:!1},sb={node:!0,edge:!0},lb={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Wn=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},fb=1e3,pb=999,ju=function(){return++fb};function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nl(Object(n),!0).forEach(function(r){Dn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ht(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function db(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Su=(cl=rt((je=function(){function e(r,a){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Dn(this,"id",Wr()),Ht(this,"type",cl,this),Ht(this,"sourceNodeId",sl,this),Ht(this,"targetNodeId",ll,this),Ht(this,"startPoint",fl,this),Ht(this,"endPoint",pl,this),Ht(this,"text",dl,this),Ht(this,"properties",hl,this),Ht(this,"points",yl,this),Ht(this,"pointsList",vl,this),Ht(this,"isSelected",gl,this),Ht(this,"isHovered",bl,this),Ht(this,"isHitable",ml,this),Ht(this,"draggable",Ol,this),Ht(this,"visible",_l,this),Ht(this,"isAnimation",wl,this),Dn(this,"graphModel",void 0),Ht(this,"zIndex",xl,this),Dn(this,"BaseType",Ft.EDGE),Dn(this,"modelType",ht.EDGE),Ht(this,"state",El,this),Dn(this,"additionStateData",void 0),Dn(this,"sourceAnchorId",""),Dn(this,"targetAnchorId",""),Dn(this,"menu",void 0),Dn(this,"customTextPosition",!1),Dn(this,"animationData",lb),Ht(this,"arrowConfig",jl,this),this.graphModel=a,this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var t,n;return t=e,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,o=a&&a(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}an(this,Db(r)),this.graphModel.overlapMode===bn.INCREASE&&(this.zIndex=r.zIndex||ju())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){var r=this.graphModel.theme.baseEdge;return Dt(r)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Dt(r)}},{key:"getAnimation",value:function(){var r=this.animationData;return Dt(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return Dt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Dt(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.sourceNodeId])===null||a===void 0?void 0:a.model}},{key:"targetNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.targetNodeId])===null||a===void 0?void 0:a.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,a){var o,u;return wu(r).forEach(function(l){var d=sf(l,a);u?d<u&&(u=d,o=l):(u=d,o=l)}),o}},{key:"getEndAnchor",value:function(r){var a,o,u=this;return wu(r).forEach(function(l){var d=sf(l,u.startPoint);o?d<o&&(o=d,a=l):(o=d,a=l)}),a}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,a=r.x,o=r.y,u=r.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(s.I)(this.properties)};return u&&(l.text={x:a,y:o,value:u}),this.graphModel.overlapMode===bn.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,a){this.properties[r]=Wn(a),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=ra(ra({},this.properties),Wn(r)),this.setAttributes()}},{key:"formatText",value:function(r){var a=this.textPosition,o=a.x,u=a.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||u,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:u,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,a=r.x,o=r.y;this.text.x=a,this.text.y=o}},{key:"moveText",value:function(r,a){if(this.text){var o=this.text,u=o.x,l=o.y,d=o.value,m=o.draggable,w=o.editable;this.text={value:d,draggable:m,x:u+r,y:l+a,editable:w}}}},{key:"setText",value:function(r){r&&an(this.text,r)}},{key:"updateText",value:function(r){this.text=ra(ra({},this.text),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var a=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:a.x,y:a.y}),this.targetAnchorId||(this.targetAnchorId=a.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,a){this.startPoint.x+=r,this.startPoint.y+=a}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,a){this.endPoint.x+=r,this.endPoint.y+=a}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){an(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var a=r.startPoint,o=r.endPoint;this.updateStartPoint({x:a.x,y:a.y}),this.updateEndPoint({x:o.x,y:o.y})}}])&&db(t.prototype,n),e}()).prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sl=rt(je.prototype,"sourceNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ll=rt(je.prototype,"targetNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fl=rt(je.prototype,"startPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pl=rt(je.prototype,"endPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dl=rt(je.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),hl=rt(je.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),yl=rt(je.prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vl=rt(je.prototype,"pointsList",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gl=rt(je.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bl=rt(je.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ml=rt(je.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ol=rt(je.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_l=rt(je.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wl=rt(je.prototype,"isAnimation",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xl=rt(je.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),El=rt(je.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),jl=rt(je.prototype,"arrowConfig",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),rt(je.prototype,"sourceNode",[s.m],Object.getOwnPropertyDescriptor(je.prototype,"sourceNode"),je.prototype),rt(je.prototype,"targetNode",[s.m],Object.getOwnPropertyDescriptor(je.prototype,"targetNode"),je.prototype),rt(je.prototype,"textPosition",[s.m],Object.getOwnPropertyDescriptor(je.prototype,"textPosition"),je.prototype),rt(je.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setProperty"),je.prototype),rt(je.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setProperties"),je.prototype),rt(je.prototype,"formatText",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"formatText"),je.prototype),rt(je.prototype,"resetTextPosition",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"resetTextPosition"),je.prototype),rt(je.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"moveText"),je.prototype),rt(je.prototype,"setText",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setText"),je.prototype),rt(je.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"updateText"),je.prototype),rt(je.prototype,"setAnchors",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setAnchors"),je.prototype),rt(je.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setSelected"),je.prototype),rt(je.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setHovered"),je.prototype),rt(je.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setHitable"),je.prototype),rt(je.prototype,"openEdgeAnimation",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"openEdgeAnimation"),je.prototype),rt(je.prototype,"closeEdgeAnimation",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"closeEdgeAnimation"),je.prototype),rt(je.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setElementState"),je.prototype),rt(je.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"updateStartPoint"),je.prototype),rt(je.prototype,"moveStartPoint",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"moveStartPoint"),je.prototype),rt(je.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"updateEndPoint"),je.prototype),rt(je.prototype,"moveEndPoint",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"moveEndPoint"),je.prototype),rt(je.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setZIndex"),je.prototype),rt(je.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"initPoints"),je.prototype),rt(je.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"updateAttributes"),je.prototype),rt(je.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"getAdjustStart"),je.prototype),rt(je.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"getAdjustEnd"),je.prototype),rt(je.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"updateAfterAdjustStartAndEnd"),je.prototype),je),Pu=Su;function Cl(e){return(Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Il(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rl(Object(n),!0).forEach(function(r){Fl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ll(){return(Ll=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=vb(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function vb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Jo(e))!==null;);return e}function zl(e,t){return(zl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function gb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Jo(e);if(t){var a=Jo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return bb(this,n)}}function bb(e,t){if(t&&(Cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bl(e)}function Bl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jo(e){return(Jo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Fl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var it,Hl,Au=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&zl(o,u)})(a,e);var t,n,r=gb(a);function a(){var o;hb(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Fl(Bl(o=r.call.apply(r,[this].concat(l))),"modelType",ht.LINE_EDGE),o}return t=a,(n=[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return Il(Il({},Ll(Jo(a.prototype),"getEdgeStyle",this).call(this)),Dt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&yb(t.prototype,n),a}(Pu);function Ul(e){return(Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function mb(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Gl(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Gl(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xl(Object(n),!0).forEach(function(r){ku(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ob(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oa(){return(oa=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=xb(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function xb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Kr(e))!==null;);return e}function Yl(e,t){return(Yl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Eb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Kr(e);if(t){var a=Kr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return jb(this,n)}}function jb(e,t){if(t&&(Ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qo(e)}function Qo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kr(e){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function un(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Mu=(Hl=un((it=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Yl(o,u)})(a,e);var t,n,r=Eb(a);function a(){var o;_b(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return ku(Qo(o=r.call.apply(r,[this].concat(l))),"modelType",ht.POLYLINE_EDGE),ku(Qo(o),"draginngPointList",void 0),Ob(Qo(o),"dbClickPosition",Hl,Qo(o)),o}return t=a,(n=[{key:"initEdgeData",value:function(o){this.offset=30,oa(Kr(a.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return Vl(Vl({},oa(Kr(a.prototype),"getEdgeStyle",this).call(this)),Dt(o))}},{key:"getTextPosition",value:function(){var o,u=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!u){var l=this.dbClickPosition;return{x:l.x,y:l.y}}var d=bo(this.points),m=mb(kb(d),2),w=m[0],j=m[1];return{x:(w.x+j.x)/2,y:(w.y+j.y)/2}}},{key:"getAfterAnchor",value:function(o,u,l){var d,m;return l.forEach(function(w){var j;o===Mt.HORIZONTAL?j=Math.abs(u.y-w.y):o===Mt.VERTICAL&&(j=Math.abs(u.x-w.x)),(!m||m>j)&&(m=j,d=w)}),d}},{key:"getCorssPoint",value:function(o,u,l){var d;return o===Mt.HORIZONTAL?d={x:l.x,y:u.y}:o===Mt.VERTICAL&&(d={x:u.x,y:l.y}),d}},{key:"removeCrossPoints",value:function(o,u,l){var d=l.map(function(re){return re});if(o===1){var m=d[o],w=d[u],j=d[o-1];if(tf(j,m,this.sourceNode)){if(nf(m,w,this.sourceNode)){var k=rf(m,w,this.sourceNode);k&&(d[o]=k,d.splice(o-1,1),o--,u--)}}else this.sourceNode.anchors.forEach(function(re){(re.x===j.x&&re.x===m.x||re.y===j.y&&re.y===m.y)&&Yn(re.x,re.y,m.x,m.y)<Yn(j.x,j.y,m.x,m.y)&&(d[o-1]=re)})}if(u===l.length-2){var I=d[o],W=d[u],$=d[u+1];if(tf(W,$,this.targetNode)){if(nf(I,W,this.targetNode)){var oe=rf(I,W,this.targetNode);oe&&(d[u]=oe,d.splice(u+1,1))}}else this.targetNode.anchors.forEach(function(re){(re.x===$.x&&re.x===W.x||re.y===$.y&&re.y===W.y)&&Yn(re.x,re.y,W.x,W.y)<Yn($.x,$.y,W.x,W.y)&&(d[u+1]=re)})}return d}},{key:"getDragingPoints",value:function(o,u,l,d,m){var w=m.map(function(I){return I}),j=this.getAfterAnchor(o,l,d),k=this.getCorssPoint(o,l,j);return u==="start"?(w.unshift(k),w.unshift(j)):(w.push(k),w.push(j)),w}},{key:"updateCrossPoints",value:function(o){var u=o.map(function(de){return de}),l=o[0],d=o[1],m=o[u.length-2],w=o[u.length-1],j=this.sourceNode,k=this.targetNode,I=j.modelType,W=k.modelType,$=la(l,d),oe=u[0];switch(I){case ht.RECT_NODE:j.radius!==0&&(Pl(l,j)||(oe=Sl(l,$,j)));break;case ht.CIRCLE_NODE:oe=xu(l,$,j);break;case ht.ELLIPSE_NODE:oe=Al(l,$,j);break;case ht.DIAMOND_NODE:case ht.POLYGON_NODE:oe=kl(l,$,j)}u[0]=oe;var re=la(m,w),se=u[u.length-1];switch(W){case ht.RECT_NODE:k.radius!==0&&(Pl(w,k)||(se=Sl(w,re,k)));break;case ht.CIRCLE_NODE:se=xu(w,re,k);break;case ht.ELLIPSE_NODE:se=Al(w,re,k);break;case ht.DIAMOND_NODE:case ht.POLYGON_NODE:se=kl(w,re,k)}return u[u.length-1]=se,u}},{key:"getData",value:function(){var o=oa(Kr(a.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Object.assign({},o,{pointsList:u})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=ef({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(u){return"".concat(u.x,",").concat(u.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,m=o.startIndex,w=o.endIndex,j=o.direction,k=this.pointsList,I=k;return j===Mt.HORIZONTAL?(k[m]={x:l.x,y:l.y+u.y},k[w]={x:d.x,y:d.y+u.y},I=this.pointsList.map(function(W){return W})):j===Mt.VERTICAL&&(k[m]={x:l.x+u.x,y:l.y},k[w]={x:d.x+u.x,y:d.y},I=this.pointsList.map(function(W){return W})),this.updatePointsAfterDrage(I),this.draginngPointList=I,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},k[m]),end:Object.assign({},k[w]),startIndex:m,endIndex:w,direction:j}}},{key:"dragAppend",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,m=o.startIndex,w=o.endIndex,j=o.direction,k=this.pointsList;if(j===Mt.HORIZONTAL){k[m]={x:l.x,y:l.y+u.y},k[w]={x:d.x,y:d.y+u.y};var I=this.pointsList.map(function(ze){return ze});if(m!==0&&w!==this.pointsList.length-1&&(I=this.removeCrossPoints(m,w,I)),m===0){var W={x:l.x,y:l.y+u.y};if(!Sr(W,this.sourceNode)){var $=this.sourceNode.anchors;I=this.getDragingPoints(j,"start",W,$,I)}}if(w===this.pointsList.length-1){var oe={x:d.x,y:d.y+u.y};if(!Sr(oe,this.targetNode)){var re=this.targetNode.anchors;I=this.getDragingPoints(j,"end",oe,re,I)}}I=Ru(I),this.updatePointsAfterDrage(I),this.draginngPointList=I}else if(j===Mt.VERTICAL){k[m]={x:l.x+u.x,y:l.y},k[w]={x:d.x+u.x,y:d.y};var se=this.pointsList.map(function(ze){return ze});if(m!==0&&w!==this.pointsList.length-1&&(se=this.removeCrossPoints(m,w,se)),m===0){var de={x:l.x+u.x,y:l.y};if(!Sr(de,this.sourceNode)){var ke=this.sourceNode.anchors;se=this.getDragingPoints(j,"start",de,ke,se)}}if(w===this.pointsList.length-1){var Ee={x:d.x+u.x,y:d.y};if(!Sr(Ee,this.targetNode)){var Le=this.targetNode.anchors;se=this.getDragingPoints(j,"end",Ee,Le,se)}}se=Ru(se),this.updatePointsAfterDrage(se),this.draginngPointList=se}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},k[m]),end:Object.assign({},k[w]),startIndex:m,endIndex:w,direction:j}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=bo(this.points);this.pointsList=o.map(function(d){return d}),this.draginngPointList=[];var u=o[0];this.startPoint=Object.assign({},u);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var u=this.updateCrossPoints(o);this.points=u.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,m=o.targetNode,w=ef({x:u.x,y:u.y},{x:l.x,y:l.y},d,m,this.offset||0);this.pointsList=w,this.initPoints()}}])&&wb(t.prototype,n),a}(Pu)).prototype,"dbClickPosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),un(it.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"initPoints"),it.prototype),un(it.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updatePoints"),it.prototype),un(it.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updateStartPoint"),it.prototype),un(it.prototype,"moveStartPoint",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"moveStartPoint"),it.prototype),un(it.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updateEndPoint"),it.prototype),un(it.prototype,"moveEndPoint",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"moveEndPoint"),it.prototype),un(it.prototype,"dragAppendStart",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppendStart"),it.prototype),un(it.prototype,"dragAppendSimple",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppendSimple"),it.prototype),un(it.prototype,"dragAppend",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppend"),it.prototype),un(it.prototype,"dragAppendEnd",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppendEnd"),it.prototype),un(it.prototype,"updatePointsAfterDrage",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updatePointsAfterDrage"),it.prototype),un(it.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"getAdjustStart"),it.prototype),un(it.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"getAdjustEnd"),it.prototype),un(it.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updateAfterAdjustStartAndEnd"),it.prototype),it),ei=function(e){var t=e.start,n=e.end,r=e.offset,a=e.verticalLength,o=e.type,u={leftX:0,leftY:0,rightX:0,rightY:0},l=Math.atan((n.y-t.y)/(n.x-t.x)),d=Math.atan(r/a),m=Math.sqrt(a*a+r*r);return o==="start"?n.x>=t.x?(u.leftX=t.x+m*Math.sin(l+d),u.leftY=t.y-m*Math.cos(l+d),u.rightX=t.x-m*Math.sin(l-d),u.rightY=t.y+m*Math.cos(l-d)):(u.leftX=t.x-m*Math.sin(l+d),u.leftY=t.y+m*Math.cos(l+d),u.rightX=t.x+m*Math.sin(l-d),u.rightY=t.y-m*Math.cos(l-d)):o==="end"&&(n.x>=t.x?(u.leftX=n.x+m*Math.sin(l-d),u.leftY=n.y-m*Math.cos(l-d),u.rightX=n.x-m*Math.sin(l+d),u.rightY=n.y+m*Math.cos(l+d)):(u.leftX=n.x-m*Math.sin(l-d),u.leftY=n.y+m*Math.cos(l-d),u.rightX=n.x+m*Math.sin(l+d),u.rightY=n.y-m*Math.cos(l+d))),u};function Wl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wl(Object(n),!0).forEach(function(r){Sb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pb(e){return function(t){if(Array.isArray(t))return Tu(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Zl(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kl(e){return(Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Du(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||Zl(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zl(e,t){if(e){if(typeof e=="string")return Tu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tu(e,t):void 0}}function Tu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nu=function(e){var t=[],n={};return e.forEach(function(r){var a="".concat(r.x,"-").concat(r.y);r.id=a,n[a]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},aa=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},ua=function(e,t){return function(n,r){var a=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return a/r.width>o/r.height?Mt.HORIZONTAL:Mt.VERTICAL}(t,e)===Mt.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},ql=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),a=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:a,maxY:o,height:o-r,width:a-n}},ti=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach(function(w){n.push(w.x),r.push(w.y)});var a=Math.min.apply(Math,n),o=Math.max.apply(Math,n),u=Math.min.apply(Math,r),l=Math.max.apply(Math,r),d=o-a,m=l-u;return t&&(d+=t,m+=t),{centerX:(a+o)/2,centerY:(u+l)/2,maxX:o,maxY:l,minX:a,minY:u,x:(a+o)/2,y:(u+l)/2,height:m,width:d}},ca=function(e){var t=e.minX,n=e.minY,r=e.maxX,a=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:a},{x:t,y:a}]},sa=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},Cu=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},$l=function(e,t,n,r,a){return Cu(e,t)+Cu(e,n)+function(o,u){var l=0;return u.forEach(function(d){d&&(o.x===d.x&&(l+=-2),o.y===d.y&&(l+=-2))}),l}(e,[t,n,r,a])},ni=function(e,t,n,r){var a=t.x-e.x,o=t.y-e.y,u=r.x-n.x,l=r.y-n.y,d=(-o*(e.x-n.x)+a*(e.y-n.y))/(-u*o+a*l),m=(u*(e.y-n.y)-l*(e.x-n.x))/(-u*o+a*l);return d>=0&&d<=1&&m>=0&&m<=1},Jl=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=Du(ca(n),4),a=r[0],o=r[1],u=r[2],l=r[3];return ni(e,t,a,o)||ni(e,t,a,l)||ni(e,t,o,u)||ni(e,t,u,l)},Ab=function(e,t,n,r,a,o,u){var l=[],d=[t],m={},w={},j={};w[t.id]=0,j[t.id]=$l(t,n,t);var k={};e.forEach(function($){k[$.id]=$});for(var I=function(){var $,oe,re,se=void 0,de=1/0;if(d.forEach(function(Ee){j[Ee.id]<de&&(de=j[Ee.id],se=Ee)}),se===n){var ke=[];return function Ee(Le,ze,Ne,ct,pt){pt||(pt=0),Le.unshift(ze[ct]),Ne[ct]&&Ne[ct]!==ct&&pt<=100&&Ee(Le,ze,Ne,Ne[ct],pt+1)}(ke,k,m,n.id),{v:ke}}oe=se,(re=($=d).indexOf(oe))>-1&&$.splice(re,1),l.push(se),function(Ee,Le,ze,Ne){var ct=[];return Ee.forEach(function(pt){pt!==Le&&(pt.x!==Le.x&&pt.y!==Le.y||Jl(pt,Le,ze)||Jl(pt,Le,Ne)||ct.push(pt))}),Nu(ct)}(e,se,r,a).forEach(function(Ee){if(l.indexOf(Ee)===-1){d.indexOf(Ee)===-1&&d.push(Ee);var Le=j[se.id]+Cu(se,Ee);w[Ee.id]&&Le>=w[Ee.id]||(m[Ee.id]=se.id,w[Ee.id]=Le,j[Ee.id]=w[Ee.id]+$l(Ee,n,t,o,u))}})};d.length;){var W=I();if(Kl(W)==="object")return W.v}return[t,n]},Ql=function(e){return mn(e)},Ru=function(e){for(var t=e,n=1;n<t.length-1;){var r=t[n-1],a=t[n],o=t[n+1];r.x===a.x&&a.x===o.x||r.y===a.y&&a.y===o.y?t.splice(n,1):n++}return t},ef=function(e,t,n,r,a){var o,u,l=Ql(n),d=Ql(r),m=aa(l,a),w=aa(d,a),j=ua(m,e),k=ua(w,t);if(o=m,u=w,2*Math.abs(o.centerX-u.centerX)<o.width+u.width&&2*Math.abs(o.centerY-u.centerY)<o.height+u.height){var I=Mb(e,t,j,k);return[e,j].concat(Pb(I),[k,t])}var W=ti([j,k]),$=ql(m,W),oe=ql(w,W),re=[];re=(re=re.concat(ca($))).concat(ca(oe));var se={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[W,$,oe].forEach(function(ke){re=re.concat(function(Ee,Le){return function(ze,Ne){return Ne<ze.minX||Ne>ze.maxX?[]:[{x:Ne,y:ze.minY},{x:Ne,y:ze.maxY}]}(Ee,Le.x).concat(function(ze,Ne){return Ne<ze.minY||Ne>ze.maxY?[]:[{x:ze.minX,y:Ne},{x:ze.maxX,y:Ne}]}(Ee,Le.y))}(ke,se).filter(function(Ee){return sa(Ee,m)&&sa(Ee,w)}))}),[{x:j.x,y:k.y},{x:k.x,y:j.y}].forEach(function(ke){sa(ke,m)&&sa(ke,w)&&re.push(ke)}),re.unshift(j),re.push(k),re=Nu(re);var de=Ab(re,j,k,l,d,e,t);return de.unshift(e),de.push(t),de.length>2&&(de=Ru(de)),Nu(de)},kb=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],a=Yn(n.x,n.y,r.x,r.y),o=1;o<e.length-1;o++){var u=e[o],l=e[o+1],d=Yn(u.x,u.y,l.x,l.y);d>a&&(a=d,n=u,r=l)}t=[n,r]}return t},tf=function(e,t,n){var r=Sr(e,n),a=Sr(t,n);return r&&a},nf=function(e,t,n){var r=Sr(e,n),a=Sr(t,n);return!(r&&a)&&(r||a)},rf=function(e,t,n){for(var r,a,o=mn(n),u=ca(o),l=0;l<u.length;l++)ni(e,t,u[l],u[(l+1)%u.length])&&(a=[u[l],u[(l+1)%u.length]]);return a&&(r=function(d,m,w,j){var k=(m.y-d.y)*(j.x-w.x)-(d.x-m.x)*(w.y-j.y);if(k===0)return!1;var I=((m.x-d.x)*(j.x-w.x)*(w.y-d.y)+(m.y-d.y)*(j.x-w.x)*d.x-(j.y-w.y)*(m.x-d.x)*w.x)/k,W=-((m.y-d.y)*(j.y-w.y)*(w.x-d.x)+(m.x-d.x)*(j.y-w.y)*d.y-(j.x-w.x)*(m.y-d.y)*w.y)/k;return(I-d.x)*(I-m.x)<=0&&(W-d.y)*(W-m.y)<=0&&(I-w.x)*(I-j.x)<=0&&(W-w.y)*(W-j.y)<=0&&{x:I,y:W}}(e,t,a[0],a[1])),r},la=function(e,t){var n;return e.x===t.x?n=Mt.VERTICAL:e.y===t.y&&(n=Mt.HORIZONTAL),n},bo=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var a=Du(r.split(","),2),o=a[0],u=a[1];n.push({x:Number(o),y:Number(u)})}),n},Mb=function(e,t,n,r){var a=[];if(la(e,n)===la(t,r))e.y===n.y?(a.push({x:n.x,y:(n.y+r.y)/2}),a.push({x:r.x,y:(n.y+r.y)/2})):(a.push({x:(n.x+r.x)/2,y:n.y}),a.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},u=$o(o,e,n),l=$o(o,t,r);if(u||l)o={x:r.x,y:n.y};else{var d=of(o,e,n),m=of(o,t,r);d&&m&&(o={x:r.x,y:n.y})}a.push(o)}return a},of=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},af=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},uf=function(e){var t=e.start,n=e.end,r=e.sourceNode,a=e.targetNode,o=e.offset,u=mn(r),l=mn(a),d=aa(u,o),m=aa(l,o);return{sNext:ua(d,t),ePre:ua(m,n)}},fa=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[pa(t[0]),pa(t[1]),pa(t[2]),pa(t[3])]},pa=function(e){var t=Du(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},cf=function(e,t){for(var n,r=e.x,a=e.y,o=bo(t),u=Number.MAX_SAFE_INTEGER,l=[],d=0;d<o.length;d++)l.push({start:o[d],end:o[(d+1)%o.length]});if(l.forEach(function(k){var I=k.start,W=k.end;if(I.x===W.x){var $={x:I.x,y:a};if($o($,I,W)){var oe=Math.abs(I.x-r);oe<u&&(u=oe,n=$)}}else if(I.y===W.y){var re={x:r,y:I.y};if($o(re,I,W)){var se=Math.abs(I.y-a);se<u&&(u=se,n=re)}}}),!n){var m=l[0],w=m.start,j=m.end;n={x:w.x+(j.x-w.x)/2,y:w.y+(j.y-w.y)/2}}return n},Db=function(e){return Zo(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},sf=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};i(204);var mo=function(){};function Tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kn=window.document;function Iu(e){var t=e.onDragStart,n=t===void 0?mo:t,r=e.onDraging,a=r===void 0?mo:r,o=e.onDragEnd,u=o===void 0?mo:o,l=e.step,d=l===void 0?1:l,m=e.isStopPropagation,w=m===void 0||m,j=!1,k=!1,I=0,W=0,$=0,oe=0;function re(de){if(w&&de.stopPropagation(),k&&(j=!0,$+=de.clientX-I,oe+=de.clientY-W,I=de.clientX,W=de.clientY,Math.abs($)>d||Math.abs(oe)>d)){var ke=$%d,Ee=oe%d,Le=$-ke,ze=oe-Ee;$=ke,oe=Ee,a({deltaX:Le,deltaY:ze,event:de})}}function se(de){if(w&&de.stopPropagation(),k=!1,Kn.removeEventListener("mousemove",re,!1),Kn.removeEventListener("mouseup",se,!1),j)return j=!1,u({event:de})}return function(de){if(de.button===0)return w&&de.stopPropagation(),k=!0,I=de.clientX,W=de.clientY,Kn.addEventListener("mousemove",re,!1),Kn.addEventListener("mouseup",se,!1),n({event:de})}}var ce,lf,ff,pf,df,hf,yf,vf,gf,bf,mf,Of,_f,Zr=function(){function e(r){var a=this,o=r.onDragStart,u=o===void 0?mo:o,l=r.onDraging,d=l===void 0?mo:l,m=r.onDragEnd,w=m===void 0?mo:m,j=r.eventType,k=j===void 0?"":j,I=r.eventCenter,W=I===void 0?null:I,$=r.step,oe=$===void 0?1:$,re=r.isStopPropagation,se=re===void 0||re,de=r.model,ke=de===void 0?null:de;(function(Ee,Le){if(!(Ee instanceof Le))throw new TypeError("Cannot call a class as a function")})(this,e),zt(this,"onDragStart",void 0),zt(this,"onDraging",void 0),zt(this,"onDragEnd",void 0),zt(this,"step",void 0),zt(this,"isStopPropagation",void 0),zt(this,"isDraging",!1),zt(this,"isStartDraging",!1),zt(this,"startX",0),zt(this,"startY",0),zt(this,"sumDeltaX",0),zt(this,"sumDeltaY",0),zt(this,"eventType",void 0),zt(this,"eventCenter",void 0),zt(this,"model",void 0),zt(this,"startTime",void 0),zt(this,"isGrag",void 0),zt(this,"handleMouseDown",function(Ee){var Le,ze;if(Ee.button===0){a.isStopPropagation&&Ee.stopPropagation(),a.isStartDraging=!0,a.startX=Ee.clientX,a.startY=Ee.clientY,Kn.addEventListener("mousemove",a.handleMouseMove,!1),Kn.addEventListener("mouseup",a.handleMouseUp,!1);var Ne=(Le=a.model)===null||Le===void 0?void 0:Le.getData();(ze=a.eventCenter)===null||ze===void 0||ze.emit(tt["".concat(a.eventType,"_MOUSEDOWN")],{e:Ee,data:Ne}),a.startTime=new Date().getTime()}}),zt(this,"handleMouseMove",function(Ee){if(a.isStopPropagation&&Ee.stopPropagation(),a.isStartDraging&&(a.sumDeltaX+=Ee.clientX-a.startX,a.sumDeltaY+=Ee.clientY-a.startY,a.startX=Ee.clientX,a.startY=Ee.clientY,a.step<=1||Math.abs(a.sumDeltaX)>a.step||Math.abs(a.sumDeltaY)>a.step)){var Le,ze=a.sumDeltaX%a.step,Ne=a.sumDeltaY%a.step,ct=a.sumDeltaX-ze,pt=a.sumDeltaY-Ne;a.sumDeltaX=ze,a.sumDeltaY=Ne;var Ct,Ut=(Le=a.model)===null||Le===void 0?void 0:Le.getData();a.isDraging||((Ct=a.eventCenter)===null||Ct===void 0||Ct.emit(tt["".concat(a.eventType,"_DRAGSTART")],{e:Ee,data:Ut}),a.onDragStart({event:Ee})),a.isDraging=!0,Promise.resolve().then(function(){var Wt,Qt;a.onDraging({deltaX:ct,deltaY:pt,event:Ee}),(Wt=a.eventCenter)===null||Wt===void 0||Wt.emit(tt["".concat(a.eventType,"_MOUSEMOVE")],{e:Ee,data:Ut}),(Qt=a.eventCenter)===null||Qt===void 0||Qt.emit(tt["".concat(a.eventType,"_DRAG")],{e:Ee,data:Ut})})}}),zt(this,"handleMouseUp",function(Ee){a.isStartDraging=!1,a.isStopPropagation&&Ee.stopPropagation(),Promise.resolve().then(function(){var Le,ze,Ne;Kn.removeEventListener("mousemove",a.handleMouseMove,!1),Kn.removeEventListener("mouseup",a.handleMouseUp,!1);var ct=(Le=a.model)===null||Le===void 0?void 0:Le.getData();(ze=a.eventCenter)===null||ze===void 0||ze.emit(tt["".concat(a.eventType,"_MOUSEUP")],{e:Ee,data:ct}),a.isDraging&&(a.isDraging=!1,a.onDragEnd({event:Ee}),(Ne=a.eventCenter)===null||Ne===void 0||Ne.emit(tt["".concat(a.eventType,"_DROP")],{e:Ee,data:ct}))})}),zt(this,"cancelDrag",function(){Kn.removeEventListener("mousemove",a.handleMouseMove,!1),Kn.removeEventListener("mouseup",a.handleMouseUp,!1),a.isDraging=!1}),this.onDragStart=u,this.onDraging=d,this.onDragEnd=w,this.step=oe,this.isStopPropagation=se,this.eventType=k,this.eventCenter=W,this.model=ke}var t,n;return t=e,(n=[{key:"setStep",value:function(r){this.step=r}}])&&Tb(t.prototype,n),e}();function wf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wf(Object(n),!0).forEach(function(r){cr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xf(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||Ef(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oo(e){return function(t){if(Array.isArray(t))return Lu(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Ef(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ef(e,t){if(e){if(typeof e=="string")return Lu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lu(e,t):void 0}}function Lu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zu(e){return(zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function En(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Nb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var jf,Sf=(lf=Je((ce=function(){function e(r){(function(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")})(this,e),cr(this,"rootEl",void 0),En(this,"width",lf,this),En(this,"height",ff,this),cr(this,"theme",void 0),cr(this,"eventCenter",void 0),cr(this,"modelMap",new Map),cr(this,"topElement",void 0),cr(this,"animation",void 0),cr(this,"idGenerator",void 0),cr(this,"nodeMoveRules",[]),En(this,"edgeType",pf,this),En(this,"nodes",df,this),En(this,"edges",hf,this),En(this,"overlapMode",yf,this),En(this,"background",vf,this),En(this,"transformModel",gf,this),En(this,"editConfigModel",bf,this),En(this,"gridSize",mf,this),En(this,"partial",Of,this),En(this,"fakerNode",_f,this);var a,o=r.container,u=r.background,l=u===void 0?{}:u,d=r.grid,m=r.idGenerator,w=r.animation;this.background=l,zu(d)==="object"&&(this.gridSize=d.size),this.rootEl=o,this.editConfigModel=new Cs(r),this.eventCenter=new Jg,this.transformModel=new bg(this.eventCenter),this.theme=tl(r.style),this.edgeType=r.edgeType||"polyline",r.width||(r.width=o.getBoundingClientRect().width),r.height||(r.height=o.getBoundingClientRect().height),this.width=r.width,this.height=r.height,this.animation=(a=w)&&typeof a!="boolean"?el(Dt(Tl),a):Dt(a===!0?sb:Tl),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=m}var t,n;return t=e,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,a,o){return r[a.id]={index:o,model:a},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,a,o){return r[a.id]={index:o,model:a},r},{})}},{key:"modelsMap",get:function(){return[].concat(Oo(this.nodes),Oo(this.edges)).reduce(function(r,a){return r[a.id]=a,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(j){return r.push(j)}),this.edges.forEach(function(j){return r.push(j)}),r=r.sort(function(j,k){return j.zIndex-k.zIndex});for(var a=[],o=-1,u=[-200,-200],l=[this.width+200,this.height+200],d=0;d<r.length;d++){var m=r[d];m.visible&&(!this.partial||m.isSelected||this.isElementInArea(m,u,l,!1,!1))&&(m.zIndex===9999&&(o=a.length),a.push(m))}if(o!==-1){var w=a[a.length-1];a[a.length-1]=a[o],a[o]=w}return a}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===St.TEXT_EDIT}),a=this.edges.find(function(o){return o.state===St.TEXT_EDIT});return r||a}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(a){a.isSelected&&r.set(a.id,a)}),this.edges.forEach(function(a){a.isSelected&&r.set(a.id,a)}),r}},{key:"getAreaElement",value:function(r,a){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=[],d=[];this.nodes.forEach(function(j){return d.push(j)}),this.edges.forEach(function(j){return d.push(j)});for(var m=0;m<d.length;m++){var w=d[m];this.isElementInArea(w,r,a,o,u)&&l.push(w)}return l}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var a;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(a=this.nodesMap[r])===null||a===void 0?void 0:a.model}},{key:"getPointByClient",value:function(r){var a=r.x,o=r.y,u=this.rootEl.getBoundingClientRect(),l={x:a-u.left,y:o-u.top},d=xf(this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),2);return{domOverlayPosition:l,canvasOverlayPosition:{x:d[0],y:d[1]}}}},{key:"isElementInArea",value:function(r,a,o){var u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Ft.NODE){for(var d=mn(r=r),m=d.minX,w=d.minY,j=d.maxX,k=d.maxY,I=[{x:m,y:w},{x:j,y:w},{x:j,y:k},{x:m,y:k}],W=l,$=0;$<I.length;$++){var oe=I[$],re=oe.x,se=oe.y,de=this.transformModel.CanvasPointToHtmlPoint([re,se]),ke=xf(de,2);if(re=ke[0],se=ke[1],mu([re,se],a,o)!==l){W=!l;break}}return W}if(r.BaseType===Ft.EDGE){var Ee=r=r,Le=Ee.startPoint,ze=Ee.endPoint,Ne=this.transformModel.CanvasPointToHtmlPoint([Le.x,Le.y]),ct=this.transformModel.CanvasPointToHtmlPoint([ze.x,ze.y]),pt=mu(Ne,a,o),Ct=mu(ct,a,o);return u?pt&&Ct:pt||Ct}return!1}},{key:"graphDataToModel",value:function(r){var a=this;this.nodes=$i(r.nodes,function(o){var u=a.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=o.x,d=o.y;return l&&d&&(o.x=go(l,a.gridSize),o.y=go(d,a.gridSize),zu(o.text)==="object"&&(o.text.x-=nl(l,a.gridSize),o.text.y-=nl(d,a.gridSize))),new u(o,a)}),this.edges=$i(r.edges,function(o){var u=a.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new u(o,a)})}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(o){var u=o.getData();u&&r.push(u)});var a=[];return this.nodes.forEach(function(o){var u=o.getData();u&&a.push(u)}),{nodes:a,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,a=[],o=0;o<this.nodes.length;o++){var u=this.nodes[o];if(u.isDragging){r=!0;break}a.push(u.getHistoryData())}if(r)return!1;for(var l=!1,d=[],m=0;m<this.edges.length;m++){var w=this.edges[m];if(w.isDragging){l=!0;break}d.push(w.getHistoryData())}return!l&&{nodes:a,edges:d}}},{key:"getEdgeModelById",value:function(r){var a;return(a=this.edgesMap[r])===null||a===void 0?void 0:a.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var a=[],o=0;o<this.edges.length;o++){var u=this.edges[o],l=this.edges[o].sourceNodeId===r,d=this.edges[o].targetNodeId===r;(l||d)&&a.push(u)}return a}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=this.selectElements,o={nodes:[],edges:[]};return a.forEach(function(u){if(u.BaseType===Ft.NODE&&o.nodes.push(u.getData()),u.BaseType===Ft.EDGE){var l=u.getData(),d=a.get(l.sourceNodeId)&&a.get(l.targetNodeId);(r||d)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(r,a){this.getElement(r).updateAttributes(a)}},{key:"changeNodeId",value:function(r,a){return a||(a=Wr()),this.nodesMap[a]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(a,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=a),o.targetNodeId===r&&(o.targetNodeId=a)}),this.nodesMap[r].model.id=a,a):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(a,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(r,a){return a||(a=Wr()),this.edgesMap[a]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(a,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=a)}),a):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(a,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,a){return this.modelMap.set(r,a)}},{key:"toFront",value:function(r){var a,o,u,l=((a=this.nodesMap[r])===null||a===void 0?void 0:a.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);l&&(this.overlapMode===bn.DEFAULT&&((u=this.topElement)===null||u===void 0||u.setZIndex(),l.setZIndex(9999),this.topElement=l),this.overlapMode===bn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,a){var o,u,l,d=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((u=this.edgesMap[r])===null||u===void 0?void 0:u.model);d&&(typeof a=="number"&&(l=a),a==="top"&&(l=ju()),a==="bottom"&&(l=--pb),d.setZIndex(l))}},{key:"deleteNode",value:function(r){var a=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(tt.NODE_DELETE,{data:a})}},{key:"addNode",value:function(r){var a=Wn(r);a.id&&this.nodesMap[r.id]&&delete a.id;var o=this.getModel(a.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(a.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var u=new o(a,this);this.nodes.push(u);var l=u.getData();return this.eventCenter.emit(tt.NODE_ADD,{data:l}),u}},{key:"cloneNode",value:function(r){var a=this.getNodeModelById(r),o=a.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var u=this.addNode(o);return u.setSelected(!0),a.setSelected(!1),u.getData()}},{key:"moveNode",value:function(r,a,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,m=d.move(a,o,u);m&&this.moveEdge(r,a,o)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(r,a,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,m=d.x,w=d.y,j=a-m,k=o-w;this.moveNode(r,j,k,u)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"editText",value:function(r){this.setElementStateById(r,St.TEXT_EDIT)}},{key:"addEdge",value:function(r){var a=Wn(r),o=a.type;o||(o=this.edgeType),a.id&&this.edgesMap[a.id]&&delete a.id;var u=this.getModel(o);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var l=new u(da(da({},a),{},{type:o}),this),d=l.getData();return this.edges.push(l),this.eventCenter.emit(tt.EDGE_ADD,{data:d}),l}},{key:"moveEdge",value:function(r,a,o){for(var u=0;u<this.edges.length;u++){var l,d=this.edges[u],m=d.textPosition,w=m.x,j=m.y,k=this.edges[u].sourceNodeId===r,I=this.edges[u].targetNodeId===r;if(k&&d.moveStartPoint(a,o),I&&d.moveEndPoint(a,o),k||I)if(d.customTextPosition===!0)d.resetTextPosition();else if(d.modelType===ht.POLYLINE_EDGE&&(l=d.text)!==null&&l!==void 0&&l.value){var W=d.text,$=cf(W,d.points);d.moveText($.x-W.x,$.y-W.y)}else{var oe=d.textPosition,re=oe.x,se=oe.y;d.moveText(re-w,se-j)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,a){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===a){var u=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(tt.EDGE_DELETE,{data:u})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var a=this.edgesMap[r].index,o=this.edgesMap[r].model.getData();this.edges.splice(a,1),this.eventCenter.emit(tt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeBySource",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].sourceNodeId===r){var o=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(tt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].targetNodeId===r){var o=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(tt.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(r,a,o){this.nodes.forEach(function(u){u.id===r?u.setElementState(a,o):u.setElementState(St.DEFAULT)}),this.edges.forEach(function(u){u.id===r?u.setElementState(a,o):u.setElementState(St.DEFAULT)})}},{key:"updateText",value:function(r,a){this.nodes.forEach(function(o){o.id===r&&o.updateText(a)}),this.edges.forEach(function(o){o.id===r&&o.updateText(a)})}},{key:"selectNodeById",value:function(r){var a,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(a=this.nodesMap[r])===null||a===void 0?void 0:a.model;u==null||u.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var a,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(a=this.edgesMap[r])===null||a===void 0?void 0:a.model;u==null||u.setSelected(!0)}},{key:"selectElementById",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||this.clearSelectElements();var o=this.getElement(r);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(a){a==null||a.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===bn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,a,o){var u=this,l=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(d){return u.moveNode(d,a,o,l)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,a){var o=this.getNodeModelById(r);if(o){var u=o.getData();u.type=a;var l=this.getModel(a);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(a,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var d=new l(u,this);this.nodes.splice(this.nodesMap[r].index,1,d),this.getNodeEdges(r).forEach(function(m){if(m.sourceNodeId===r){var w=Ml(d,m.startPoint,d.width,d.height);m.updateStartPoint(w)}if(m.targetNodeId===r){var j=Ml(d,m.endPoint,d.width,d.height);m.updateEndPoint(j)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"changeEdgeType",value:function(r,a){var o=this.getEdgeModelById(r);if(o){if(o.type!==a){var u=o.getData();u.type=a;var l=this.getModel(a);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(a,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete u.pointsList;var d=new l(u,this);this.edges.splice(this.edgesMap[r].index,1,d)}}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8FB9"))}},{key:"getNodeIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(o){o.targetNodeId===r&&a.push(o)}),a}},{key:"getNodeOutgoingEdge",value:function(r){var a=[];return this.edges.forEach(function(o){o.sourceNodeId===r&&a.push(o)}),a}},{key:"getNodeIncomingNode",value:function(r){var a=this,o=[];return this.edges.forEach(function(u){u.targetNodeId===r&&o.push(a.nodesMap[u.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(r){var a=this,o=[];return this.edges.forEach(function(u){u.sourceNodeId===r&&o.push(a.nodesMap[u.targetNodeId].model)}),o}},{key:"setTheme",value:function(r){this.theme=tl(da(da({},this.theme),r))}},{key:"resize",value:function(r,a){this.width=r!=null?r:this.width,this.height=a!=null?a:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,a=[],o=[];r.forEach(function(j){var k=j.x,I=j.y,W=j.width,$=j.height,oe=j.getNodeStyle().strokeWidth,re=oe===void 0?0:oe;a=a.concat([k+W/2+re,k-W/2-re]),o=o.concat([I+$/2+re,I-$/2-re])});var u=Math.min.apply(Math,Oo(a)),l=Math.max.apply(Math,Oo(a)),d=Math.min.apply(Math,Oo(o)),m=l-u||0,w=Math.max.apply(Math,Oo(o))-d||0;return{virtualRectWidth:m,virtualRectHeight:w,virtualRectCenterPositionX:u+m/2,virtualRectCenterPositionY:d+w/2}}},{key:"translateCenter",value:function(){var r=this.nodes,a=this.width,o=this.height,u=this.rootEl,l=this.transformModel;if(r.length){var d=a||u.clientWidth,m=o||u.clientHeight,w=this.getVirtualRectSize(),j=w.virtualRectCenterPositionX,k=w.virtualRectCenterPositionY;l.focusOn(j,k,d,m)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,u=this.width,l=this.height,d=this.rootEl,m=this.transformModel;if(o.length){var w=u||d.clientWidth,j=l||d.clientHeight,k=this.getVirtualRectSize(),I=k.virtualRectWidth,W=k.virtualRectHeight,$=k.virtualRectCenterPositionX,oe=k.virtualRectCenterPositionY,re=(I+a)/w,se=(W+r)/j,de=0;de=1/Math.max(re,se);var ke=[w/2,j/2];m.zoom(de,ke),m.focusOn($,oe,w,j)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}])&&Nb(t.prototype,n),e}()).prototype,"width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ff=Je(ce.prototype,"height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pf=Je(ce.prototype,"edgeType",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),df=Je(ce.prototype,"nodes",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),hf=Je(ce.prototype,"edges",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yf=Je(ce.prototype,"overlapMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bn.DEFAULT}}),vf=Je(ce.prototype,"background",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gf=Je(ce.prototype,"transformModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bf=Je(ce.prototype,"editConfigModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mf=Je(ce.prototype,"gridSize",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Of=Je(ce.prototype,"partial",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_f=Je(ce.prototype,"fakerNode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je(ce.prototype,"nodesMap",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"nodesMap"),ce.prototype),Je(ce.prototype,"edgesMap",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"edgesMap"),ce.prototype),Je(ce.prototype,"modelsMap",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"modelsMap"),ce.prototype),Je(ce.prototype,"sortElements",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"sortElements"),ce.prototype),Je(ce.prototype,"textEditElement",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"textEditElement"),ce.prototype),Je(ce.prototype,"selectElements",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"selectElements"),ce.prototype),Je(ce.prototype,"setFakerNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setFakerNode"),ce.prototype),Je(ce.prototype,"removeFakerNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"removeFakerNode"),ce.prototype),Je(ce.prototype,"setModel",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setModel"),ce.prototype),Je(ce.prototype,"toFront",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"toFront"),ce.prototype),Je(ce.prototype,"setElementZIndex",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setElementZIndex"),ce.prototype),Je(ce.prototype,"deleteNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteNode"),ce.prototype),Je(ce.prototype,"addNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"addNode"),ce.prototype),Je(ce.prototype,"cloneNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"cloneNode"),ce.prototype),Je(ce.prototype,"moveNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNode"),ce.prototype),Je(ce.prototype,"moveNode2Coordinate",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNode2Coordinate"),ce.prototype),Je(ce.prototype,"editText",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"editText"),ce.prototype),Je(ce.prototype,"addEdge",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"addEdge"),ce.prototype),Je(ce.prototype,"moveEdge",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveEdge"),ce.prototype),Je(ce.prototype,"deleteEdgeBySourceAndTarget",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeBySourceAndTarget"),ce.prototype),Je(ce.prototype,"deleteEdgeById",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeById"),ce.prototype),Je(ce.prototype,"deleteEdgeBySource",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeBySource"),ce.prototype),Je(ce.prototype,"deleteEdgeByTarget",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeByTarget"),ce.prototype),Je(ce.prototype,"setElementStateById",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setElementStateById"),ce.prototype),Je(ce.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"updateText"),ce.prototype),Je(ce.prototype,"selectNodeById",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectNodeById"),ce.prototype),Je(ce.prototype,"selectEdgeById",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectEdgeById"),ce.prototype),Je(ce.prototype,"selectElementById",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectElementById"),ce.prototype),Je(ce.prototype,"clearSelectElements",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"clearSelectElements"),ce.prototype),Je(ce.prototype,"moveNodes",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNodes"),ce.prototype),Je(ce.prototype,"setDefaultEdgeType",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setDefaultEdgeType"),ce.prototype),Je(ce.prototype,"changeNodeType",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"changeNodeType"),ce.prototype),Je(ce.prototype,"changeEdgeType",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"changeEdgeType"),ce.prototype),Je(ce.prototype,"getNodeIncomingEdge",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeIncomingEdge"),ce.prototype),Je(ce.prototype,"getNodeOutgoingEdge",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeOutgoingEdge"),ce.prototype),Je(ce.prototype,"getNodeIncomingNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeIncomingNode"),ce.prototype),Je(ce.prototype,"getNodeOutgoingNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeOutgoingNode"),ce.prototype),Je(ce.prototype,"setTheme",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setTheme"),ce.prototype),Je(ce.prototype,"resize",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"resize"),ce.prototype),Je(ce.prototype,"clearData",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"clearData"),ce.prototype),Je(ce.prototype,"translateCenter",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"translateCenter"),ce.prototype),Je(ce.prototype,"fitView",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"fitView"),ce.prototype),Je(ce.prototype,"openEdgeAnimation",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"openEdgeAnimation"),ce.prototype),Je(ce.prototype,"closeEdgeAnimation",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"closeEdgeAnimation"),ce.prototype),ce),Cb=Sf;function Pf(e){return(Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Af(){return(Af=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kf(e,t){return(kf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Ib(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Bu(e);if(t){var a=Bu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Lb(this,n)}}function Lb(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zn(e)}function Zn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bu(e){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mf,zb=zn(jf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&kf(o,u)})(a,e);var t,n,r=Ib(a);function a(o){var u;(function(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")})(this,a),sr(Zn(u=r.call(this)),"stepDrag",void 0),sr(Zn(u),"stepScrollX",0),sr(Zn(u),"stepScrollY",0),sr(Zn(u),"onDraging",function(w){var j=w.deltaX,k=w.deltaY;u.setState({isDraging:!0});var I=u.props.graphModel,W=I.transformModel;I.editConfigModel.stopMoveGraph||W.translate(j,k)}),sr(Zn(u),"onDragEnd",function(){u.setState({isDraging:!1})}),sr(Zn(u),"zoomHandler",function(w){var j=u.props,k=j.graphModel,I=k.editConfigModel,W=k.transformModel,$=k.gridSize,oe=j.graphModel,re=w.deltaX,se=w.deltaY;if(I.stopScrollGraph||w.ctrlKey===!0){if(!I.stopZoomGraph){w.preventDefault();var de=oe.getPointByClient({x:w.clientX,y:w.clientY}).canvasOverlayPosition,ke=de.x,Ee=de.y;W.zoom(w.deltaY<0,[ke,Ee])}}else{if(w.preventDefault(),u.stepScrollX+=re,u.stepScrollY+=se,Math.abs(u.stepScrollX)>=$){var Le=u.stepScrollX%$,ze=u.stepScrollX-Le;W.translate(-ze*W.SCALE_X,0),u.stepScrollX=Le}if(Math.abs(u.stepScrollY)>=$){var Ne=u.stepScrollY%$,ct=u.stepScrollY-Ne;W.translate(0,-ct*W.SCALE_Y),u.stepScrollY=Ne}}}),sr(Zn(u),"clickHandler",function(w){if(w.target.getAttribute("name")==="canvas-overlay"){var j=u.props.graphModel;j.selectElements.size>0&&j.clearSelectElements(),j.eventCenter.emit(tt.BLANK_CLICK,{e:w})}}),sr(Zn(u),"handleContextMenu",function(w){if(w.target.getAttribute("name")==="canvas-overlay"){w.preventDefault();var j=u.props.graphModel,k=j.getPointByClient({x:w.clientX,y:w.clientY});j.eventCenter.emit(tt.BLANK_CONTEXTMENU,{e:w,position:k})}}),sr(Zn(u),"mouseDownHandler",function(w){var j=u.props.graphModel,k=j.eventCenter,I=j.editConfigModel,W=j.transformModel.SCALE_X,$=j.gridSize,oe=w.target,re=!I.adjustEdge&&!I.adjustNodePosition;(oe.getAttribute("name")==="canvas-overlay"||re)&&(I.stopMoveGraph?k.emit(tt.BLANK_MOUSEDOWN,{e:w}):(u.stepDrag.setStep($*W),u.stepDrag.handleMouseDown(w)),u.clickHandler(w))});var l=o.graphModel,d=l.gridSize,m=l.eventCenter;return u.stepDrag=new Zr({onDraging:u.onDraging,onDragEnd:u.onDragEnd,step:d,eventType:"BLANK",isStopPropagation:!1,eventCenter:m,model:null}),u.state={isDraging:!1},u}return t=a,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props,l=u.children,d=u.dnd,m=this.state.isDraging;return Object(K.g)("svg",Af({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:m?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},d.eventMap()),Object(K.g)("g",{transform:o},l))}}])&&Rb(t.prototype,n),a}(K.a))||jf;function Df(e){return(Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Bb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tf(e,t){return(Tf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Hb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Fu(e);if(t){var a=Fu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ub(this,n)}}function Ub(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nf(e)}function Nf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fu(e){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Gb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xb=zn(Mf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Tf(o,u)})(a,e);var t,n,r=Hb(a);function a(){var o;Bb(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Gb(Nf(o=r.call.apply(r,[this].concat(l))),"setToolOverlayRef",function(m){var w=o.props.tool.getInstance();w.components.forEach(function(j){return j(w,m)}),w.components=[]}),o}return t=a,(n=[{key:"getTools",value:function(){var o=this.props,u=o.tool,l=o.graphModel,d=u.getTools().map(function(m){return Object(K.g)(m,{graphModel:l,logicFlow:u.instance})});return u.components=d,d}},{key:"render",value:function(){return Object(K.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&Fb(t.prototype,n),a}(K.a))||Mf;function Cf(e){return(Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Vb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rf(e,t){return(Rf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Wb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hu(e);if(t){var a=Hu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Kb(this,n)}}function Kb(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Hu(e){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var If,Zb=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Rf(o,u)})(a,e);var t,n,r=Wb(a);function a(){return Vb(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var o=this.props.background;return Object(K.g)("div",{className:"lf-background"},Object(K.g)("div",{style:o,className:"lf-background-area"}))}}])&&Yb(t.prototype,n),a}(K.a);function Lf(e){return(Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function qb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zf(e,t){return(zf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Jb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Uu(e);if(t){var a=Uu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Qb(this,n)}}function Qb(e,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bf(e)}function Bf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uu(e){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function em(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ff=zn(If=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&zf(o,u)})(a,e);var t,n,r=Jb(a);function a(){var o;qb(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return em(Bf(o=r.call.apply(r,[this].concat(l))),"id",Wr()),o}return t=a,(n=[{key:"renderDot",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,m=d===void 0?2:d,w=o.size,j=o.visible,k=Math.min(Math.max(2,m),w/2),I=1;return j||(I=0),Object(K.g)("rect",{width:k,height:k,rx:k/2,ry:k/2,fill:l,opacity:I})}},{key:"renderMesh",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,m=d===void 0?1:d,w=o.size,j=o.visible,k=Math.min(Math.max(1,m),w/2),I="M ".concat(w," 0 H0 M0 0 V0 ").concat(w),W=1;return j||(W=0),Object(K.g)("path",{d:I,stroke:l,strokeWidth:k,opacity:W})}},{key:"render",value:function(){var o=this.props,u=o.type,l=o.size,d=o.graphModel.transformModel,m=[d.SCALE_X,d.SKEW_Y,d.SKEW_X,d.SCALE_Y,d.TRANSLATE_X,d.TRANSLATE_Y].join(","),w="matrix(".concat(m,")");return Object(K.g)("div",{className:"lf-grid"},Object(K.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(K.g)("defs",null,Object(K.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:w,x:"0",y:"0",width:l,height:l},u==="dot"&&this.renderDot(),u==="mesh"&&this.renderMesh())),Object(K.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&$b(t.prototype,n),a}(K.a))||If;Ff.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function Hf(e){return(Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function tm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Uf(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Uf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gf,qr=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(n){var r=tm(n,2),a=r[0],o=r[1];(a==="style"||Hf(o)!=="object")&&(t[a]=o)}),Object(K.g)("line",t)};function Xf(e){return(Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Vf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vf(Object(n),!0).forEach(function(r){nm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yf(e,t){return(Yf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function im(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Gu(e);if(t){var a=Gu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return am(this,n)}}function am(e,t){if(t&&(Xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Gu(e){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Wf,um=zn(Gf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Yf(o,u)})(a,e);var t,n,r=im(a);function a(){return rm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,u=o.position,l=o.isShowHorizontal,d=o.isShowVertical,m=o.getStyle(),w=u.x,j=w===void 0?0:w,k=u.y,I=k===void 0?0:k,W=ha(ha({x1:-1e5,y1:I,x2:1e5,y2:I},m),{},{stroke:l?m.stroke:"none"}),$=ha(ha({x1:j,y1:-1e5,x2:j,y2:1e5},m),{},{stroke:d?m.stroke:"none"});return Object(K.g)("g",{className:"lf-snapline"},Object(K.g)(qr,W),Object(K.g)(qr,$))}}])&&om(t.prototype,n),a}(K.a))||Gf;function Kf(e){return(Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function cm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Zf(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Zf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pr(e){var t=e.x,n=e.y,r=e.width,a=e.height,o=e.className,u=e.radius,l=t-r/2,d=n-a/2,m={};return Object.entries(e).forEach(function(w){var j=cm(w,2),k=j[0],I=j[1];Kf(I)!=="object"&&(m[k]=I)}),m.className=o?"lf-basic-shape ".concat(o):"lf-basic-shape",u&&(m.rx=u,m.ry=u),m.x=l,m.y=d,Object(K.g)("rect",m)}function qf(e){return(qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ri(){return(ri=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$f(Object(n),!0).forEach(function(r){sm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$f(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qf(e,t){return(Qf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function pm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Xu(e);if(t){var a=Xu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return dm(this,n)}}function dm(e,t){if(t&&(qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Xu(e){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Pr.defaultProps={className:"",radius:""};var ep,hm=zn(Wf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Qf(o,u)})(a,e);var t,n,r=pm(a);function a(){return lm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,u=o.nodes,l=o.editConfigModel,d=l.hoverOutline,m=l.nodeSelectedOutline,w=[];return u.forEach(function(j){if(j.isHovered||j.isSelected){var k=j.isHovered,I=j.isSelected,W=j.x,$=j.y,oe=j.width,re=j.height;if(m&&I||d&&k){var se=j.getOutlineStyle(),de={};if(Object.keys(se).forEach(function(Ee){Ee!=="hover"&&(de[Ee]=se[Ee])}),k){var ke=se.hover;de=Jf(Jf({},de),ke)}w.push(Object(K.g)(Pr,ri({className:"lf-outline-node",x:W,y:$,width:oe+10,height:re+10},de)))}}}),w}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,u=o.edges,l=o.editConfigModel,d=l.edgeSelectedOutline,m=l.hoverOutline,w=[],j=0;j<u.length;j++){var k=u[j];(d&&k.isSelected||m&&k.isHovered)&&(k.modelType===ht.LINE_EDGE?w.push(this.getLineOutline(k)):k.modelType===ht.POLYLINE_EDGE?w.push(this.getPolylineOutline(k)):k.modelType===ht.BEZIER_EDGE&&w.push(this.getBezierOutline(k)))}return w}},{key:"getLineOutline",value:function(o){var u=o.startPoint,l=o.endPoint,d=(u.x+l.x)/2,m=(u.y+l.y)/2,w=Math.abs(u.x-l.x)+10,j=Math.abs(u.y-l.y)+10,k=o.getOutlineStyle();return Object(K.g)(Pr,ri({className:"lf-outline-edge",x:d,y:m,width:w,height:j},k))}},{key:"getPolylineOutline",value:function(o){var u=o.points,l=bo(u),d=ti(l,8),m=d.x,w=d.y,j=d.width,k=d.height,I=o.getOutlineStyle();return Object(K.g)(Pr,ri({className:"lf-outline",x:m,y:w,width:j,height:k},I))}},{key:"getBezierOutline",value:function(o){var u=o.path,l=fa(u),d=ti(l,8),m=d.x,w=d.y,j=d.width,k=d.height,I=o.getOutlineStyle();return Object(K.g)(Pr,ri({className:"lf-outline",x:m,y:w,width:j,height:k},I))}},{key:"render",value:function(){return Object(K.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&fm(t.prototype,n),a}(K.a))||Wf;function tp(e){return(tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ym(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return np(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return np(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function np(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oi(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,o=e.r,u=o===void 0?4:o,l=e.className,d={cx:n,cy:a,r:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(m){var w=ym(m,2),j=w[0],k=w[1];tp(k)!=="object"&&(d[j]=k)}),d.className=l?"lf-basic-shape ".concat(l):"lf-basic-shape",Object(K.g)("circle",d)}function rp(e){return(rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function vm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return op(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return op(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function op(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ya(){return(ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ip(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ap(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function up(e,t,n){return t&&ap(e.prototype,t),n&&ap(e,n),e}function cp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sp(e,t)}function sp(e,t){return(sp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function lp(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Vu(e);if(t){var a=Vu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gm(this,n)}}function gm(e,t){if(t&&(rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return va(e)}function va(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vu(e){return(Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fp,pp=function(e){cp(n,e);var t=lp(n);function n(){var r;return ip(this,n),Yu(va(r=t.call(this)),"dragHandler",void 0),Yu(va(r),"onDraging",function(a){var o=a.event,u=r.props,l=u.graphModel,d=u.bezierModel,m=u.type,w=l.getPointByClient({x:o.clientX,y:o.clientY}).canvasOverlayPosition,j=w.x,k=w.y;d.updateAdjustAnchor({x:j,y:k},m)}),Yu(va(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new Zr({onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return up(n,[{key:"render",value:function(){var r=this,a=this.props.position,o=a.x,u=a.y,l=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(K.g)(oi,ya({className:"lf-bezier-adjust-anchor",x:o,y:u},l,{onMouseDown:function(d){r.dragHandler.handleMouseDown(d)}}))}}]),n}(K.a),bm=zn(ep=function(e){cp(n,e);var t=lp(n);function n(){return ip(this,n),t.apply(this,arguments)}return up(n,[{key:"getBezierAdjust",value:function(r,a){var o=r.path,u=r.id,l=vm(fa(o),4),d=l[0],m=l[1],w=l[2],j=l[3],k=r.getEdgeStyle().adjustLine,I=[];return I.push(Object(K.g)(qr,ya({x1:d.x,y1:d.y,x2:m.x,y2:m.y},k))),I.push(Object(K.g)(pp,{position:m,bezierModel:r,graphModel:a,key:"".concat(u,"_ePre"),type:"sNext"})),I.push(Object(K.g)(qr,ya({x1:j.x,y1:j.y,x2:w.x,y2:w.y},k))),I.push(Object(K.g)(pp,{position:w,bezierModel:r,graphModel:a,key:"".concat(u,"_sNext"),type:"ePre"})),I}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,a=r.edges,o=[],u=0;u<a.length;u++){var l=a[u];l.isSelected&&l.modelType===ht.BEZIER_EDGE&&l.draggable&&o.push(this.getBezierAdjust(l,r))}return o}},{key:"render",value:function(){return Object(K.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(K.a))||ep;function dp(e){return(dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function mm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hp(e,t){return(hp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function _m(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Wu(e);if(t){var a=Wu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return wm(this,n)}}function wm(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Wu(e){return(Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var yp,xm=zn(fp=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&hp(o,u)})(a,e);var t,n,r=_m(a);function a(){return mm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props.children;return Object(K.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(K.g)("g",{transform:o},u))}}])&&Om(t.prototype,n),a}(K.a))||fp;function vp(e){return(vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gp(){return(gp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Em(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bp(e,t){return(bp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Sm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ku(e);if(t){var a=Ku(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Pm(this,n)}}function Pm(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ku(e){return(Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Am=zn(yp=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&bp(o,u)})(a,e);var t,n,r=Sm(a);function a(){return Em(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getComponent",value:function(o,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",d=this.props.getView,m=d(o.type);return Object(K.g)(m,{key:o.id,model:o,graphModel:u,overlay:l})}},{key:"render",value:function(){var o=this,u=this.props,l=u.graphModel,d=u.tool,m=u.options,w=u.dnd,j=u.snaplineModel,k={};m.width&&(k.width="".concat(l.width,"px")),m.height&&(k.height="".concat(l.height,"px"));var I=l.fakerNode,W=l.editConfigModel.adjustEdge;return Object(K.g)("div",{className:"lf-graph",style:k},Object(K.g)(zb,{graphModel:l,dnd:w},Object(K.g)("g",{className:"lf-base"},$i(l.sortElements,function($){return o.getComponent($,l)})),I?this.getComponent(I,l):""),Object(K.g)(xm,{graphModel:l},Object(K.g)(hm,{graphModel:l}),W?Object(K.g)(bm,{graphModel:l}):"",m.isSilentMode||m.snapline===!1?"":Object(K.g)(um,{snaplineModel:j})),Object(K.g)(Xb,{graphModel:l,tool:d}),m.background&&Object(K.g)(Zb,{background:m.background}),m.grid&&Object(K.g)(Ff,gp({},m.grid,{graphModel:l})))}}])&&jm(t.prototype,n),a}(K.a))||yp;function mp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mp(Object(n),!0).forEach(function(r){lr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mm=function(){function e(r){var a=this;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),lr(this,"nodeConfig",void 0),lr(this,"lf",void 0),lr(this,"fakerNode",void 0),lr(this,"stopDrag",function(){a.nodeConfig=null,window.document.removeEventListener("mouseup",a.stopDrag)}),lr(this,"dragEnter",function(u){a.nodeConfig&&!a.fakerNode&&(a.fakerNode=a.lf.createFakerNode(ga(ga({},a.nodeConfig),a.clientToLocalPoint({x:u.clientX,y:u.clientY}))))}),lr(this,"onDragOver",function(u){if(u.preventDefault(),a.fakerNode){var l=a.clientToLocalPoint({x:u.clientX,y:u.clientY}),d=l.x,m=l.y;a.fakerNode.moveTo(d,m);var w=a.fakerNode.getData();a.lf.setNodeSnapLine(w),a.lf.graphModel.eventCenter.emit(tt.NODE_DND_DRAG,{data:w})}return!1}),lr(this,"onDragLeave",function(){a.fakerNode&&(a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)}),lr(this,"onDrop",function(u){if(a.lf.graphModel&&u&&a.nodeConfig){var l=a.lf.addNode(ga(ga({},a.nodeConfig),a.clientToLocalPoint({x:u.clientX,y:u.clientY})));u.preventDefault(),u.stopPropagation(),a.nodeConfig=null,a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null;var d=l.getData();a.lf.graphModel.eventCenter.emit(tt.NODE_DND_ADD,{data:d})}});var o=r.lf;this.lf=o}var t,n;return t=e,(n=[{key:"clientToLocalPoint",value:function(r){var a=r.x,o=r.y,u=Wo(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:a,y:o}).canvasOverlayPosition,d=l.x,m=l.y;return{x:go(d,u),y:go(m,u)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&km(t.prototype,n),e}();function Op(e){var t=e.container,n=e.grid,r=e.width,a=e.height;if(!t)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof a=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return n&&(e.grid=an({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),an({},wp,e)}var Ot,_p,wp={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function xp(e){return(xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Zu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ep(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ep(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ep(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jp(Object(n),!0).forEach(function(r){Pp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Tm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(){return(ma=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Cm(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Cm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=$r(e))!==null;);return e}function Sp(e,t){return(Sp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Rm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$r(e);if(t){var a=$r(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Im(this,n)}}function Im(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oa(e)}function Oa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Pp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tn(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var qu=(_p=Tn((Ot=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Sp(o,u)})(a,e);var t,n,r=Rm(a);function a(){var o;Tm(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Pp(Oa(o=r.call.apply(r,[this].concat(l))),"modelType",ht.BEZIER_EDGE),Dm(Oa(o),"path",_p,Oa(o)),o}return t=a,(n=[{key:"initEdgeData",value:function(o){this.offset=100,ma($r(a.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return ba(ba({},ma($r(a.prototype),"getEdgeStyle",this).call(this)),Dt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,u=0;return this.pointsList.forEach(function(l){var d=l.x,m=l.y;o+=d,u+=m}),{x:o/this.pointsList.length,y:u/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=ma($r(a.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return ba(ba({},o),{},{pointsList:u})}},{key:"getControls",value:function(){var o=this.startPoint,u=this.endPoint;return uf({start:o,end:u,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var u=Zu(o,4),l=u[0],d=u[1],m=u[2],w=u[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(d.x," ").concat(d.y,`,
    `).concat(m.x," ").concat(m.y,`,
    `).concat(w.x," ").concat(w.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),u=o.sNext,l=o.ePre;this.updatePath(u,l)}},{key:"updatePath",value:function(o,u){var l={x:this.startPoint.x,y:this.startPoint.y},d={x:this.endPoint.x,y:this.endPoint.y};if(!o||!u){var m=this.getControls();o=m.sNext,u=m.ePre}this.pointsList=[l,o,u,d],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u;var l=Zu(this.pointsList,3),d=l[1],m=l[2];d.x+=o,d.y+=u,this.updatePath(d,m)}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u;var l=Zu(this.pointsList,3),d=l[1],m=l[2];m.x+=o,m.y+=u,this.updatePath(d,m)}},{key:"updateAdjustAnchor",value:function(o,u){u==="sNext"?this.pointsList[1]=o:u==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,m=o.targetNode,w=uf({start:u,end:l,sourceNode:d,targetNode:m,offset:this.offset}),j=w.sNext,k=w.ePre;this.pointsList=[u,j,k,l],this.initPoints()}}])&&Nm(t.prototype,n),a}(Pu)).prototype,"path",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Tn(Ot.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"initPoints"),Ot.prototype),Tn(Ot.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updatePoints"),Ot.prototype),Tn(Ot.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateStartPoint"),Ot.prototype),Tn(Ot.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateEndPoint"),Ot.prototype),Tn(Ot.prototype,"moveStartPoint",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"moveStartPoint"),Ot.prototype),Tn(Ot.prototype,"moveEndPoint",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"moveEndPoint"),Ot.prototype),Tn(Ot.prototype,"updateAdjustAnchor",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateAdjustAnchor"),Ot.prototype),Tn(Ot.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"getAdjustStart"),Ot.prototype),Tn(Ot.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"getAdjustEnd"),Ot.prototype),Tn(Ot.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateAfterAdjustStartAndEnd"),Ot.prototype),Ot),Ue,Ap,kp,Mp,Dp,Tp,Np,Cp,Rp,Ip,Lp,zp,Bp,Fp,Hp,Up,Gp,Xp,Lm=function(e){return e==null};function Vp(e){return(Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function zm(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(d,m){if(!!d){if(typeof d=="string")return Yp(d,m);var w=Object.prototype.toString.call(d).slice(8,-1);if(w==="Object"&&d.constructor&&(w=d.constructor.name),w==="Map"||w==="Set")return Array.from(d);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return Yp(d,m)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return u=d.done,d},e:function(d){l=!0,o=d},f:function(){try{u||n.return==null||n.return()}finally{if(l)throw o}}}}function Yp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wp(Object(n),!0).forEach(function(r){jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Ar,Kp,pr=(Ap=_t((Ue=function(){function e(r,a){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),jn(this,"id",Wr()),Yt(this,"type",Ap,this),Yt(this,"x",kp,this),Yt(this,"y",Mp,this),Yt(this,"text",Dp,this),Yt(this,"properties",Tp,this),Yt(this,"_width",Np,this),Yt(this,"_height",Cp,this),Yt(this,"anchorsOffset",Rp,this),Yt(this,"isSelected",Ip,this),Yt(this,"isHovered",Lp,this),Yt(this,"isDragging",zp,this),Yt(this,"isHitable",Bp,this),Yt(this,"draggable",Fp,this),Yt(this,"visible",Hp,this),jn(this,"graphModel",void 0),Yt(this,"zIndex",Up,this),Yt(this,"state",Gp,this),Yt(this,"autoToFront",Xp,this),jn(this,"BaseType",Ft.NODE),jn(this,"modelType",ht.NODE),jn(this,"additionStateData",void 0),jn(this,"targetRules",[]),jn(this,"sourceRules",[]),jn(this,"moveRules",[]),jn(this,"hasSetTargetRules",!1),jn(this,"hasSetSourceRules",!1),this.graphModel=a,this.initNodeData(r),this.setAttributes()}var t,n;return t=e,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,o=a&&a(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}this.formatText(r),an(this,function(l){return Zo(l,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===bn.INCREASE&&(this.zIndex=r.zIndex||ju())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,a=r.x,o=r.y,u=r.value,l=this.properties;Object(s.x)(l)&&(l=Object(s.I)(l));var d={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===bn.INCREASE&&(d.zIndex=this.zIndex),u&&(d.text={x:a,y:o,value:u}),d}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getNodeStyle",value:function(){return fr({},this.graphModel.theme.baseNode)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Dt(r)}},{key:"getAnchorStyle",value:function(r){var a=this.graphModel.theme.anchor;return Dt(a)}},{key:"getAnchorLineStyle",value:function(){var r=this.graphModel.theme.anchorLine;return Dt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Dt(r)}},{key:"isAllowConnectedAsSource",value:function(r,a,o){var u=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l,d=!0,m=0;m<u.length;m++){var w=u[m];if(!w.validate.call(this,this,r,a,o)){d=!1,l=w.message;break}}return{isAllPass:d,msg:l}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,a,o){var u=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l,d=!0,m=0;m<u.length;m++){var w=u[m];if(!w.validate.call(this,r,this,a,o)){d=!1,l=w.message;break}}return{isAllPass:d,msg:l}}},{key:"isAllowMoveNode",value:function(r,a){var o,u=!0,l=!0,d=zm(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(d.s();!(o=d.n()).done;){var m=(0,o.value)(this,r,a);if(!m)return!1;if(Vp(m)==="object"){var w=m;if(w.x===!1&&w.y===!1)return!1;u=u&&w.x,l=l&&w.y}}}catch(j){d.e(j)}finally{d.f()}return{x:u,y:l}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,a=this.id,o=this.x,u=this.y;return r&&r.length>0?r.map(function(l,d){return l.length?(l=l,{id:"".concat(a,"_").concat(d),x:o+l[0],y:u+l[1]}):fr(fr({},l=l),{},{x:o+l.x,y:u+l.y,id:l.id||"".concat(a,"_").concat(d)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(r){if(!Lm(r))for(var a=0;a<this.anchors.length;a++){var o=this.anchors[a];if(o.id===r)return o}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,a){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=!1,l=!1;if(o)u=!0,l=!0;else{var d=this.isAllowMoveNode(r,a);typeof d=="boolean"?(u=d,l=d):(u=d.x,l=d.y)}if(u){var m=this.x+r;this.x=m,this.text&&this.moveText(r,0)}if(l){var w=this.y+a;this.y=w,this.text&&this.moveText(0,a)}return u||l}},{key:"moveTo",value:function(r,a){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=r-this.x,l=a-this.y;return!(!o&&!this.isAllowMoveNode(u,l)||(this.text&&this.text&&this.moveText(u,l),this.x=r,this.y=a,0))}},{key:"moveText",value:function(r,a){var o=this.text,u=o.x,l=o.y,d=o.value,m=o.draggable,w=o.editable;this.text={value:d,editable:w,draggable:m,x:u+r,y:l+a}}},{key:"updateText",value:function(r){this.text=fr(fr({},this.text),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"setProperty",value:function(r,a){this.properties=fr(fr({},this.properties),{},jn({},r,Wn(a))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=fr(fr({},this.properties),Wn(r)),this.setAttributes()}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){an(this,r)}}])&&Bm(t.prototype,n),e}()).prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),kp=_t(Ue.prototype,"x",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Mp=_t(Ue.prototype,"y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Dp=_t(Ue.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Tp=_t(Ue.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Np=_t(Ue.prototype,"_width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Cp=_t(Ue.prototype,"_height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Rp=_t(Ue.prototype,"anchorsOffset",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ip=_t(Ue.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lp=_t(Ue.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zp=_t(Ue.prototype,"isDragging",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bp=_t(Ue.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fp=_t(Ue.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Hp=_t(Ue.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Up=_t(Ue.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Gp=_t(Ue.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Xp=_t(Ue.prototype,"autoToFront",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_t(Ue.prototype,"incoming",[s.m],Object.getOwnPropertyDescriptor(Ue.prototype,"incoming"),Ue.prototype),_t(Ue.prototype,"outgoing",[s.m],Object.getOwnPropertyDescriptor(Ue.prototype,"outgoing"),Ue.prototype),_t(Ue.prototype,"addNodeMoveRules",[s.k],Object.getOwnPropertyDescriptor(Ue.prototype,"addNodeMoveRules"),Ue.prototype),_t(Ue.prototype,"move",[s.k],Object.getOwnPropertyDescriptor(Ue.prototype,"move"),Ue.prototype),_t(Ue.prototype,"moveTo",[s.k],Object.getOwnPropertyDescriptor(Ue.prototype,"moveTo"),Ue.prototype),_t(Ue.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Ue.prototype,"moveText"),Ue.prototype),_t(Ue.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Ue.prototype,"updateText"),Ue.prototype),_t(Ue.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Ue.prototype,"setSelected"),Ue.prototype),_t(Ue.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Ue.prototype,"setHovered"),Ue.prototype),_t(Ue.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Ue.prototype,"setHitable"),Ue.prototype),_t(Ue.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Ue.prototype,"setElementState"),Ue.prototype),_t(Ue.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Ue.prototype,"setProperty"),Ue.prototype),_t(Ue.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Ue.prototype,"setProperties"),Ue.prototype),_t(Ue.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Ue.prototype,"setZIndex"),Ue.prototype),_t(Ue.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Ue.prototype,"updateAttributes"),Ue.prototype),Ue);function Zp(e){return(Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function qp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qp(Object(n),!0).forEach(function(r){ed(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Hm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Um(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jp(){return(Jp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Gm(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Gm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ii(e))!==null;);return e}function Qp(e,t){return(Qp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Xm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ii(e);if(t){var a=ii(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Vm(this,n)}}function Vm(e,t){if(t&&(Zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _a(e)}function _a(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ii(e){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $u(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var cn,td,nd,Ju=(Kp=$u((Ar=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Qp(o,u)})(a,e);var t,n,r=Xm(a);function a(){var o;Hm(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return ed(_a(o=r.call.apply(r,[this].concat(l))),"modelType",ht.CIRCLE_NODE),Fm(_a(o),"r",Kp,_a(o)),o}return t=a,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=Jp(ii(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.circle;return $p($p({},o),Dt(u))}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.r;return[{x:o,y:u-l,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+l,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&Um(t.prototype,n),a}(pr)).prototype,"r",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),$u(Ar.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Ar.prototype,"width"),Ar.prototype),$u(Ar.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Ar.prototype,"height"),Ar.prototype),Ar);i(127);function rd(e){return(rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Qu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return od(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return od(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function od(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?id(Object(n),!0).forEach(function(r){ld(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):id(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ud(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ym(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cd(){return(cd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Km(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Km(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ai(e))!==null;);return e}function sd(e,t){return(sd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Zm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ai(e);if(t){var a=ai(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return qm(this,n)}}function qm(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _o(e)}function _o(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ai(e){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ld(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wo(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var dr,fd,pd,ec=(td=wo((cn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&sd(o,u)})(a,e);var t,n,r=Zm(a);function a(){var o;Ym(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return ld(_o(o=r.call.apply(r,[this].concat(l))),"modelType",ht.DIAMOND_NODE),ud(_o(o),"rx",td,_o(o)),ud(_o(o),"ry",nd,_o(o)),o}return t=a,(n=[{key:"getNodeStyle",value:function(){var o=cd(ai(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.diamond;return ad(ad({},o),Dt(u))}},{key:"points",get:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[[o,u-d],[o+l,u],[o,u+d],[o-l,u]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Qu(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Qu(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(u,l){var d=Qu(u,2);return{x:d[0],y:d[1],id:"".concat(o.id,"_").concat(l)}})}}])&&Wm(t.prototype,n),a}(pr)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),nd=wo(cn.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),wo(cn.prototype,"points",[s.m],Object.getOwnPropertyDescriptor(cn.prototype,"points"),cn.prototype),wo(cn.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(cn.prototype,"pointsPosition"),cn.prototype),wo(cn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(cn.prototype,"width"),cn.prototype),wo(cn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(cn.prototype,"height"),cn.prototype),cn);function dd(e){return(dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hd(Object(n),!0).forEach(function(r){md(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gd(){return(gd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Qm(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Qm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ui(e))!==null;);return e}function bd(e,t){return(bd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function e0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ui(e);if(t){var a=ui(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return t0(this,n)}}function t0(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xo(e)}function xo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function md(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wa(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Nn,Od,tc=(fd=wa((dr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&bd(o,u)})(a,e);var t,n,r=e0(a);function a(){var o;$m(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return md(xo(o=r.call.apply(r,[this].concat(l))),"modelType",ht.ELLIPSE_NODE),vd(xo(o),"rx",fd,xo(o)),vd(xo(o),"ry",pd,xo(o)),o}return t=a,(n=[{key:"getNodeStyle",value:function(){var o=gd(ui(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.ellipse;return yd(yd({},o),Dt(u))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[{x:o,y:u-d,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&Jm(t.prototype,n),a}(pr)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),pd=wa(dr.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),wa(dr.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(dr.prototype,"width"),dr.prototype),wa(dr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(dr.prototype,"height"),dr.prototype),dr);function _d(e){return(_d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function nc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return wd(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return wd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xd(Object(n),!0).forEach(function(r){Pd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function r0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jd(){return(jd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=i0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function i0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ci(e))!==null;);return e}function Sd(e,t){return(Sd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function a0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ci(e);if(t){var a=ci(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u0(this,n)}}function u0(e,t){if(t&&(_d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xa(e)}function xa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Pd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ea(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Ad,kd,rc=(Od=Ea((Nn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Sd(o,u)})(a,e);var t,n,r=a0(a);function a(){var o;r0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Pd(xa(o=r.call.apply(r,[this].concat(l))),"modelType",ht.POLYGON_NODE),n0(xa(o),"points",Od,xa(o)),o}return t=a,(n=[{key:"getNodeStyle",value:function(){var o=jd(ci(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.polygon;return Ed(Ed({},o),Dt(u))}},{key:"pointsPosition",get:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return this.points.map(function(m){return{x:m[0]+o-l/2,y:m[1]+u-d/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=nc(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=nc(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this,u=this.x,l=this.y,d=this.width,m=this.height;return this.points.map(function(w,j){var k=nc(w,2),I=k[0],W=k[1];return{x:u+I-d/2,y:l+W-m/2,id:"".concat(o.id,"_").concat(j)}})}}])&&o0(t.prototype,n),a}(pr)).prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Ea(Nn.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(Nn.prototype,"pointsPosition"),Nn.prototype),Ea(Nn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Nn.prototype,"width"),Nn.prototype),Ea(Nn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Nn.prototype,"height"),Nn.prototype),Nn);function Md(e){return(Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dd(Object(n),!0).forEach(function(r){Rd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function s0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nd(){return(Nd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=f0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function f0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=si(e))!==null;);return e}function Cd(e,t){return(Cd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function p0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=si(e);if(t){var a=si(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d0(this,n)}}function d0(e,t){if(t&&(Md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ja(e)}function ja(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function si(e){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Rd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jr,oc=(kd=function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}((Ad=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Cd(o,u)})(a,e);var t,n,r=p0(a);function a(){var o;s0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Rd(ja(o=r.call.apply(r,[this].concat(l))),"modelType",ht.RECT_NODE),c0(ja(o),"radius",kd,ja(o)),o}return t=a,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Nd(si(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.rect;return Td(Td({},o),Dt(u))}}])&&l0(t.prototype,n),a}(pr)).prototype,"radius",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ad);function Id(e){return(Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ld(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ld(Object(n),!0).forEach(function(r){Ud(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ld(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bd(){return(Bd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=v0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function v0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=li(e))!==null;);return e}function Fd(e,t){return(Fd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function g0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=li(e);if(t){var a=li(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b0(this,n)}}function b0(e,t){if(t&&(Id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hd(e)}function Hd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ud(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gd(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var ic=(Gd((Jr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Fd(o,u)})(a,e);var t,n,r=g0(a);function a(){var o;h0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Ud(Hd(o=r.call.apply(r,[this].concat(l))),"modelType",ht.TEXT_NODE),o}return t=a,(n=[{key:"getTextStyle",value:function(){var o=Bd(li(a.prototype),"getTextStyle",this).call(this),u=this.graphModel.theme.text;return zd(zd({},o),Dt(u))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return Eu({rows:o,fontSize:u,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return Eu({rows:o,fontSize:u,rowsLength:o.length}).height}}])&&y0(t.prototype,n),a}(pr)).prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Jr.prototype,"width"),Jr.prototype),Gd(Jr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Jr.prototype,"height"),Jr.prototype),Jr);function Xd(e){return(Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function m0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vd(e,t){return(Vd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function _0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ac(e);if(t){var a=ac(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w0(this,n)}}function w0(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yd(e)}function Yd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ac(e){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function x0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qn,Wd,Kd,Zd,uc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Vd(o,u)})(a,e);var t,n,r=_0(a);function a(){var o;m0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return x0(Yd(o=r.call.apply(r,[this].concat(l))),"modelType",ht.HTML_NODE),o}return t=a,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}}])&&O0(t.prototype,n),a}(pr);function qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function E0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fi(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Jd=(Wd=fi((qn=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),$d(this,"graphModel",void 0),cc(this,"isShowHorizontal",Wd,this),cc(this,"isShowVertical",Kd,this),cc(this,"position",Zd,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var t,n;return t=e,(n=[{key:"getStyle",value:function(){return function(r){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?qd(Object(o),!0).forEach(function(u){$d(r,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):qd(Object(o)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(o,u))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,a){for(var o=r.x,u=r.y,l=!1,d=!1,m=0;m<a.length;m++){var w=a[m];if(w.id!==r.id&&(o===w.x&&(l=!0),u===w.y&&(d=!0),l&&d))break}return{isShowVertical:l,isShowHorizontal:d,position:{x:o,y:u}}}},{key:"getHorizontalSnapline",value:function(r,a){var o,u,l=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=mn(m);else{var w=this.graphModel.getNodeModelById(d);u=mn(w)}}for(var j=0;j<a.length;j++){var k=a[j];if(k.id!==r.id){var I=mn(k);if(I.minY===u.minY||I.maxY===u.minY){l=!0,o=u.minY;break}if(I.minY===u.maxY||I.maxY===u.maxY){l=!0,o=u.maxY;break}}}return an({isShowHorizontal:l,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,a){var o,u,l=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=mn(m);else{var w=this.graphModel.getNodeModelById(d);u=mn(w)}}for(var j=0;j<a.length;j++){var k=a[j];if(k.id!==r.id){var I=mn(k);if(I.minX===u.minX||I.maxX===u.minX){l=!0,o=u.minX;break}if(I.minX===u.maxX||I.maxX===u.maxX){l=!0,o=u.maxX;break}}}return an({isShowVertical:l,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,a){var o=this.getCenterSnapLine(r,a),u=o.isShowHorizontal,l=o.isShowVertical;if(!u){var d=this.getHorizontalSnapline(r,a);d.isShowHorizontal&&(o.isShowHorizontal=d.isShowHorizontal,o.position.y=d.position.y)}if(!l){var m=this.getVerticalSnapline(r,a);m.isShowVertical&&(o.isShowVertical=m.isShowVertical,o.position.x=m.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var a=r.isShowHorizontal,o=r.isShowVertical,u=r.position;this.position=u,this.isShowHorizontal=a,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var a=this.graphModel.nodes,o=this.getSnapLinePosition(r,a);this.setSnaplineInfo(o)}}])&&E0(t.prototype,n),e}()).prototype,"isShowHorizontal",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kd=fi(qn.prototype,"isShowVertical",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zd=fi(qn.prototype,"position",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi(qn.prototype,"clearSnapline",[s.k],Object.getOwnPropertyDescriptor(qn.prototype,"clearSnapline"),qn.prototype),fi(qn.prototype,"setNodeSnapLine",[s.k],Object.getOwnPropertyDescriptor(qn.prototype,"setNodeSnapLine"),qn.prototype),qn);function Qd(e){return(Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sa(){return(Sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function th(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eh(Object(n),!0).forEach(function(r){Jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return nh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return nh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rh(e,t){return(rh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function P0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=sc(e);if(t){var a=sc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return A0(this,n)}}function A0(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $n(e)}function $n(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sc(e){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k0=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&rh(o,u)})(a,e);var t,n,r=P0(a);function a(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),Jn($n(o=r.call(this)),"preTargetNode",void 0),Jn($n(o),"sourceRuleResults",void 0),Jn($n(o),"targetRuleResults",void 0),Jn($n(o),"dragHandler",void 0),Jn($n(o),"t",void 0),Jn($n(o),"onDragStart",function(u){var l=u.event,d=o.props,m=d.anchorData,w=d.nodeModel,j=d.graphModel,k=j.overlapMode;j.selectNodeById(w.id),k!==bn.INCREASE&&w.autoToFront&&j.toFront(w.id),j.eventCenter.emit(tt.ANCHOR_DRAGSTART,{data:m,e:l,nodeModel:w}),o.setState({startX:m.x,startY:m.y,endX:m.x,endY:m.y})}),Jn($n(o),"onDraging",function(u){var l=u.event,d=o.props,m=d.graphModel,w=d.nodeModel,j=d.anchorData,k=m.transformModel,I=m.eventCenter,W=m.width,$=m.height,oe=m.editConfigModel,re=l.clientX,se=l.clientY,de=m.getPointByClient({x:re,y:se}),ke=de.domOverlayPosition,Ee=ke.x,Le=ke.y,ze=de.canvasOverlayPosition,Ne=ze.x,ct=ze.y;o.t&&clearInterval(o.t);var pt=[];Ee<10?pt=[10,0]:Ee+10>W?pt=[-10,0]:Le<10?pt=[0,10]:Le+10>$&&(pt=[0,-10]),o.setState({endX:Ne,endY:ct,draging:!0}),o.moveAnchorEnd(Ne,ct),pt.length>0&&!oe.stopMoveGraph&&(o.t=setInterval(function(){var Ct=j0(pt,2),Ut=Ct[0],Wt=Ct[1];k.translate(Ut,Wt);var Qt=o.state,ln=Qt.endX,gr=Qt.endY;o.setState({endX:ln-Ut,endY:gr-Wt}),o.moveAnchorEnd(ln-Ut,gr-Wt)},50)),I.emit(tt.ANCHOR_DRAG,{data:j,e:l,nodeModel:w})}),Jn($n(o),"onDragEnd",function(u){o.t&&clearInterval(o.t),o.checkEnd(u),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear()}),Jn($n(o),"checkEnd",function(u){var l=o.props,d=l.graphModel,m=l.nodeModel,w=l.anchorData,j=w.x,k=w.y,I=w.id,W=d.edgeType,$=o.state,oe=$.endX,re=$.endY,se=$.draging,de=ta({x:oe,y:re},d);if(o.preTargetNode&&o.preTargetNode.state!==St.DEFAULT&&o.preTargetNode.setElementState(St.DEFAULT),se&&de&&de.node){var ke=de.node,Ee=de.anchor.id,Le="".concat(m.id,"_").concat(ke.id,"_").concat(Ee,"_").concat(I),ze=o.sourceRuleResults.get(Le)||{},Ne=ze.isAllPass,ct=ze.msg,pt=o.targetRuleResults.get(Le)||{},Ct=pt.isAllPass,Ut=pt.msg;if(Ne&&Ct){ke.setElementState(St.DEFAULT);var Wt=d.addEdge({type:W,sourceNodeId:m.id,sourceAnchorId:I,startPoint:{x:j,y:k},targetNodeId:de.node.id,targetAnchorId:de.anchor.id,endPoint:{x:de.anchor.x,y:de.anchor.y}}),Qt=o.props.anchorData;d.eventCenter.emit(tt.ANCHOR_DROP,{data:Qt,e:u,nodeModel:m,edgeModel:Wt})}else{var ln=ke.getData();d.eventCenter.emit(tt.CONNECTION_NOT_ALLOWED,{data:ln,msg:Ut||ct})}}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=new Zr({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=a,(n=[{key:"getAnchorShape",value:function(){var o=this.props,u=o.anchorData,l=o.style,d=o.node.getAnchorShape(u);if(d)return d;var m=u.x,w=u.y,j=th(th({},l),l.hover);return Object(K.g)("g",null,Object(K.g)(oi,Sa({className:"lf-node-anchor-hover"},j,{x:m,y:w})),Object(K.g)(oi,Sa({className:"lf-node-anchor"},l,{x:m,y:w})))}},{key:"moveAnchorEnd",value:function(o,u){var l=this.props,d=l.graphModel,m=l.nodeModel,w=l.anchorData,j=ta({x:o,y:u},d);if(j){var k=j.node,I=j.anchor.id;if(this.preTargetNode&&this.preTargetNode!==j.node&&this.preTargetNode.setElementState(St.DEFAULT),w.id===I)return;this.preTargetNode=k;var W="".concat(m.id,"_").concat(k.id,"_").concat(I,"_").concat(w.id);if(!this.targetRuleResults.has(W)){var $=j.anchor,oe=m.isAllowConnectedAsSource(k,w,$),re=k.isAllowConnectedAsTarget(m,w,$);this.sourceRuleResults.set(W,na(oe)),this.targetRuleResults.set(W,na(re))}var se=this.sourceRuleResults.get(W).isAllPass,de=this.targetRuleResults.get(W).isAllPass;se&&de?k.setElementState(St.ALLOW_CONNECT):k.setElementState(St.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==St.DEFAULT&&this.preTargetNode.setElementState(St.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,u=o.startX,l=o.startY,d=o.endX,m=o.endY;return Yn(u,l,d,m)>10}},{key:"render",value:function(){var o=this,u=this.state,l=u.startX,d=u.startY,m=u.endX,w=u.endY,j=this.props,k=j.anchorData.edgeAddable,I=j.edgeStyle;return Object(K.g)("g",{className:"lf-anchor"},Object(K.g)("g",{onMouseDown:function(W){k!==!1&&o.dragHandler.handleMouseDown(W)}},this.getAnchorShape()),this.isShowLine()&&Object(K.g)(qr,Sa({x1:l,y1:d,x2:m,y2:w},I,{"pointer-events":"none"})))}}])&&S0(t.prototype,n),a}(K.a);i(63);function oh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function M0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oh(Object(n),!0).forEach(function(r){D0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ih(e){return(ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function T0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ah(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ah(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ah(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uh(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,o=e.value,u=e.fontSize,l=e.fill,d=l===void 0?"currentColor":l,m=e.overflowMode,w=m===void 0?"default":m,j=e.textWidth,k=j===void 0?"":j,I=e.model,W={textAnchor:"middle","dominant-baseline":"middle",x:n,y:a,fill:d};if(Object.entries(e).forEach(function(ke){var Ee=T0(ke,2),Le=Ee[0],ze=Ee[1];ih(ze)!=="object"&&(W[Le]=ze)}),o){var $=String(o).split(/[\r\n]/g),oe=$.length;if(w!=="default"){var re=I.BaseType,se=I.modelType;if(re===Ft.NODE&&se!==ht.TEXT_NODE||re===Ft.EDGE&&k)return function(ke){var Ee=ke.value,Le=ke.fontSize,ze=ke.model,Ne=ke.fontFamily,ct=Ne===void 0?"":Ne,pt=ke.lineHeight,Ct=ke.wrapPadding,Ut=Ct===void 0?"0, 0":Ct,Wt=ke.overflowMode,Qt=ke.x,ln=ke.y,gr=ze.width,no=ze.textHeight,br=ke.textWidth||gr,gi=String(Ee).split(/[\r\n]/g),Da=gi.length,Ta=Dl({rows:gi,style:{fontSize:"".concat(Le,"px"),width:"".concat(br,"px"),fontFamily:ct,lineHeight:pt,padding:Ut},rowsLength:Da,className:"lf-get-text-height"}),Po=ze.height>Ta?ze.height:Ta;no&&(Po=no);var Ao=Wt==="ellipsis";return Object(K.g)("g",null,Object(K.g)("foreignObject",{width:br,height:Po,x:Qt-br/2,y:ln-Po/2},Object(K.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Po,width:br,padding:Ut}},Object(K.g)("div",{className:Ao?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:M0({},ke)},gi.map(function(Dr){return Object(K.g)("div",{className:"lf-node-text--auto-wrap-inner"},Dr)})))))}(e)}if(oe>1){var de=$.map(function(ke,Ee){var Le=(Ee-(oe-1)/2)*(u+2);return Object(K.g)("tspan",{className:"lf-text-tspan",x:n,y:a+Le},ke)});return Object(K.g)("text",W,de)}return Object(K.g)("text",W,o)}}function ch(e){return(ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function sh(){return(sh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return lh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return lh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fh(e,t){return(fh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function R0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=lc(e);if(t){var a=lc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I0(this,n)}}function I0(e,t){if(t&&(ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kr(e)}function kr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lc(e){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ph=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&fh(o,u)})(a,e);var t,n,r=R0(a);function a(o){var u;(function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")})(this,a),Qr(kr(u=r.call(this)),"dragHandler",void 0),Qr(kr(u),"sumDeltaX",0),Qr(kr(u),"sumDeltaY",0),Qr(kr(u),"stepDrag",void 0),Qr(kr(u),"onDraging",function(m){var w=m.deltaX,j=m.deltaY,k=u.props,I=k.model,W=N0(k.graphModel.transformModel.fixDeltaXY(w,j),2),$=W[0],oe=W[1];I.moveText($,oe)}),Qr(kr(u),"dblClickHandler",function(){u.props.editable&&u.props.model.setElementState(St.TEXT_EDIT)}),Qr(kr(u),"mouseDownHandle",function(m){var w=u.props,j=w.draggable,k=w.graphModel.editConfigModel.nodeTextDraggable;(j||k)&&u.stepDrag.handleMouseDown(m)});var l=o.model,d=o.draggable;return u.stepDrag=new Zr({onDraging:u.onDraging,step:1,model:l,isStopPropagation:d}),u}return t=a,(n=[{key:"getShape",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.text,m=l.editConfigModel,w=d.value,j=d.x,k=d.y,I=d.editable,W=d.draggable,$={x:j,y:k,className:"",value:w};I?$.className="lf-element-text":W||m.nodeTextDraggable?$.className="lf-text-draggable":$.className="lf-text-disabled";var oe=u.getTextStyle();return Object(K.g)(uh,sh({},$,oe,{model:u}))}},{key:"render",value:function(){if(this.props.model.text)return Object(K.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&C0(t.prototype,n),a}(K.a),L0=window.navigator.userAgent.match(/MSIE|Trident/)!==null,pi=new Map,dh=function(e){var t=pi.get(e);t&&(window.cancelAnimationFrame(t),pi.delete(e))};function hh(e){return(hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Pa(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return yh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return yh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gh(e,t){return(gh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function z0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fc(e);if(t){var a=fc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return B0(this,n)}}function B0(e,t){if(t&&(hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jt(e)}function Jt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fc(e){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hr=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&gh(u,l)})(o,e);var t,n,r,a=z0(o);function o(u){var l;(function(k,I){if(!(k instanceof I))throw new TypeError("Cannot call a class as a function")})(this,o),sn(Jt(l=a.call(this)),"t",void 0),sn(Jt(l),"moveOffset",void 0),sn(Jt(l),"stepDrag",void 0),sn(Jt(l),"contextMenuTime",void 0),sn(Jt(l),"startTime",void 0),sn(Jt(l),"clickTimer",void 0),sn(Jt(l),"onDragStart",function(k){var I=k.event,W=I.clientX,$=I.clientY,oe=l.props,re=oe.model,se=oe.graphModel.getPointByClient({x:W,y:$}).canvasOverlayPosition,de=se.x,ke=se.y;l.moveOffset={x:re.x-de,y:re.y-ke}}),sn(Jt(l),"onDraging",function(k){var I=k.event,W=l.props,$=W.model,oe=W.graphModel,re=oe.editConfigModel,se=oe.transformModel,de=oe.width,ke=oe.height,Ee=oe.gridSize;$.isDragging=!0;var Le=I.clientX,ze=I.clientY,Ne=oe.getPointByClient({x:Le,y:ze}).canvasOverlayPosition,ct=Ne.x,pt=Ne.y,Ct=Pa(se.CanvasPointToHtmlPoint([ct,pt]),2),Ut=Ct[0],Wt=Ct[1];if(!(Ut<0||Wt<0||Ut>de||Wt>ke)){ct+=l.moveOffset.x,pt+=l.moveOffset.y,ct=go(ct,Ee),pt=go(pt,Ee);var Qt,ln,gr,no=Pa(se.CanvasPointToHtmlPoint([ct-$.width/2,pt-$.height/2]),2),br=no[0],gi=no[1],Da=Pa(se.CanvasPointToHtmlPoint([ct+$.width/2,pt+$.height/2]),2),Ta=Da[0],Po=Da[1],Ao=Math.max(Ee,20),Dr=[];br<0?Dr=[Ao,0]:Ta>oe.width?Dr=[-Ao,0]:gi<0?Dr=[0,Ao]:Po>oe.height&&(Dr=[0,-Ao]),l.t&&dh(l.t),Dr.length>0&&!re.stopMoveGraph?l.t=(Qt=function(){var Na=Pa(Dr,2),Ca=Na[0],Xy=Na[1];se.translate(Ca,Xy),oe.moveNode($.id,-Ca/se.SCALE_X,-Xy/se.SCALE_X)},ln=Wr(),gr=window.requestAnimationFrame(function Na(){if(Qt(),pi.get(ln)){var Ca=window.requestAnimationFrame(Na);pi.set(ln,Ca)}}),pi.set(ln,gr),ln):oe.moveNode2Coordinate($.id,ct,pt)}}),sn(Jt(l),"onDragEnd",function(){l.t&&dh(l.t),l.props.model.isDragging=!1}),sn(Jt(l),"handleClick",function(k){if(l.startTime&&!(new Date().getTime()-l.startTime>200)){var I=l.props,W=I.model,$=I.graphModel,oe={data:W.getData(),e:k,position:$.getPointByClient({x:k.clientX,y:k.clientY})},re=k.button===2,se=k.detail===2;if(!re){var de=$.editConfigModel;$.selectNodeById(W.id,ol(k,de)),l.toFront(),se?(de.nodeTextEdit&&W.text.editable&&(W.setSelected(!1),$.setElementStateById(W.id,St.TEXT_EDIT)),$.eventCenter.emit(tt.NODE_DBCLICK,oe)):($.eventCenter.emit(tt.ELEMENT_CLICK,oe),$.eventCenter.emit(tt.NODE_CLICK,oe))}}}),sn(Jt(l),"handleContextMenu",function(k){k.preventDefault();var I=l.props,W=I.model,$=I.graphModel,oe=W.getData(),re=$.getPointByClient({x:k.clientX,y:k.clientY});$.setElementStateById(W.id,St.SHOW_MENU,re.domOverlayPosition),$.selectNodeById(W.id),$.eventCenter.emit(tt.NODE_CONTEXTMENU,{data:oe,e:k,position:re}),l.toFront()}),sn(Jt(l),"handleMouseDown",function(k){var I=l.props,W=I.model,$=I.graphModel;l.toFront(),l.startTime=new Date().getTime(),$.editConfigModel.adjustNodePosition&&W.draggable&&l.stepDrag&&l.stepDrag.handleMouseDown(k)}),sn(Jt(l),"setHoverON",function(k){if(!l.state.isHovered){l.setState({isHovered:!0});var I=l.props,W=I.model,$=I.graphModel,oe=W.getData();W.setHovered(!0),$.eventCenter.emit(tt.NODE_MOUSEENTER,{data:oe,e:k})}}),sn(Jt(l),"setHoverOFF",function(k){l.setState({isHovered:!1});var I=l.props,W=I.model,$=I.graphModel,oe=W.getData();W.setHovered(!1),$.eventCenter.emit(tt.NODE_MOUSELEAVE,{data:oe,e:k})}),sn(Jt(l),"onMouseOut",function(k){L0&&l.setHoverOFF(k)});var d=u.graphModel,m=d.gridSize,w=d.eventCenter,j=u.model;return l.stepDrag=new Zr({onDragStart:l.onDragStart,onDraging:l.onDraging,onDragEnd:l.onDragEnd,step:m,eventType:"NODE",isStopPropagation:!1,eventCenter:w,model:j}),l.state={isHovered:!1},l}return t=o,r=[{key:"getModel",value:function(u){return u}}],(n=[{key:"getAnchorShape",value:function(u){return null}},{key:"getAnchors",value:function(){var u=this,l=this.props,d=l.model,m=l.graphModel,w=d.isSelected,j=d.isHitable,k=d.isDragging,I=this.state.isHovered;if(j&&(w||I)&&!k){var W=d.getAnchorLineStyle();return $i(d.anchors,function($,oe){var re=d.getAnchorStyle($);return Object(K.g)(k0,{anchorData:$,node:u,style:re,edgeStyle:W,anchorIndex:oe,nodeModel:d,graphModel:m,setHoverOFF:u.setHoverOFF})})}return[]}},{key:"getText",value:function(){var u=this.props,l=u.model,d=u.graphModel;if(l.state===St.TEXT_EDIT)return"";if(l.text){var m=d.editConfigModel,w=!1;return(l.text.draggable||m.nodeTextDraggable)&&(w=!0),Object(K.g)(ph,{editable:m.nodeTextEdit&&l.text.editable,model:l,graphModel:d,draggable:w})}}},{key:"getStateClassName",value:function(){var u=this.props.model,l=u.state,d=u.isDraging,m=u.isSelected,w="lf-node";switch(l){case St.ALLOW_CONNECT:w+=" lf-node-allow";break;case St.NOT_ALLOW_CONNECT:w+=" lf-node-not-allow";break;default:w+=" lf-node-default"}return d&&(w+=" lf-isDragging"),m&&(w+=" lf-node-selected"),w}},{key:"toFront",value:function(){var u=this.props,l=u.model,d=u.graphModel;d.overlapMode!==bn.INCREASE&&l.autoToFront&&d.toFront(l.id)}},{key:"render",value:function(){var u,l=this.props,d=l.model,m=l.graphModel,w=m.editConfigModel,j=w.hideAnchors,k=w.adjustNodePosition,I=m.gridSize,W=m.transformModel.SCALE_X,$=d.isHitable,oe=d.draggable,re=Object(K.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),j?null:this.getAnchors());return $?(k&&oe&&this.stepDrag.setStep(I*W),u=Object(K.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},re)):u=Object(K.g)("g",{className:this.getStateClassName()},re),u}}])&&vh(t.prototype,n),r&&vh(t,r),o}(K.a);function bh(e){return(bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function mh(){return(mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oh(e,t){return(Oh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function U0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=pc(e);if(t){var a=pc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return G0(this,n)}}function G0(e,t){if(t&&(bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function pc(e){return(pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var dc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Oh(o,u)})(a,e);var t,n,r=U0(a);function a(){return F0(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(K.g)(Pr,mh({},u,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}])&&H0(t.prototype,n),a}(hr);function _h(e){return(_h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function wh(){return(wh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xh(e,t){return(xh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Y0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=hc(e);if(t){var a=hc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return W0(this,n)}}function W0(e,t){if(t&&(_h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function hc(e){return(hc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var yc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&xh(o,u)})(a,e);var t,n,r=Y0(a);function a(){return X0(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.r,m=o.getNodeStyle();return Object(K.g)(oi,wh({},m,{x:u,y:l,r:d}))}}])&&V0(t.prototype,n),a}(hr);function Eh(e){return(Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function K0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return jh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return jh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sh(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(a){var o=K0(a,2),u=o[0],l=o[1];Eh(l)!=="object"&&(r[u]=l)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map(function(a){return a.join(",")}).join(" "),Object(K.g)("polygon",r)}function Ph(e){return(Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ah(){return(Ah=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kh(e,t){return(kh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function $0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=vc(e);if(t){var a=vc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return J0(this,n)}}function J0(e,t){if(t&&(Ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function vc(e){return(vc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var gc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&kh(o,u)})(a,e);var t,n,r=$0(a);function a(){return Z0(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.width,m=o.height,w=o.points,j=o.getNodeStyle(),k={transform:"matrix(1 0 0 1 ".concat(u-d/2," ").concat(l-m/2,")")};return Object(K.g)("g",k,Object(K.g)(Sh,Ah({},j,{points:w,x:u,y:l})))}}])&&q0(t.prototype,n),a}(hr);function Mh(e){return(Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Dh(){return(Dh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Th(e,t){return(Th=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function tO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=bc(e);if(t){var a=bc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return nO(this,n)}}function nO(e,t){if(t&&(Mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function bc(e){return(bc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var mc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Th(o,u)})(a,e);var t,n,r=tO(a);function a(){return Q0(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(K.g)("g",null,Object(K.g)(Sh,Dh({},u,{points:o.points,x:o.x,y:o.y})))}}])&&eO(t.prototype,n),a}(hr);function Nh(e){return(Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function rO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ch(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ch(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oO(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,o=e.rx,u=o===void 0?4:o,l=e.ry,d=l===void 0?4:l,m=e.className,w={cx:n,cy:a,rx:u,ry:d,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(j){var k=rO(j,2),I=k[0],W=k[1];Nh(W)!=="object"&&(w[I]=W)}),w.className=m?"lf-basic-shape ".concat(m):"lf-basic-shape",Object(K.g)("ellipse",w)}function Rh(e){return(Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ih(){return(Ih=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function iO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lh(e,t){return(Lh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function uO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Oc(e);if(t){var a=Oc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return cO(this,n)}}function cO(e,t){if(t&&(Rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Oc(e){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var _c=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Lh(o,u)})(a,e);var t,n,r=uO(a);function a(){return iO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(K.g)(oO,Ih({},u,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}])&&aO(t.prototype,n),a}(hr);function zh(e){return(zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bh(Object(n),!0).forEach(function(r){sO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hh(e,t){return(Hh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function pO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wc(e);if(t){var a=wc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return dO(this,n)}}function dO(e,t){if(t&&(zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function wc(e){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var xc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Hh(o,u)})(a,e);var t,n,r=pO(a);function a(){return lO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text;if(l&&l.value&&u.background&&u.background.fill!=="transparnet"){var d=l.x,m=l.y,w=o.width,j=o.height,k=Fh(Fh({},u.background),{},{x:d,y:m-1,width:w,height:j});return Object(K.g)(Pr,k)}}},{key:"getShape",value:function(){return Object(K.g)("g",null,this.getBackgroud())}}])&&fO(t.prototype,n),a}(hr);function Uh(e){return(Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gh(e,t){return(Gh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function vO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ec(e);if(t){var a=Ec(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gO(this,n)}}function gO(e,t){if(t&&(Uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return di(e)}function di(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ec(e){return(Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Gh(o,u)})(a,e);var t,n,r=vO(a);function a(){var o;hO(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Aa(di(o=r.call.apply(r,[this].concat(l))),"ref",void 0),Aa(di(o),"currrentProperties",void 0),Aa(di(o),"preProperties",void 0),Aa(di(o),"setRef",function(m){o.ref=m}),o}return t=a,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.height,m=o.width;return this.currrentProperties=JSON.stringify(o.properties),Object(K.g)("foreignObject",{x:u-m/2,y:l-d/2,width:m,height:d,ref:this.setRef})}}])&&yO(t.prototype,n),a}(hr);function Xh(e){return(Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Vh(){return(Vh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Yh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yh(Object(n),!0).forEach(function(r){Ac(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wh(e,t){return(Wh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function mO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Pc(e);if(t){var a=Pc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return OO(this,n)}}function OO(e,t){if(t&&(Xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sc(e)}function Sc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pc(e){return(Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ac(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qn,_O=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Wh(o,u)})(a,e);var t,n,r=mO(a);function a(o){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,a),Ac(Sc(u=r.call(this,o)),"setHoverON",function(){u.setState({isHoverd:!0})}),Ac(Sc(u),"setHoverOFF",function(){u.setState({isHoverd:!1})}),u.state={isHoverd:!1},u}return t=a,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text,d=u.background||{};if(this.state.isHoverd&&u.hover&&u.hover.background&&(d=eo(eo({},d),u.hover.background)),l&&l.value&&d.fill!=="transparent"){var m,w=u.fontSize,j=u.overflowMode,k=u.lineHeight,I=u.wrapPadding,W=u.textWidth,$=l.value,oe=l.x,re=l.y,se=String($).split(/[\r\n]/g),de=se.length;if(j==="autoWrap"&&W){var ke=Dl({rows:se,style:{fontSize:"".concat(w,"px"),width:"".concat(W,"px"),lineHeight:k,padding:I},rowsLength:de,className:"lf-get-text-height"});m=eo(eo({},d),{},{x:oe-1,y:re-1,width:W,height:ke})}else{se&&se.forEach(function(ct){af(ct)});var Ee=Eu({rows:se,fontSize:w,rowsLength:de}),Le=Ee.width,ze=Ee.height;if(typeof d.wrapPadding=="string"){var Ne=d.wrapPadding.split(",").filter(function(ct){return ct.trim()}).map(function(ct){return parseFloat(ct.trim())});Ne.length>0&&Ne.length<=4&&(Ne.length===1?Ne=[Ne[0],Ne[0],Ne[0],Ne[0]]:Ne.length===2?Ne=[Ne[0],Ne[1],Ne[0],Ne[1]]:Ne.length===3&&(Ne=[Ne[0],Ne[1],Ne[2],Ne[1]]),Le+=Ne[1]+Ne[3],ze+=Ne[0]+Ne[2],oe+=(Ne[1]-Ne[3])/2,re+=(Ne[2]-Ne[0])/2)}m=eo(eo({},d),{},{x:oe-1,y:re-1,width:Le,height:ze})}return Object(K.g)(Pr,m)}}},{key:"getShape",value:function(){var o=this.props.model,u=o.text,l=u.value,d=u.x,m=u.y;if(l){var w=eo({x:d,y:m,className:"lf-element-text",value:l},o.getTextStyle());return Object(K.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(K.g)(uh,Vh({},w,{model:o})))}}}])&&bO(t.prototype,n),a}(ph);function Kh(e){return(Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Zh(){return(Zh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qh(Object(n),!0).forEach(function(r){Rn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return $h(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $h(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $h(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jh(e,t){return(Jh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function EO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=kc(e);if(t){var a=kc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return jO(this,n)}}function jO(e,t){if(t&&(Kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cn(e)}function Cn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kc(e){return(kc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Qn||(Qn={}));var Qh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Jh(o,u)})(a,e);var t,n,r=EO(a);function a(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),Rn(Cn(o=r.call(this)),"dragHandler",void 0),Rn(Cn(o),"oldEdge",void 0),Rn(Cn(o),"preTargetNode",void 0),Rn(Cn(o),"targetRuleResults",void 0),Rn(Cn(o),"sourceRuleResults",void 0),Rn(Cn(o),"onDragStart",function(){var u=o.props,l=u.x,d=u.y,m=u.edgeModel,w=m.startPoint,j=m.endPoint,k=m.pointsList;o.oldEdge={startPoint:w,endPoint:j,pointsList:k},o.setState({endX:l,endY:d,draging:!0}),m.isHitable=!1}),Rn(Cn(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,m=o.state,w=m.endX,j=m.endY,k=o.props,I=k.graphModel,W=k.type,$=wO(I.transformModel.moveCanvasPointByHtml([w,j],l,d),2),oe=$[0],re=$[1];o.setState({endX:oe,endY:re,draging:!0});var se=o.props.edgeModel,de=ta({x:w,y:j},I);if(de&&de.node&&o.isAllowAdjust(de)){var ke,Ee=se.startPoint,Le=se.endPoint,ze=se.sourceNode,Ne=se.targetNode;W===Qn.SOURCE?ke={startPoint:{x:de.anchor.x,y:de.anchor.y},endPoint:{x:Le.x,y:Le.y},sourceNode:de.node,targetNode:Ne}:W===Qn.TARGET&&(ke={startPoint:{x:Ee.x,y:Ee.y},endPoint:{x:de.anchor.x,y:de.anchor.y},sourceNode:ze,targetNode:de.node}),se.updateAfterAdjustStartAndEnd(ke)}else W===Qn.SOURCE?se.updateStartPoint({x:oe,y:re}):W===Qn.TARGET&&se.updateEndPoint({x:oe,y:re})}),Rn(Cn(o),"onDragEnd",function(){var u;o.setState({draging:!1});var l=o.props,d=l.graphModel,m=l.edgeModel,w=l.type;m.isHitable=!0;var j=o.state,k=j.endX,I=j.endY,W=j.draging,$=ta({x:k,y:I},d);if(W){if($&&$.node&&o.isAllowAdjust($)){var oe,re=m.getData(),se=yr(yr({},re),{},{sourceAnchorId:"",targetAnchorId:"",text:(re==null||(oe=re.text)===null||oe===void 0?void 0:oe.value)||""});w===Qn.SOURCE?se=yr(yr({},se),{},{sourceNodeId:$.node.id,sourceAnchorId:$.anchor.id,startPoint:{x:$.anchor.x,y:$.anchor.y},targetNodeId:m.targetNodeId,endPoint:yr({},m.endPoint)}):w===Qn.TARGET&&(se=yr(yr({},se),{},{sourceNodeId:m.sourceNodeId,startPoint:yr({},m.startPoint),targetNodeId:$.node.id,targetAnchorId:$.anchor.id,endPoint:{x:$.anchor.x,y:$.anchor.y}})),d.deleteEdgeById(m.id);var de=d.addEdge(yr({},se));d.eventCenter.emit(tt.EDGE_EXCHANGE_NODE,{data:{newEdge:de.getData(),oldEdge:m.getData()}})}else o.recoveryEdge();(u=o.preTargetNode)===null||u===void 0||u.setElementState(St.DEFAULT)}}),Rn(Cn(o),"recoveryEdge",function(){var u=o.props.edgeModel,l=o.oldEdge,d=l.startPoint,m=l.endPoint,w=l.pointsList;u.updateStartPoint(d),u.updateEndPoint(m),u.modelType!==ht.LINE_EDGE&&(u.pointsList=w,u.initPoints())}),Rn(Cn(o),"getAdjustPointStyle",function(){return o.props.graphModel.theme.edgeAdjust}),o.state={draging:!1,endX:0,endY:0},o.targetRuleResults=new Map,o.sourceRuleResults=new Map,o.dragHandler=Iu({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=a,(n=[{key:"isAllowAdjust",value:function(o){var u=this.props,l=u.edgeModel,d=(l.id,l.sourceNode),m=l.targetNode,w=l.sourceAnchorId,j=l.targetAnchorId,k=u.type,I=null,W=null,$=null,oe=null;if(k===Qn.SOURCE?(I=o.node,W=m,$=o.anchor,oe=m.getAnchorInfo(j)):(I=d,W=o.node,oe=o.anchor,$=d.getAnchorInfo(w)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(St.DEFAULT),this.preTargetNode=o.node,oe.id===$.id)return!1;var re="".concat(I.id,"_").concat(W.id,"_").concat($.id,"_").concat(oe.id);if(!this.targetRuleResults.has(re)){var se=I.isAllowConnectedAsSource(W,$,oe),de=W.isAllowConnectedAsTarget(I,$,oe);this.sourceRuleResults.set(re,na(se)),this.targetRuleResults.set(re,na(de))}var ke=this.sourceRuleResults.get(re).isAllPass,Ee=this.targetRuleResults.get(re).isAllPass,Le=ke&&Ee?St.ALLOW_CONNECT:St.NOT_ALLOW_CONNECT;return k===Qn.SOURCE?I.setElementState(Le):W.setElementState(Le),ke&&Ee}},{key:"render",value:function(){var o=this.props,u=o.x,l=o.y,d=this.state.draging,m=this.getAdjustPointStyle();return Object(K.g)("g",null,Object(K.g)(oi,Zh({className:"lf-edge-adjust-point"},m,{x:u,y:l,onMouseDown:this.dragHandler,"pointer-events":d?"none":""})))}}])&&xO(t.prototype,n),a}(K.a);function ey(e){return(ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Mc(){return(Mc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ny(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ty(Object(n),!0).forEach(function(r){Ln(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ry(e,t){return(ry=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function AO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Dc(e);if(t){var a=Dc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return kO(this,n)}}function kO(e,t){if(t&&(ey(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return In(e)}function In(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dc(e){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hi=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ry(o,u)})(a,e);var t,n,r=AO(a);function a(){var o;SO(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Ln(In(o=r.call.apply(r,[this].concat(l))),"startTime",void 0),Ln(In(o),"contextMenuTime",void 0),Ln(In(o),"clickTimer",void 0),Ln(In(o),"handleHover",function(m,w){var j=o.props,k=j.model,I=j.graphModel.eventCenter;k.setHovered(m);var W=m?tt.EDGE_MOUSEENTER:tt.EDGE_MOUSELEAVE,$=k.getData();I.emit(W,{data:$,e:w})}),Ln(In(o),"setHoverON",function(m){o.handleHover(!0,m)}),Ln(In(o),"setHoverOFF",function(m){o.handleHover(!1,m)}),Ln(In(o),"handleContextMenu",function(m){m.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var w=o.props,j=w.model,k=w.graphModel,I=k.getPointByClient({x:m.clientX,y:m.clientY});k.setElementStateById(j.id,St.SHOW_MENU,I.domOverlayPosition),o.toFront(),k.selectEdgeById(j.id);var W=j==null?void 0:j.getData();k.eventCenter.emit(tt.EDGE_CONTEXTMENU,{data:W,e:m,position:I})}),Ln(In(o),"handleMouseDown",function(m){m.stopPropagation(),o.startTime=new Date().getTime()}),Ln(In(o),"handleMouseUp",function(m){if(o.startTime&&!(new Date().getTime()-o.startTime>200||m.button===2)){var w=m.detail===2,j=o.props,k=j.model,I=j.graphModel,W=k==null?void 0:k.getData(),$=I.getPointByClient({x:m.clientX,y:m.clientY});if(w){var oe=I.editConfigModel,re=I.textEditElement;if(re&&re.id===k.id&&I.setElementStateById(k.id,St.DEFAULT),oe.edgeTextEdit&&k.text.editable&&I.setElementStateById(k.id,St.TEXT_EDIT),k.modelType===ht.POLYLINE_EDGE){var se=k,de=I.getPointByClient({x:m.x,y:m.y}).canvasOverlayPosition,ke=de.x,Ee=de.y,Le=cf({x:ke,y:Ee},se.points);se.dbClickPosition=Le}I.eventCenter.emit(tt.EDGE_DBCLICK,{data:W,e:m,position:$})}else I.eventCenter.emit(tt.ELEMENT_CLICK,{data:W,e:m,position:$}),I.eventCenter.emit(tt.EDGE_CLICK,{data:W,e:m,position:$});var ze=I.editConfigModel;I.selectEdgeById(k.id,ol(m,ze)),o.toFront()}}),Ln(In(o),"getIsDraging",function(){return!1}),o}return t=a,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,u=o.model,l=o.graphModel;if(u.state===St.TEXT_EDIT)return"";var d=!1,m=l.editConfigModel;return(u.text.draggable||m.edgeTextDraggable)&&(d=!0),Object(K.g)(_O,{editable:m.edgeTextEdit&&u.text.editable,model:u,graphModel:l,draggable:d})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.isSelected;return{start:u,end:l,hover:this.state.hover,isSelected:d}}},{key:"getArrowStyle",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getEdgeStyle(),m=u.getEdgeAnimationStyle(),w=l.theme.arrow,j=u.isAnimation?m.stroke:d.stroke;return ny(ny({},d),{},{fill:j,stroke:j},w)}},{key:"getArrow",value:function(){return Object(K.g)("g",null,Object(K.g)("defs",null,this.getStartArrow(),this.getEndArrow()))}},{key:"getStartArrow",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.id,m=l.theme.arrow,w=m.offset,j=m.verticalLength,k=this.getArrowStyle(),I=k.stroke,W=k.strokeWidth;return Object(K.g)("marker",{id:"marker-start-".concat(d),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(K.g)("path",{stroke:I,fill:I,strokeWidth:W,d:"M 0 0 L ".concat(w," -").concat(j," L ").concat(w," ").concat(j," Z")}))}},{key:"getEndArrow",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.id,m=l.theme.arrow,w=m.offset,j=m.verticalLength,k=this.getArrowStyle(),I=k.stroke,W=k.strokeWidth;return Object(K.g)("marker",{id:"marker-end-".concat(d),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(K.g)("path",{stroke:I,fill:I,strokeWidth:W,transform:"rotate(180)",d:"M 0 0 L ".concat(w," -").concat(j," L ").concat(w," ").concat(j," Z")}))}},{key:"getAdjustPoints",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getAdjustStart(),m=u.getAdjustEnd();return Object(K.g)("g",null,Object(K.g)(Qh,Mc({type:"SOURCE"},d,{edgeModel:u,graphModel:l})),Object(K.g)(Qh,Mc({type:"TARGET"},m,{edgeModel:u,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(K.g)("g",null)}},{key:"getAppend",value:function(){return Object(K.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,u=o.graphModel,l=o.model;u.overlapMode!==bn.INCREASE&&u.toFront(l.id)}},{key:"render",value:function(){var o=this.props,u=o.model,l=u.isSelected,d=u.isHitable,m=o.graphModel,w=this.getIsDraging(),j=m.editConfigModel.adjustEdgeStartAndEnd,k=m.animation,I=l&&k.edge&&m.getSelectElements().edges.length===1;return Object(K.g)("g",null,Object(K.g)("g",{className:["lf-edge",!d&&"pointer-none",l&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),I&&this.getAnimation(),this.getText(),this.getArrow()),j&&l&&!w?this.getAdjustPoints():"")}}])&&PO(t.prototype,n),a}(K.a);function oy(e){return(oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function MO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return iy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return iy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Eo=function(e){var t={d:""};return Object.entries(e).forEach(function(n){var r=MO(n,2),a=r[0],o=r[1],u=oy(o);a!=="style"&&u==="object"||(t[a]=o)}),Object(K.g)("path",t)};function ay(e){return(ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Tc(){return(Tc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function DO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uy(e,t){return(uy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function NO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Nc(e);if(t){var a=Nc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return CO(this,n)}}function CO(e,t){if(t&&(ay(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Nc(e){return(Nc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Cc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&uy(o,u)})(a,e);var t,n,r=NO(a);function a(){return DO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.isAnimation,m=o.arrowConfig,w=o.getEdgeStyle(),j=o.getEdgeAnimationStyle(),k=j.strokeDasharray,I=j.stroke,W=j.strokeDashoffset,$=j.animationName,oe=j.animationDuration,re=j.animationIterationCount,se=j.animationTimingFunction,de=j.animationDirection;return Object(K.g)(qr,Tc({},w,{x1:u.x,y1:u.y,x2:l.x,y2:l.y},m,d?{strokeDasharray:k,stroke:I,style:{strokeDashoffset:W,animationName:$,animationDuration:oe,animationIterationCount:re,animationTimingFunction:se,animationDirection:de}}:{}))}},{key:"getShape",value:function(){return Object(K.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,m=u.strokeDasharray,w=o.startPoint,j=o.endPoint,k=o.getEdgeStyle();return Object(K.g)("g",null,Object(K.g)(qr,Tc({},k,{x1:w.x,y1:w.y,x2:j.x,y2:j.y,className:d,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,u=function(k){var I,W=k.start,$=k.end;if(W.x===$.x&&W.y===$.y)I="";else{var oe={start:W,end:$,offset:10,verticalLength:5},re=ei(ia(ia({},oe),{},{type:"start"})),se=ei(ia(ia({},oe),{},{type:"end"}));I="M".concat(re.leftX," ").concat(re.leftY,` 
    L`).concat(re.rightX," ").concat(re.rightY,` 
    L`).concat(se.rightX," ").concat(se.rightY,`
    L`).concat(se.leftX," ").concat(se.leftY," z")}return{d:I,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),l=u.d,d=u.strokeWidth,m=u.fill,w=u.strokeDasharray,j=u.stroke;return Object(K.g)(Eo,{d:l,fill:m,strokeWidth:d,stroke:j,strokeDasharray:w})}}])&&TO(t.prototype,n),a}(hi);function cy(e){return(cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function RO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return sy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return sy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ly=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(n){var r=RO(n,2),a=r[0],o=r[1];(a==="style"||cy(o)!=="object")&&(t[a]=o)}),Object(K.g)("polyline",t)};function fy(e){return(fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function py(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?py(Object(n),!0).forEach(function(r){tr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):py(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rc(){return(Rc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function IO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return dy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return dy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hy(e,t){return(hy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function zO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ic(e);if(t){var a=Ic(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return BO(this,n)}}function BO(e,t){if(t&&(fy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return er(e)}function er(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ic(e){return(Ic=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&hy(o,u)})(a,e);var t,n,r=zO(a);function a(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),tr(er(o=r.call(this)),"drag",void 0),tr(er(o),"isDraging",void 0),tr(er(o),"appendInfo",void 0),tr(er(o),"dragHandler",void 0),tr(er(o),"onDragStart",function(){o.props.model.dragAppendStart()}),tr(er(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,m=o.props,w=m.model,j=m.graphModel;o.isDraging=!0;var k=j.transformModel,I=j.editConfigModel,W=IO(k.fixDeltaXY(l,d),2),$=W[0],oe=W[1],re=w,se=I.adjustEdgeMiddle;o.appendInfo=se?re.dragAppendSimple(o.appendInfo,{x:$,y:oe}):re.dragAppend(o.appendInfo,{x:$,y:oe})}),tr(er(o),"onDragEnd",function(){var u=o.props,l=u.model,d=u.graphModel.eventCenter,m=l;m.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0,d.emit(tt.EDGE_ADJUST,{data:m.getData()})}),tr(er(o),"beforeDragStart",function(u,l){l.dragAble&&o.dragHandler(u),o.appendInfo=l}),tr(er(o),"getIsDraging",function(){return o.isDraging}),o.drag=Iu({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return t=a,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.points,l=o.isAnimation,d=o.arrowConfig,m=o.getEdgeStyle(),w=o.getEdgeAnimationStyle(),j=w.strokeDasharray,k=w.stroke,I=w.strokeDashoffset,W=w.animationName,$=w.animationDuration,oe=w.animationIterationCount,re=w.animationTimingFunction,se=w.animationDirection;return Object(K.g)(ly,Rc({points:u},m,d,l?{strokeDasharray:j,stroke:k,style:{strokeDashoffset:I,animationName:W,animationDuration:$,animationIterationCount:oe,animationTimingFunction:re,animationDirection:se}}:{}))}},{key:"getShape",value:function(){return Object(K.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,m=u.strokeDasharray,w=o.getEdgeStyle();return Object(K.g)("g",null,Object(K.g)(ly,Rc({points:o.points},w,{className:d,strokeDasharray:m,stroke:l})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.points,l=o.isSelected,d={start:null,end:null,hover:this.state.hover,isSelected:l},m=bo(u);return m.length>=2&&(d.start=m[m.length-2],d.end=m[m.length-1]),d}},{key:"getAppendAttributes",value:function(o){var u,l=o.start,d=o.end;if(l.x===d.x&&l.y===d.y)u="";else{var m={start:l,end:d,offset:10,verticalLength:5},w=ei(ka(ka({},m),{},{type:"start"})),j=ei(ka(ka({},m),{},{type:"end"}));u="M".concat(w.leftX," ").concat(w.leftY,` 
      L`).concat(w.rightX," ").concat(w.rightY,` 
      L`).concat(j.rightX," ").concat(j.rightY,`
      L`).concat(j.leftX," ").concat(j.leftY," z")}return{d:u,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var u=this.getAppendAttributes(o),l=u.d,d=u.strokeWidth,m=u.fill,w=u.strokeDasharray,j=u.stroke;return Object(K.g)(Eo,{d:l,fill:m,strokeWidth:d,stroke:j,strokeDasharray:w})}},{key:"getAppendWidth",value:function(){for(var o=this,u=this.props,l=u.model,d=u.graphModel,m=l.pointsList,w=l.draggable,j=[],k=m.length,I=function($){var oe="lf-polyline-append",re={start:{x:m[$].x,y:m[$].y},end:{x:m[$+1].x,y:m[$+1].y},startIndex:$,endIndex:$+1,direction:"",dragAble:!0},se=Object(K.g)("g",{className:oe},o.getAppendShape(re)),de=d.editConfigModel,ke=de.adjustEdge,Ee=de.adjustEdgeMiddle;if(ke&&w){o.dragHandler=o.drag;var Le=re.startIndex,ze=re.endIndex,Ne=Ee&&(Le===0||ze===k-1);re.dragAble=!Ne,re.start.x===re.end.x?(re.dragAble&&(oe+="-ew-resize"),re.direction=Mt.VERTICAL):re.start.y===re.end.y&&(re.dragAble&&(oe+="-ns-resize"),re.direction=Mt.HORIZONTAL),se=Object(K.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(ct){return o.beforeDragStart(ct,re)}},Object(K.g)("g",{className:oe},o.getAppendShape(re)))}else o.dragHandler=function(){};j.push(se)},W=0;W<k-1;W++)I(W);return Object(K.g)("g",null,j)}}])&&LO(t.prototype,n),a}(hi);function yy(e){return(yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function FO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return vy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return vy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zc(){return(zc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function HO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gy(e,t){return(gy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function GO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Bc(e);if(t){var a=Bc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return XO(this,n)}}function XO(e,t){if(t&&(yy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Bc(e){return(Bc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Fc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&gy(o,u)})(a,e);var t,n,r=GO(a);function a(){return HO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle(),l=o.path,d=o.isAnimation,m=o.arrowConfig,w=o.getEdgeAnimationStyle(),j=w.strokeDasharray,k=w.stroke,I=w.strokeDashoffset,W=w.animationName,$=w.animationDuration,oe=w.animationIterationCount,re=w.animationTimingFunction,se=w.animationDirection;return Object(K.g)(Eo,zc({d:l},u,m,d?{strokeDasharray:j,stroke:k,style:{strokeDashoffset:I,animationName:W,animationDuration:$,animationIterationCount:oe,animationTimingFunction:re,animationDirection:se}}:{}))}},{key:"getShape",value:function(){return Object(K.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,m=u.strokeDasharray,w=o.getEdgeStyle();return Object(K.g)("g",null,Object(K.g)(Eo,zc({d:o.path},w,{className:d,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(K.g)(Eo,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=this.state.hover,l=o,d=l.path,m=l.isSelected,w=FO(function(j){var k=fa(j);return[k[2],k[3]]}(d),2);return{start:w[0],end:w[1],hover:u,isSelected:m}}}])&&UO(t.prototype,n),a}(hi);function by(e){return(by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function my(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function VO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oy(e,t){return(Oy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function KO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hc(e);if(t){var a=Hc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ZO(this,n)}}function ZO(e,t){if(t&&(by(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Hc(e){return(Hc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var qO=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Oy(o,u)})(a,e);var t,n,r=KO(a);function a(){return YO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getArrowAttributes",value:function(){var o=this.props,u=o.arrowInfo,l=o.style,d=u.start,m=u.end,w={start:d,end:m,offset:l.offset,verticalLength:l.verticalLength,type:"end"},j=ei(w),k=j.leftX,I=j.leftY,W=j.rightX,$=j.rightY;return function(oe){for(var re=1;re<arguments.length;re++){var se=arguments[re]!=null?arguments[re]:{};re%2?my(Object(se),!0).forEach(function(de){VO(oe,de,se[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(se)):my(Object(se)).forEach(function(de){Object.defineProperty(oe,de,Object.getOwnPropertyDescriptor(se,de))})}return oe}({d:"M".concat(k," ").concat(I," L").concat(m.x," ").concat(m.y," L").concat(W," ").concat($," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),u=o.d,l=o.strokeWidth,d=o.stroke,m=o.fill;return Object(K.g)(Eo,{d:u,fill:m,strokeWidth:l,stroke:d})}},{key:"render",value:function(){return Object(K.g)("g",{className:"lf-arrow"},this.getShape())}}])&&WO(t.prototype,n),a}(K.a),_y=function(e,t){return y(e,t)},$O=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},Uc=function(){return Ge.a.Date.now()},JO=/\s/,QO=function(e){for(var t=e.length;t--&&JO.test(e.charAt(t)););return t},e_=/^\s+/,t_=function(e){return e&&e.slice(0,QO(e)+1).replace(e_,"")},n_=/^[-+]0x[0-9a-f]+$/i,r_=/^0b[01]+$/i,o_=/^0o[0-7]+$/i,i_=parseInt,wy=function(e){if(typeof e=="number")return e;if(ie(e))return NaN;if(Tt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Tt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=t_(e);var n=r_.test(e);return n||o_.test(e)?i_(e.slice(2),n?2:8):n_.test(e)?NaN:+e},a_=Math.max,u_=Math.min,c_=function(e,t,n){var r,a,o,u,l,d,m=0,w=!1,j=!1,k=!0;if(typeof e!="function")throw new TypeError("Expected a function");function I(de){var ke=r,Ee=a;return r=a=void 0,m=de,u=e.apply(Ee,ke)}function W(de){return m=de,l=setTimeout(oe,t),w?I(de):u}function $(de){var ke=de-d;return d===void 0||ke>=t||ke<0||j&&de-m>=o}function oe(){var de=Uc();if($(de))return re(de);l=setTimeout(oe,function(ke){var Ee=t-(ke-d);return j?u_(Ee,o-(ke-m)):Ee}(de))}function re(de){return l=void 0,k&&r?I(de):(r=a=void 0,u)}function se(){var de=Uc(),ke=$(de);if(r=arguments,a=this,d=de,ke){if(l===void 0)return W(d);if(j)return clearTimeout(l),l=setTimeout(oe,t),I(d)}return l===void 0&&(l=setTimeout(oe,t)),u}return t=wy(t)||0,Tt(n)&&(w=!!n.leading,o=(j="maxWait"in n)?a_(wy(n.maxWait)||0,t):o,k="trailing"in n?!!n.trailing:k),se.cancel=function(){l!==void 0&&clearTimeout(l),m=0,r=d=a=l=void 0},se.flush=function(){return l===void 0?u:re(Uc())},se},s_=i(166);function l_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xy,Ey,jy,f_=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Mr(this,"undos",[]),Mr(this,"redos",[]),Mr(this,"callbacks",[]),Mr(this,"stopWatch",null),Mr(this,"curData",null),Mr(this,"maxSize",50),Mr(this,"waitTime",100),Mr(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"add",value:function(r){_y($O(this.undos),r)||(this.undos.push(r),_y(this.curData,r)||(this.redos=[]),this.eventCenter.emit(tt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var a=this.undos.pop();return this.curData=Dt(a),a}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Dt(r),r}}},{key:"watch",value:function(r){var a=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(s_.a)(r,c_(function(){var o=r.modelToHistoryData();o&&a.add(o)},this.waitTime))}}])&&l_(t.prototype,n),e}();function Sy(e){return(Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function p_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Py(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Py(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Py(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ay(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ay(Object(n),!0).forEach(function(r){to(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ay(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ky(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function My(e,t){return(My=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function d_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Gc(e);if(t){var a=Gc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h_(this,n)}}function h_(e,t){if(t&&(Sy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return So(e)}function So(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gc(e){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dy,Ty,Ny,Xc=zn((jy=Ey=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&My(u,l)})(o,e);var t,n,r,a=d_(o);function o(){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),to(So(u=a.call(this)),"ref",Object(K.f)()),to(So(u),"__prevText",{type:"",text:"",id:""}),to(So(u),"keyupHandler",function(l){var d=u.props.graphModel.textEditElement;l.key==="Enter"&&l.altKey&&d.setElementState(0)}),to(So(u),"inputHandler",function(l){var d=l.target.innerText,m=u.props.graphModel.textEditElement;u.__prevText={type:m.type,text:d.replace(/(\r\n)+$|(\n)+$/,""),id:m.id}}),to(So(u),"keydownHandler",function(l){l.stopPropagation()}),u.state={style:{left:0,top:0}},u}return t=o,r=[{key:"getDerivedStateFromProps",value:function(u){var l,d=u.graphModel,m=d.transformModel,w=d.theme,j=d.textEditElement;if(j){var k;if((k=j.text)===null||k===void 0||!k.value)if(j.BaseType===Ft.EDGE){var I=(j=j).text,W=j.textPosition,$=W.x,oe=W.y;I.x=$,I.y=oe,j.setText(I)}else j=j;var re={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(j.BaseType===Ft.EDGE){var se=w.edgeText,de=se.overflowMode,ke=se.lineHeight,Ee=se.wrapPadding,Le=se.textWidth;Le&&de==="autoWrap"&&(l=jo(jo({},re),{},{width:Le,minWidth:Le,lineHeight:ke,padding:Ee}))}else if(j.BaseType===Ft.NODE){var ze=w.nodeText,Ne=ze.overflowMode,ct=ze.lineHeight,pt=ze.wrapPadding,Ct=ze.textWidth,Ut=j,Wt=Ut.width,Qt=Ut.modelType;(Qt!==ht.TEXT_NODE&&Ne==="autoWrap"||Qt===ht.TEXT_NODE&&Ct)&&(l=jo(jo({},re),{},{width:Ct||Wt,minWidth:Ct||Wt,lineHeight:ct,padding:pt}))}var ln=j.text,gr=ln.x,no=ln.y,br=p_(m.CanvasPointToHtmlPoint([gr,no]),2);return{style:jo({left:br[0],top:br[1]},l)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var u=this.props.graphModel,l=u.eventCenter,d=u.editConfigModel,m=d.edgeTextEdit,w=d.nodeTextEdit;(m||w)&&l.on("".concat(tt.GRAPH_TRANSFORM,",").concat(tt.NODE_CLICK,",").concat(tt.BLANK_CLICK," "),function(){u.textEditElement&&u.textEditElement.setElementState(St.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var u=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var l=this.__prevText,d=l.text,m=l.id;u.updateText(m,d),u.eventCenter.emit(tt.TEXT_UPDATE,jo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(u){if(window.getSelection!==void 0&&document.createRange!==void 0){var l=document.createRange();l.selectNodeContents(u),l.collapse(!1);var d=window.getSelection();d.removeAllRanges(),d.addRange(l)}}},{key:"render",value:function(){var u,l=this.props.graphModel.textEditElement,d=this.state.style;return l?Object(K.g)("div",{contentEditable:!0,className:"lf-text-input",style:d,ref:this.ref,key:l.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},(u=l.text)===null||u===void 0?void 0:u.value):null}}])&&ky(t.prototype,n),r&&ky(t,r),o}(K.a),to(Ey,"toolName","textEdit"),xy=jy))||xy,y_=function(e){return e.modelType===ht.LINE_EDGE?function(t){var n=t.startPoint,r=t.endPoint,a=(n.x+r.x)/2,o=(n.y+r.y)/2,u=Math.abs(n.x-r.x)+10,l=Math.abs(n.y-r.y)+10;return{x:a-u/2,y:o-l/2,x1:a+u/2,y1:o+l/2}}(e):e.modelType===ht.POLYLINE_EDGE?function(t){var n=t.points,r=bo(n),a=ti(r,8),o=a.x,u=a.y,l=a.width,d=a.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):e.modelType===ht.BEZIER_EDGE?function(t){var n=t.path,r=fa(n),a=ti(r,8),o=a.x,u=a.y,l=a.width,d=a.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):void 0};function Cy(e){return(Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ry(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,m=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(w){m=!0,u=w}finally{try{d||a.return==null||a.return()}finally{if(m)throw u}}return l}}(e,t)||Iy(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v_(e){return function(t){if(Array.isArray(t))return Vc(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Iy(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Iy(e,t){if(e){if(typeof e=="string")return Vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vc(e,t):void 0}}function Vc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ly(e,t){return(Ly=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function b_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Yc(e);if(t){var a=Yc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m_(this,n)}}function m_(e,t){if(t&&(Cy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yi(e)}function yi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yc(e){return(Yc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wc=zn((Ny=Ty=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ly(o,u)})(a,e);var t,n,r=b_(a);function a(o){var u;(function(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")})(this,a),vi(yi(u=r.call(this)),"stepDrag",void 0),vi(yi(u),"handleMouseDown",function(w){u.stepDrag.handleMouseDown(w)}),vi(yi(u),"onDraging",function(w){var j=w.deltaX,k=w.deltaY,I=u.props.graphModel,W=I.getSelectElements(!0);I.moveNodes(W.nodes.map(function($){return $.id}),j,k)}),vi(yi(u),"handleContextMenu",function(w){w.preventDefault();var j=u.props,k=j.graphModel,I=j.graphModel,W=I.eventCenter,$=I.selectElements,oe=k.getPointByClient({x:w.clientX,y:w.clientY}),re={nodes:[],edges:[]};v_($.values()).forEach(function(se){se.BaseType===Ft.NODE&&re.nodes.push(se.getData()),se.BaseType===Ft.EDGE&&re.edges.push(se.getData())}),W.emit(tt.SELECTION_CONTEXTMENU,{data:re,e:w,position:oe})});var l=o.graphModel,d=l.gridSize,m=l.eventCenter;return u.stepDrag=new Zr({onDraging:u.onDraging,step:d,eventType:"SELECTION",eventCenter:m}),u}return t=a,(n=[{key:"render",value:function(){var o=this.props.graphModel,u=o.selectElements,l=o.transformModel;if(!(u.size<=1)){var d=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER,j=Number.MIN_SAFE_INTEGER;u.forEach(function($){var oe={x:0,y:0,x1:0,y1:0};$.BaseType===Ft.NODE&&(oe=function(re){var se=re.x,de=re.y,ke=re.width,Ee=re.height;return{x:se-ke/2,y:de-Ee/2,x1:se+ke/2,y1:de+Ee/2}}($)),$.BaseType===Ft.EDGE&&(oe=y_($)),d=Math.min(d,oe.x),m=Math.min(m,oe.y),w=Math.max(w,oe.x1),j=Math.max(j,oe.y1)});var k=Ry(l.CanvasPointToHtmlPoint([d,m]),2);d=k[0],m=k[1];var I=Ry(l.CanvasPointToHtmlPoint([w,j]),2);w=I[0],j=I[1];var W={left:"".concat(d-10,"px"),top:"".concat(m-10,"px"),width:"".concat(w-d+20,"px"),height:"".concat(j-m+20,"px")};return Object(K.g)("div",{className:"lf-multiple-select",style:W,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&g_(t.prototype,n),a}(K.a),vi(Ty,"toolName","multipleSelect"),Dy=Ny))||Dy;function O_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var __=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Ma(this,"tools",void 0),Ma(this,"components",void 0),Ma(this,"toolMap",new Map),Ma(this,"instance",void 0),this.instance=r,this.isDisabledTool(Xc.toolName)||this.registerTool(Xc.toolName,Xc),this.isDisabledTool(Wc.toolName)||this.registerTool(Wc.toolName,Wc)}var t,n;return t=e,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,a){this.toolMap.set(r,a)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&O_(t.prototype,n),e}(),w_=i(167),x_=i.n(w_);function E_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zy=function(){function e(r){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Kc(this,"mousetrap",void 0),Kc(this,"options",void 0),Kc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var a=r.lf;this.target=a.container,this.mousetrap=new x_.a(this.target),r.keyboard.enabled&&this.enable(!0)}var t,n;return t=e,(n=[{key:"initShortcuts",value:function(){var r=this,a=this.options.keyboard.shortcuts;if(a)if(Gt(a))a.forEach(function(d){var m=d.keys,w=d.callback,j=d.action;return r.on(m,w,j)});else{var o=a.keys,u=a.callback,l=a.action;this.on(o,u,l)}}},{key:"on",value:function(r,a,o){this.mousetrap.bind(this.getKeys(r),a,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,a){this.mousetrap.unbind(this.getKeys(r),a)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var a=this;return(Array.isArray(r)?r:[r]).map(function(o){return a.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&E_(t.prototype,n),e}(),j_=zy,vr=null;function By(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function Fy(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}function Hy(e){return(Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Uy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uy(Object(n),!0).forEach(function(r){Nt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qc=function(){function e(a){var o,u,l=this;(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,e),Nt(this,"container",void 0),Nt(this,"width",void 0),Nt(this,"height",void 0),Nt(this,"graphModel",void 0),Nt(this,"history",void 0),Nt(this,"viewMap",new Map),Nt(this,"tool",void 0),Nt(this,"keyboard",void 0),Nt(this,"dnd",void 0),Nt(this,"options",void 0),Nt(this,"snaplineModel",void 0),Nt(this,"components",[]),Nt(this,"plugins",void 0),Nt(this,"extension",{}),Nt(this,"adapterIn",void 0),Nt(this,"adapterOut",void 0),Nt(this,"getView",function(d){return l.viewMap.get(d)}),a=Op(a),this.options=a,this.container=a.container,this.plugins=a.plugins,this.graphModel=new Cb(Zc({},a)),this.tool=new __(this),this.history=new f_(this.graphModel.eventCenter),this.dnd=new Mm({lf:this}),this.keyboard=new j_({lf:this,keyboard:a.keyboard}),a.isSilentMode||a.snapline===!1||(this.snaplineModel=new Jd(this.graphModel),o=this.graphModel.eventCenter,u=this.snaplineModel,o.on("node:mousemove",function(d){var m=d.data;u.setNodeSnapLine(m)}),o.on("node:mouseup",function(){u.clearSnapline()})),function(d,m){var w=d.keyboard,j=w.options.keyboard;w.on(["cmd + c","ctrl + c"],function(){if(j.enabled&&!m.textEditElement){var k=d.options.guards,I=m.getSelectElements(!1);return k&&k.beforeClone&&!k.beforeClone(I)?(vr=null,!1):((vr=I).nodes.forEach(function(W){return By(W,40)}),vr.edges.forEach(function(W){return Fy(W,40)}),!1)}}),w.on(["cmd + v","ctrl + v"],function(){if(j.enabled&&!m.textEditElement){if(vr&&(vr.nodes||vr.edges)){d.clearSelectElements();var k=d.addElements(vr);if(!k)return;k.nodes.forEach(function(I){return d.selectElementById(I.id,!0)}),k.edges.forEach(function(I){return d.selectElementById(I.id,!0)}),vr.nodes.forEach(function(I){return By(I,40)}),vr.edges.forEach(function(I){return Fy(I,40)})}return!1}}),w.on(["cmd + z","ctrl + z"],function(){if(j.enabled&&!m.textEditElement)return d.undo(),!1}),w.on(["cmd + y","ctrl + y"],function(){if(j.enabled&&!m.textEditElement)return d.redo(),!1}),w.on(["backspace"],function(){if(j.enabled&&!m.textEditElement){var k=m.getSelectElements(!0);return d.clearSelectElements(),k.edges.forEach(function(I){return d.deleteEdge(I.id)}),k.nodes.forEach(function(I){return d.deleteNode(I.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(a.disabledPlugins)}var t,n,r;return t=e,r=[{key:"use",value:function(a){var o=a.pluginName;o||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(a.name||a.constructor.name,"\u6307\u5B9ApluginName!")),o=a.name);var u=this.extensions.get(o);u&&u.destroy&&u.destroy(),this.extensions.set(o,a)}}],(n=[{key:"register",value:function(a,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof a=="string"){var l={BaseEdge:hi,BaseEdgeModel:Su,BaseNode:hr,BaseNodeModel:pr,RectNode:dc,RectNodeModel:oc,CircleNode:yc,CircleNodeModel:Ju,PolygonNode:gc,PolygonNodeModel:rc,TextNode:xc,TextNodeModel:ic,LineEdge:Cc,LineEdgeModel:Au,DiamondNode:mc,DiamondNodeModel:ec,PolylineEdge:Lc,PolylineEdgeModel:Mu,BezierEdge:Fc,BezierEdgeModel:qu,EllipseNode:_c,EllipseNodeModel:tc,HtmlNode:jc,HtmlNodeModel:uc,h:K.g,type:a};this.viewMap.forEach(function(k){var I=k.extendKey;I&&(l[I]=k)}),this.graphModel.modelMap.forEach(function(k){var I=k.extendKey;I&&(l[I]=k)});var d=o(l),m=d.view,w=d.model,j=m;u&&!j.isObervered&&(j.isObervered=!0,j=ve(j)),this.setView(a,j),this.graphModel.setModel(a,w)}else this.registerElement(a)}},{key:"registerElement",value:function(a){var o=a.view;a.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=ve(o)),this.setView(a.type,o),this.graphModel.setModel(a.type,a.model)}},{key:"batchRegister",value:function(){var a=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];o.forEach(function(u){a.registerElement(u)})}},{key:"defaultRegister",value:function(){this.registerElement({view:dc,model:oc,type:"rect"}),this.registerElement({type:"circle",view:yc,model:Ju}),this.registerElement({type:"polygon",view:gc,model:rc}),this.registerElement({type:"line",view:Cc,model:Au}),this.registerElement({type:"polyline",view:Lc,model:Mu}),this.registerElement({type:"bezier",view:Fc,model:qu}),this.registerElement({type:"text",view:xc,model:ic}),this.registerElement({type:"ellipse",view:_c,model:tc}),this.registerElement({type:"diamond",view:mc,model:ec}),this.registerElement({type:"html",view:jc,model:uc})}},{key:"selectElementById",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(a,o),o||this.graphModel.toFront(a)}},{key:"focusOn",value:function(a){var o=this.graphModel.transformModel,u=a.coordinate,l=a.id;if(!u){var d=this.getNodeModelById(l);d&&(u=d.getData());var m=this.getEdgeModelById(l);m&&(u=m.textPosition)}var w=u,j=w.x,k=w.y;o.focusOn(j,k,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(a){this.graphModel.setTheme(a)}},{key:"resize",value:function(a,o){this.options.width=a!=null?a:this.options.width,this.options.height=o!=null?o:this.options.height,this.graphModel.resize(a,o)}},{key:"setDefaultEdgeType",value:function(a){this.graphModel.setDefaultEdgeType(a)}},{key:"updateText",value:function(a,o){this.graphModel.updateText(a,o)}},{key:"deleteElement",value:function(a){var o,u,l,d=this.getModelById(a);return!!d&&(u=(l=(Nt(o={},Ft.NODE,this.deleteNode),Nt(o,Ft.EDGE,this.deleteEdge),o)[d.BaseType])===null||l===void 0?void 0:l.call(this,a))!==null&&u!==void 0&&u}},{key:"getModelById",value:function(a){return this.graphModel.getElement(a)}},{key:"getDataById",value:function(a){return this.graphModel.getElement(a).getData()}},{key:"changeNodeType",value:function(a,o){this.graphModel.changeNodeType(a,o)}},{key:"changeEdgeType",value:function(a,o){this.graphModel.changeEdgeType(a,o)}},{key:"getNodeEdges",value:function(a){return this.graphModel.getNodeEdges(a)}},{key:"addNode",value:function(a){return this.graphModel.addNode(a)}},{key:"deleteNode",value:function(a){var o=this.graphModel.getNodeModelById(a);if(!o)return!1;var u=o.getData(),l=this.options.guards,d=!l||!l.beforeDelete||l.beforeDelete(u);return d&&this.graphModel.deleteNode(a),d}},{key:"cloneNode",value:function(a){var o=this.graphModel.getNodeModelById(a).getData(),u=this.options.guards;if(!u||!u.beforeClone||u.beforeClone(o))return this.graphModel.cloneNode(a)}},{key:"changeNodeId",value:function(a,o){return this.graphModel.changeNodeId(a,o)}},{key:"getNodeModelById",value:function(a){return this.graphModel.getNodeModelById(a)}},{key:"getNodeDataById",value:function(a){return this.graphModel.getNodeModelById(a).getData()}},{key:"addEdge",value:function(a){return this.graphModel.addEdge(a)}},{key:"deleteEdge",value:function(a){var o=this.options.guards,u=this.graphModel.edgesMap[a];if(!u)return!1;var l=u.model.getData(),d=!o||!o.beforeDelete||o.beforeDelete(l);return d&&this.graphModel.deleteEdgeById(a),d}},{key:"deleteEdgeByNodeId",value:function(a){var o=a.sourceNodeId,u=a.targetNodeId;o&&u?this.graphModel.deleteEdgeBySourceAndTarget(o,u):o?this.graphModel.deleteEdgeBySource(o):u&&this.graphModel.deleteEdgeByTarget(u)}},{key:"changeEdgeId",value:function(a,o){return this.graphModel.changeEdgeId(a,o)}},{key:"getEdgeModelById",value:function(a){var o;return(o=this.graphModel.edgesMap[a])===null||o===void 0?void 0:o.model}},{key:"getEdgeModels",value:function(a){var o=this.graphModel.edges,u=a.sourceNodeId,l=a.targetNodeId;if(u&&l){var d=[];return o.forEach(function(j){j.sourceNodeId===u&&j.targetNodeId===l&&d.push(j)}),d}if(u){var m=[];return o.forEach(function(j){j.sourceNodeId===u&&m.push(j)}),m}if(l){var w=[];return o.forEach(function(j){j.targetNodeId===l&&w.push(j)}),w}return[]}},{key:"getEdgeDataById",value:function(a){var o;return(o=this.getEdgeModelById(a))===null||o===void 0?void 0:o.getData()}},{key:"getNodeIncomingEdge",value:function(a){return this.graphModel.getNodeIncomingEdge(a)}},{key:"getNodeOutgoingEdge",value:function(a){return this.graphModel.getNodeOutgoingEdge(a)}},{key:"getNodeIncomingNode",value:function(a){return this.graphModel.getNodeIncomingNode(a)}},{key:"getNodeOutgoingNode",value:function(a){return this.graphModel.getNodeOutgoingNode(a)}},{key:"editText",value:function(a){this.graphModel.editText(a)}},{key:"setProperties",value:function(a,o){var u;(u=this.graphModel.getElement(a))===null||u===void 0||u.setProperties(Wn(o))}},{key:"getProperties",value:function(a){var o;return(o=this.graphModel.getElement(a))===null||o===void 0?void 0:o.getProperties()}},{key:"toFront",value:function(a){this.graphModel.toFront(a)}},{key:"setElementZIndex",value:function(a,o){return this.graphModel.setElementZIndex(a,o)}},{key:"addElements",value:function(a){for(var o=this,u=a.nodes,l=a.edges,d={},m={nodes:[],edges:[]},w=0;w<u.length;w++){var j=u[w],k=j.id,I=this.addNode(j);if(!I)return;k&&(d[k]=I.id),m.nodes.push(I)}return l.forEach(function(W){var $=W.sourceNodeId,oe=W.targetNodeId;d[$]&&(W.sourceNodeId=d[$]),d[oe]&&(W.targetNodeId=d[oe]);var re=o.graphModel.addEdge(W);m.edges.push(re)}),m}},{key:"getAreaElement",value:function(a,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],l=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return this.graphModel.getAreaElement(a,o,u,l).map(function(d){return d.getData()})}},{key:"getSelectElements",value:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(a)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var a=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(a):a}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(a){this.graphModel.editConfigModel.updateEditConfig(a)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(a,o){return this.graphModel.getPointByClient({x:a,y:o})}},{key:"undo",value:function(){if(this.history.undoAble()){var a=Wn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"redo",value:function(){if(this.history.redoAble()){var a=Wn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"zoom",value:function(a,o){return this.graphModel.transformModel.zoom(a,o)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(a){this.graphModel.transformModel.setZoomMiniSize(a)}},{key:"setZoomMaxSize",value:function(a){this.graphModel.transformModel.setZoomMaxSize(a)}},{key:"getTransform",value:function(){var a=this.graphModel.transformModel;return{SCALE_X:a.SCALE_X,SCALE_Y:a.SCALE_Y,TRANSLATE_X:a.TRANSLATE_X,TRANSLATE_Y:a.TRANSLATE_Y}}},{key:"translate",value:function(a,o){this.graphModel.transformModel.translate(a,o)}},{key:"resetTranslate",value:function(){var a=this.graphModel.transformModel,o=a.TRANSLATE_X,u=a.TRANSLATE_Y;this.translate(-o,-u)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(a,o){o===void 0&&(o=a),this.graphModel.fitView(a,o)}},{key:"openEdgeAnimation",value:function(a){this.graphModel.openEdgeAnimation(a)}},{key:"closeEdgeAnimation",value:function(a){this.graphModel.closeEdgeAnimation(a)}},{key:"on",value:function(a,o){this.graphModel.eventCenter.on(a,o)}},{key:"off",value:function(a,o){this.graphModel.eventCenter.off(a,o)}},{key:"once",value:function(a,o){this.graphModel.eventCenter.once(a,o)}},{key:"emit",value:function(a,o){this.graphModel.eventCenter.emit(a,o)}},{key:"installPlugins",value:function(){var a,o=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=(a=this.plugins)!==null&&a!==void 0?a:e.extensions;l.forEach(function(d){var m=d.pluginName||d.name;u.indexOf(m)===-1&&o.installPlugin(d)})}},{key:"installPlugin",value:function(a){if(Hy(a)==="object"){var o=a.install,u=a.render;return o&&o.call(a,this,e),u&&this.components.push(u.bind(a)),void(this.extension[a.pluginName]=a)}var l=a,d=new l({lf:this,LogicFlow:e});d.render&&this.components.push(d.render.bind(d)),this.extension[l.pluginName]=d}},{key:"updateAttributes",value:function(a,o){this.graphModel.updateAttributes(a,o)}},{key:"createFakerNode",value:function(a){var o=this.graphModel.modelMap.get(a.type);if(o){var u=new o(Zc(Zc({},a),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(u),u}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(a.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(a){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(a)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(a,o){this.viewMap.set(a,o)}},{key:"renderRawData",value:function(a){this.graphModel.graphDataToModel(Wn(a)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object(K.j)(Object(K.g)(Am,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(tt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(a=this.adapterIn(a)),this.renderRawData(a)}}])&&Gy(t.prototype,n),r&&Gy(t,r),e}();function zn(e){return ve(e)}Nt(qc,"extensions",new Map),p.default=qc}])})})(qe,qe.exports);var ko=H_(qe.exports);function iw(v,h){return h={exports:{}},v(h,h.exports),h.exports}var aw=iw(function(v){var h=v.exports=function(c,p){if(p||(p=16),c===void 0&&(c=128),c<=0)return"0";for(var i=Math.log(Math.pow(2,c))/Math.log(p),f=2;i===1/0;f*=2)i=Math.log(Math.pow(2,c/f))/Math.log(p)*f;for(var s=i-Math.floor(i),g="",f=0;f<Math.floor(i);f++){var O=Math.floor(Math.random()*p).toString(p);g=O+g}if(s){var _=Math.pow(p,s),O=Math.floor(Math.random()*_).toString(p);g=O+g}var x=parseInt(g,p);return x!==1/0&&x>=Math.pow(2,c)?h(c,p):g};h.rack=function(c,p,i){var f=function(g){var O=0;do{if(O++>10)if(i)c+=i;else throw new Error("too many ID collisions, use more bits");var _=h(c,p)}while(Object.hasOwnProperty.call(s,_));return s[_]=g,_},s=f.hats={};return f.get=function(g){return f.hats[g]},f.set=function(g,O){return f.hats[g]=O,f},f.bits=c||128,f.base=p||16,f}});function nr(v){if(!(this instanceof nr))return new nr(v);v=v||[128,36,1],this._seed=v.length?aw.rack(v[0],v[1],v[2]):v}nr.prototype.next=function(v){return this._seed(v||!0)};nr.prototype.nextPrefixed=function(v,h){var c;do c=v+this.next(!0);while(this.assigned(c));return this.claim(c,h),c};nr.prototype.claim=function(v,h){this._seed.set(v,h||!0)};nr.prototype.assigned=function(v){return this._seed.get(v)||!1};nr.prototype.unclaim=function(v){delete this._seed.hats[v]};nr.prototype.clear=function(){var v=this._seed.hats,h;for(h in v)this.unclaim(h)};var uw=new nr([32,32,1]);function No(){return uw.next()}var wv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),cw=function(v){wv(h,v);function h(c,p){var i=this;return c.id||(c.id="Event_"+No()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),i=v.call(this,c,p)||this,i}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedTargetRules=function(){var c=v.prototype.getConnectedTargetRules.call(this),p={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(p),c},h.extendKey="StartEventModel",h}(qe.exports.CircleNodeModel),sw=function(v){wv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.extendKey="StartEventNode",h}(qe.exports.CircleNode),lw={type:"bpmn:startEvent",view:sw,model:cw},xv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ha=globalThis&&globalThis.__assign||function(){return Ha=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},Ha.apply(this,arguments)},fw=function(v){xv(h,v);function h(c,p){var i=this;return c.id||(c.id="Event_"+No()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),i=v.call(this,c,p)||this,i}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedSourceRules=function(){var c=v.prototype.getConnectedSourceRules.call(this),p={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(p),c},h.extendKey="EndEventModel",h}(qe.exports.CircleNodeModel),pw=function(v){xv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},h.prototype.getShape=function(){var c=this.props.model,p=c.getNodeStyle(),i=c.x,f=c.y,s=c.r,g=v.prototype.getShape.call(this);return qe.exports.h("g",{},g,qe.exports.h("circle",Ha(Ha({},p),{cx:i,cy:f,r:s-5})))},h.extendKey="EndEventView",h}(qe.exports.CircleNode),dw={type:"bpmn:endEvent",view:pw,model:fw},Ev=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),xi=globalThis&&globalThis.__assign||function(){return xi=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},xi.apply(this,arguments)},hw=function(v){Ev(h,v);function h(c,p){var i=this;return c.id||(c.id="Gateway_"+No()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),i=v.call(this,c,p)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return h.extendKey="ExclusiveGatewayModel",h}(qe.exports.PolygonNodeModel),yw=function(v){Ev(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,g=c.points,O=c.getNodeStyle();return qe.exports.h("g",{transform:"matrix(1 0 0 1 "+(p-f/2)+" "+(i-s/2)+")"},qe.exports.h("polygon",xi(xi({},O),{x:p,y:i,points:g})),qe.exports.h("path",xi({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},O)))},h.extendKey="ExclusiveGatewayNode",h}(qe.exports.PolygonNode),vw={type:"bpmn:exclusiveGateway",view:yw,model:hw},jv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ua=globalThis&&globalThis.__assign||function(){return Ua=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},Ua.apply(this,arguments)},gw=function(v){jv(h,v);function h(c,p){var i=this;return c.id||(c.id="Activity_"+No()),i=v.call(this,c,p)||this,i}return h.extendKey="UserTaskModel",h}(qe.exports.RectNodeModel),bw=function(v){jv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,g=c.getNodeStyle();return qe.exports.h("svg",{x:p-f/2+5,y:i-s/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},qe.exports.h("path",{fill:g.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},h.prototype.getShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,g=c.radius,O=c.getNodeStyle();return qe.exports.h("g",{},[qe.exports.h("rect",Ua(Ua({},O),{x:p-f/2,y:i-s/2,rx:g,ry:g,width:f,height:s})),this.getLabelShape()])},h.extendKey="UserTaskNode",h}(qe.exports.RectNode),mw={type:"bpmn:userTask",view:bw,model:gw},Sv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),es=globalThis&&globalThis.__assign||function(){return es=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},es.apply(this,arguments)},Ow=function(v){Sv(h,v);function h(c,p){var i=this;return c.id||(c.id="Activity_"+No()),i=v.call(this,c,p)||this,i}return h.extendKey="ServiceTaskModel",h}(qe.exports.RectNodeModel),_w=function(v){Sv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,g=c.getNodeStyle();return qe.exports.h("svg",{x:p-f/2+5,y:i-s/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},qe.exports.h("path",{fill:g.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},h.prototype.getShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,g=c.radius,O=c.getNodeStyle();return qe.exports.h("g",{},[qe.exports.h("rect",es({x:p-f/2,y:i-s/2,rx:g,ry:g,width:f,height:s},O)),this.getLabelShape()])},h.extendKey="ServiceTaskNode",h}(qe.exports.RectNode),ww={type:"bpmn:serviceTask",view:_w,model:Ow},Pv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),xw=function(v){Pv(h,v);function h(c,p){var i=this;return c.id||(c.id="Flow_"+No()),i=v.call(this,c,p)||this,i}return h.extendKey="SequenceFlowModel",h}(qe.exports.PolylineEdgeModel),Ew=function(v){Pv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.extendKey="SequenceFlowEdge",h}(qe.exports.PolylineEdge),jw={type:"bpmn:sequenceFlow",view:Ew,model:xw},qy={width:40,height:40},$y={width:40,height:40},Jy={width:40,height:40},Qy={width:100,height:80},ev={width:100,height:80},Sw={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},Pw=function(){function v(h){var c=h.lf;c.setTheme(Sw),c.register(lw),c.register(dw),c.register(vw),c.register(mw),c.register(ww),c.options.customBpmnEdge||(c.register(jw),c.setDefaultEdgeType("bpmn:sequenceFlow"))}return v.pluginName="bpmnElement",v}(),Aw=function(){function v(h){var c=this,p=h.lf;this.lf=p,this.customCssRules="",this.useGlobalRules=!0,p.getSnapshot=function(i,f){c.getSnapshot(i,f)},p.getSnapshotBlob=function(i){return c.getSnapshotBlob(i)},p.getSnapshotBase64=function(i){return c.getSnapshotBase64(i)}}return v.prototype.getSvgRootElement=function(h){var c=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,h.graphModel.nodes.forEach(function(i){var f=i.x,s=i.width,g=i.y,O=i.height,_=f-s/2,x=g-O/2;_<c.offsetX&&(c.offsetX=_-5),x<c.offsetY&&(c.offsetY=x-5)}),h.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(f){var s=f.x,g=f.y;s<c.offsetX&&(c.offsetX=s-5),g<c.offsetY&&(c.offsetY=g-5)})});var p=h.container.querySelector(".lf-canvas-overlay");return p},v.prototype.triggerDownload=function(h){var c=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),p=document.createElement("a");p.setAttribute("download",this.fileName),p.setAttribute("href",h),p.setAttribute("target","_blank"),p.dispatchEvent(c)},v.prototype.removeAnchor=function(h){for(var c=h.childNodes,p=h.childNodes&&h.childNodes.length,i=0;i<p;i++){var f=c[i],s=f.classList&&Array.from(f.classList)||[];s.indexOf("lf-anchor")>-1&&(h.removeChild(h.childNodes[i]),p--,i--)}},v.prototype.getSnapshot=function(h,c){var p=this;this.fileName=h||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,c).then(function(f){var s=f.toDataURL("image/png").replace("image/png","image/octet-stream");p.triggerDownload(s)})},v.prototype.getSnapshotBase64=function(h){var c=this,p=this.getSvgRootElement(this.lf);return new Promise(function(i){c.getCanvasData(p,h).then(function(f){var s=f.toDataURL("image/png");i({data:s,width:f.width,height:f.height})})})},v.prototype.getSnapshotBlob=function(h){var c=this,p=this.getSvgRootElement(this.lf);return new Promise(function(i){c.getCanvasData(p,h).then(function(f){f.toBlob(function(s){i({data:s,width:f.width,height:f.height})},"image/png")})})},v.prototype.getClassRules=function(){var h="";if(this.useGlobalRules)for(var c=document.styleSheets,p=0;p<c.length;p++)for(var i=c[p],f=0;f<i.cssRules.length;f++)h+=i.cssRules[f].cssText;return this.customCssRules&&(h+=this.customCssRules),h},v.prototype.getCanvasData=function(h,c){var p=this,i=h.cloneNode(!0),f=i.lastChild,s=f.childNodes&&f.childNodes.length;if(s)for(var g=0;g<s;g++){var O=f.childNodes[g],_=O.classList&&Array.from(O.classList);if(_&&_.indexOf("lf-base")<0)f.removeChild(f.childNodes[g]),s--,g--;else{var x=f.childNodes[g];x&&x.childNodes.forEach(function(L){var H=L;p.removeAnchor(H.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var S=window.devicePixelRatio||1,P=document.createElement("canvas"),A=document.getElementsByClassName("lf-base")[0],N=A.getBoundingClientRect(),R=this.lf.graphModel,F=R.transformModel,U=F.SCALE_X,B=F.SCALE_Y,Y=Math.ceil(N.width/U),Z=Math.ceil(N.height/B);P.style.width=Y+"px",P.style.height=Z+"px",P.width=Y*S+80,P.height=Z*S+80;var V=P.getContext("2d");V.clearRect(0,0,P.width,P.height),V.scale(S,S),c?(V.fillStyle=c,V.fillRect(0,0,Y*S+80,Z*S+80)):V.clearRect(0,0,Y,Z);var C=new Image,z=document.createElement("style");z.innerHTML=this.getClassRules();var M=document.createElement("foreignObject");return M.appendChild(z),i.appendChild(M),new Promise(function(L){C.onload=function(){V.drawImage(C,0,0),L(P)};var H="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),ee=H.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");C.src=ee})},v.pluginName="snapshot",v}(),kw=new nr([32,32,1]);function tv(){return kw.next()}var hn=function(){};hn.ObjTree=function(){return this};hn.ObjTree.VERSION="0.23";hn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;hn.ObjTree.prototype.attr_prefix="-";hn.ObjTree.prototype.parseXML=function(v){var h;if(window.DOMParser){var c=new DOMParser,p=c.parseFromString(v,"application/xml");if(!p)return;h=p.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(v),h=c.documentElement);if(!!h)return this.parseDOM(h)};hn.ObjTree.prototype.parseHTTP=function(v,h,c){var p={};for(var i in h)p[i]=h[i];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),c){p.asynchronous=!0;var f=this,s=c,g=p.onComplete;p.onComplete=function(x){var S;x&&x.responseXML&&x.responseXML.documentElement&&(S=f.parseDOM(x.responseXML.documentElement)),s(S,x),g&&g(x)}}else p.asynchronous=!1;var O;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=v;var _=new HTTP.Request(p);_&&(O=_.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var _=new Ajax.Request(v,p);_&&(O=_.transport)}if(c)return O;if(O&&O.responseXML&&O.responseXML.documentElement)return this.parseDOM(O.responseXML.documentElement)};hn.ObjTree.prototype.parseDOM=function(v){if(!!v){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var c=this.parseElement(v);if(this.__force_array[v.nodeName]&&(c=[c]),v.nodeType!=11){var p={};p[v.nodeName]=c,c=p}return c}};hn.ObjTree.prototype.parseElement=function(v){if(v.nodeType!=7){if(v.nodeType==3||v.nodeType==4){var h=v.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:v.nodeValue}var c,p={};if(v.attributes&&v.attributes.length){c={};for(var i=0;i<v.attributes.length;i++){var f=v.attributes[i].nodeName;if(typeof f=="string"){var s=v.attributes[i].nodeValue;!s||(f=this.attr_prefix+f,typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],s))}}}if(v.childNodes&&v.childNodes.length){var g=!0;c&&(g=!1);for(var i=0;i<v.childNodes.length&&g;i++){var O=v.childNodes[i].nodeType;O==3||O==4||(g=!1)}if(g){c||(c="");for(var i=0;i<v.childNodes.length;i++)c+=v.childNodes[i].nodeValue}else{c||(c={});for(var i=0;i<v.childNodes.length;i++){var f=v.childNodes[i].nodeName;if(typeof f=="string"){var s=this.parseElement(v.childNodes[i]);!s||(typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],s))}}}}return c}};hn.ObjTree.prototype.addNode=function(v,h,c,p){this.__force_array[h]?(c==1&&(v[h]=[]),v[h][v[h].length]=p):c==1?v[h]=p:c==2?v[h]=[v[h],p]:v[h][v[h].length]=p};hn.ObjTree.prototype.writeXML=function(v){var h=this.hash_to_xml(null,v);return this.xmlDecl+h};hn.ObjTree.prototype.hash_to_xml=function(v,h){var c=[],p=[];for(var i in h)if(!!h.hasOwnProperty(i)){var f=h[i];i.charAt(0)!=this.attr_prefix?typeof f=="undefined"||f==null?c[c.length]="<"+i+" />":typeof f=="object"&&f.constructor==Array?c[c.length]=this.array_to_xml(i,f):typeof f=="object"?c[c.length]=this.hash_to_xml(i,f):c[c.length]=this.scalar_to_xml(i,f):p[p.length]=" "+i.substring(1)+'="'+this.xml_escape(f)+'"'}var s=p.join(""),g=c.join("");return typeof v=="undefined"||v==null||(c.length>0?g.match(/\n/)?g="<"+v+s+`>
`+g+"</"+v+`>
`:g="<"+v+s+">"+g+"</"+v+`>
`:g="<"+v+s+` />
`),g};hn.ObjTree.prototype.array_to_xml=function(v,h){for(var c=[],p=0;p<h.length;p++){var i=h[p];typeof i=="undefined"||i==null?c[c.length]="<"+v+" />":typeof i=="object"&&i.constructor==Array?c[c.length]=this.array_to_xml(v,i):typeof i=="object"?c[c.length]=this.hash_to_xml(v,i):c[c.length]=this.scalar_to_xml(v,i)}return c.join("")};hn.ObjTree.prototype.scalar_to_xml=function(v,h){return v=="#text"?this.xml_escape(h):"<"+v+">"+this.xml_escape(h)+"</"+v+`>
`};hn.ObjTree.prototype.xml_escape=function(v){return v.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Wa=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},rr;(function(v){v.START="bpmn:startEvent",v.END="bpmn:endEvent",v.GATEWAY="bpmn:exclusiveGateway",v.USER="bpmn:userTask",v.SYSTEM="bpmn:serviceTask",v.FLOW="bpmn:sequenceFlow"})(rr||(rr={}));var Av=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function ts(v){var h={};return Object.entries(v).forEach(function(c){var p=Wa(c,2),i=p[0],f=p[1];typeof f!="object"?i.indexOf("-")===0?h[i]=f:h["-"+i]=f:h[i]=ts(f)}),h}function as(v){var h={};return Object.entries(v).forEach(function(c){var p=Wa(c,2),i=p[0],f=p[1];typeof f=="string"?i.indexOf("-")===0?h[i.substr(1)]=f:h[i]=f:typeof f=="object"?h[i]=as(f):h[i]=f}),h}function Mw(v,h){var c=new Map;h.nodes.forEach(function(i){var f,s={"-id":i.id};if(!((f=i.text)===null||f===void 0)&&f.value&&(s["-name"]=i.text.value),i.properties){var g=ts(i.properties);Object.assign(s,g)}c.set(i.id,s),v[i.type]?Array.isArray(v[i.type])?v[i.type].push(s):v[i.type]=[v[i.type],s]:v[i.type]=s});var p=h.edges.map(function(i){var f,s,g=c.get(i.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(i.id):g["bpmn:incoming"]=[g["bpmn:incoming"],i.id]:g["bpmn:incoming"]=i.id;var O=c.get(i.sourceNodeId);O["bpmn:outgoing"]?Array.isArray(O["bpmn:outgoing"])?O["bpmn:outgoing"].push(i.id):O["bpmn:outgoing"]=[O["bpmn:outgoing"],i.id]:O["bpmn:outgoing"]=i.id;var _={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((f=i.text)===null||f===void 0)&&f.value&&(_["-name"]=(s=i.text)===null||s===void 0?void 0:s.value),i.properties){var x=ts(i.properties);Object.assign(_,x)}return _});v[rr.FLOW]=p}function Dw(v,h){v["bpmndi:BPMNEdge"]=h.edges.map(function(c){var p,i=c.id,f=c.pointsList.map(function(g){var O=g.x,_=g.y;return{"-x":O,"-y":_}}),s={"-id":i+"_di","-bpmnElement":i,"di:waypoint":f};return!((p=c.text)===null||p===void 0)&&p.value&&(s["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),s}),v["bpmndi:BPMNShape"]=h.nodes.map(function(c){var p,i=c.id,f=100,s=80,g=c.x,O=c.y,_=oo.shapeConfigMap.get(c.type);_&&(f=_.width,s=_.height),g-=f/2,O-=s/2;var x={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":g,"-y":O,"-width":f,"-height":s}};return!((p=c.text)===null||p===void 0)&&p.value&&(x["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),x})}function Tw(v){var h=[],c=[],p=v["bpmn:definitions"];if(p){var i=p["bpmn:process"];Object.keys(i).forEach(function(f){if(f.indexOf("bpmn:")===0){var s=i[f];if(f===rr.FLOW){var g=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=Cw(s,g)}else{var O=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];h=h.concat(Nw(s,O,f))}}})}return{nodes:h,edges:c}}function Nw(v,h,c){var p=[];if(Array.isArray(v))v.forEach(function(s){var g;Array.isArray(h)?g=h.find(function(_){return _["-bpmnElement"]===s["-id"]}):g=h;var O=nv(g,c,s);p.push(O)});else{var i=void 0;Array.isArray(h)?i=h.find(function(s){return s["-bpmnElement"]===v["-id"]}):i=h;var f=nv(i,c,v);p.push(f)}return p}function nv(v,h,c){var p=Number(v["dc:Bounds"]["-x"]),i=Number(v["dc:Bounds"]["-y"]),f=c["-name"],s=oo.shapeConfigMap.get(h);s&&(p+=s.width/2,i+=s.height/2);var g;Object.entries(c).forEach(function(S){var P=Wa(S,2),A=P[0],N=P[1];Av.indexOf(A)===-1&&(g||(g={}),g[A]=N)}),g&&(g=as(g));var O;if(f&&(O={x:p,y:i,value:f},v["bpmndi:BPMNLabel"]&&v["bpmndi:BPMNLabel"]["dc:Bounds"])){var _=v["bpmndi:BPMNLabel"]["dc:Bounds"];O.x=Number(_["-x"])+Number(_["-width"])/2,O.y=Number(_["-y"])+Number(_["-height"])/2}var x={id:v["-bpmnElement"],type:h,x:p,y:i,properties:g};return O&&(x.text=O),x}function Cw(v,h){var c=[];if(Array.isArray(v))v.forEach(function(i){var f;Array.isArray(h)?f=h.find(function(s){return s["-bpmnElement"]===i["-id"]}):f=h,c.push(rv(f,i))});else{var p=void 0;Array.isArray(h)?p=h.find(function(i){return i["-bpmnElement"]===v["-id"]}):p=h,c.push(rv(p,v))}return c}function rv(v,h){var c,p=h["-name"];if(p){var i=v["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;p.split(`
`).forEach(function(O){f<O.length&&(f=O.length)}),c={value:p,x:Number(i["-x"])+f*10/2,y:Number(i["-y"])+7}}var s;Object.entries(h).forEach(function(O){var _=Wa(O,2),x=_[0],S=_[1];Av.indexOf(x)===-1&&(s||(s={}),s[x]=S)}),s&&(s=as(s));var g={id:h["-id"],type:rr.FLOW,pointsList:v["di:waypoint"].map(function(O){return{x:Number(O["-x"]),y:Number(O["-y"])}}),sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:s};return c&&(g.text=c),g}var oo={pluginName:"bpmn-adapter",install:function(v){v.adapterIn=this.adapterIn,v.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(v,h){this.shapeConfigMap.set(v,h)},adapterOut:function(v){var h={"-id":"Process_"+tv(),"-isExecutable":"false"};Mw(h,v);var c={"-id":"BPMNPlane_1","-bpmnElement":h["-id"]};Dw(c,v);var p={"bpmn:definitions":{"-id":"Definitions_"+tv(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":h,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return p},adapterIn:function(v){if(v)return Tw(v)}};oo.shapeConfigMap.set(rr.START,{width:qy.width,height:qy.height});oo.shapeConfigMap.set(rr.END,{width:$y.width,height:$y.height});oo.shapeConfigMap.set(rr.GATEWAY,{width:Jy.width,height:Jy.height});oo.shapeConfigMap.set(rr.SYSTEM,{width:Qy.width,height:Qy.height});oo.shapeConfigMap.set(rr.USER,{width:ev.width,height:ev.height});var ov=globalThis&&globalThis.__assign||function(){return ov=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},ov.apply(this,arguments)};globalThis&&globalThis.__read;var iv;(function(v){v.HORIZONTAL="horizontal",v.VERTICAL="vertical"})(iv||(iv={}));var Rw=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var Iw=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var Lw=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},zw=globalThis&&globalThis.__spread||function(){for(var v=[],h=0;h<arguments.length;h++)v=v.concat(Lw(arguments[h]));return v},bi="lf:defaultNodeMenu",mi="lf:defaultEdgeMenu",Oi="lf:defaultGraphMenu",av="lf:defaultSelectionMenu",Bw=function(){function v(h){var c=this,p=h.lf;this.__menuDOM=document.createElement("ul"),this.lf=p,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){c.setMenuConfig(i)},this.lf.addMenuConfig=function(i){c.addMenuConfig(i)},this.lf.setMenuByType=function(i){c.setMenuByType(i)}}return v.prototype.init=function(){var h=this,c=[{text:"\u5220\u9664",callback:function(f){h.lf.deleteNode(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){h.lf.graphModel.editText(f.id)}},{text:"\u590D\u5236",callback:function(f){h.lf.cloneNode(f.id)}}];this.menuTypeMap.set(bi,c);var p=[{text:"\u5220\u9664",callback:function(f){h.lf.deleteEdge(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){h.lf.graphModel.editText(f.id)}}];this.menuTypeMap.set(mi,p),this.menuTypeMap.set(Oi,[]);var i=[{text:"\u5220\u9664",callback:function(f){h.lf.clearSelectElements(),f.edges.forEach(function(s){return h.lf.deleteEdge(s.id)}),f.nodes.forEach(function(s){return h.lf.deleteNode(s.id)})}}];this.menuTypeMap.set(av,i)},v.prototype.render=function(h,c){var p=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var f=i.target;Array.from(f.classList).indexOf("lf-menu-item")===-1&&Array.from(f.classList).indexOf("lf-menu")===-1;)f=f.parentElement;Array.from(f.classList).indexOf("lf-menu-item")>-1?(f.onclickCallback(p.__currentData),p.__menuDOM.style.display="none",p.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(i){var f=i.data,s=i.position,g=s.domOverlayPosition,O=g.x,_=g.y,x=f.id,S=p.lf.graphModel.getNodeModelById(x),P=[],A=p.menuTypeMap.get(S.type);S&&S.menu&&Array.isArray(S.menu)?P=S.menu:A?P=A:P=p.menuTypeMap.get(bi),p.__currentData=f,p.showMenu(O,_,P)}),this.lf.on("edge:contextmenu",function(i){var f=i.data,s=i.position,g=s.domOverlayPosition,O=g.x,_=g.y,x=f.id,S=p.lf.graphModel.getEdgeModelById(x),P=[],A=p.menuTypeMap.get(S.type);S&&S.menu&&Array.isArray(S.menu)?P=S.menu:A?P=A:P=p.menuTypeMap.get(mi),p.__currentData=f,p.showMenu(O,_,P)}),this.lf.on("blank:contextmenu",function(i){var f=i.position,s=p.menuTypeMap.get(Oi),g=f.domOverlayPosition,O=g.x,_=g.y;p.showMenu(O,_,s)}),this.lf.on("selection:contextmenu",function(i){var f=i.data,s=i.position,g=p.menuTypeMap.get(av),O=s.domOverlayPosition,_=O.x,x=O.y;p.__currentData=f,p.showMenu(_,x,g)}),this.lf.on("node:mousedown",function(){p.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){p.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){p.__menuDOM.style.display="none"})},v.prototype.destroy=function(){var h;(h=this===null||this===void 0?void 0:this.__container)===null||h===void 0||h.removeChild(this.__menuDOM),this.__menuDOM=null},v.prototype.showMenu=function(h,c,p){if(!(!p||!p.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,zw(this.__getMenuDom(p))),i.children.length&&(i.style.display="block",i.style.top=c+"px",i.style.left=h+"px")}},v.prototype.setMenuByType=function(h){!h.type||!h.menu||this.menuTypeMap.set(h.type,h.menu)},v.prototype.__getMenuDom=function(h){var c=[];return h&&h.length>0&&h.forEach(function(p){var i=document.createElement("li");if(p.className?i.className="lf-menu-item "+p.className:i.className="lf-menu-item",p.icon===!0){var f=document.createElement("span");f.className="lf-menu-item-icon",i.appendChild(f)}var s=document.createElement("span");s.className="lf-menu-item-text",p.text&&(s.innerText=p.text),i.appendChild(s),i.onclickCallback=p.callback,c.push(i)}),c},v.prototype.setMenuConfig=function(h){!h||(h.nodeMenu!==void 0&&this.menuTypeMap.set(bi,h.nodeMenu?h.nodeMenu:[]),h.edgeMenu!==void 0&&this.menuTypeMap.set(mi,h.edgeMenu?h.edgeMenu:[]),h.graphMenu!==void 0&&this.menuTypeMap.set(Oi,h.graphMenu?h.graphMenu:[]))},v.prototype.addMenuConfig=function(h){if(!!h){if(Array.isArray(h.nodeMenu)){var c=this.menuTypeMap.get(bi);this.menuTypeMap.set(bi,c.concat(h.nodeMenu))}if(Array.isArray(h.edgeMenu)){var c=this.menuTypeMap.get(mi);this.menuTypeMap.set(mi,c.concat(h.edgeMenu))}if(Array.isArray(h.graphMenu)){var c=this.menuTypeMap.get(Oi);this.menuTypeMap.set(Oi,c.concat(h.graphMenu))}}},v.prototype.changeMenuItem=function(h,c){if(h==="add")this.addMenuConfig(c);else if(h==="reset")this.setMenuConfig(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},v.pluginName="menu",v}();globalThis&&globalThis.__read;var Fw=function(){function v(h){var c=this,p=h.lf;this.lf=p,this.lf.setPatternItems=function(i){c.setPatternItems(i)}}return v.prototype.render=function(h,c){var p=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=c;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(i){p.panelEl.appendChild(p.createDndItem(i))}),c.appendChild(this.panelEl),this.domContainer=c},v.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},v.prototype.setPatternItems=function(h){this.shapeList=h,this.domContainer&&this.render(this.lf,this.domContainer)},v.prototype.createDndItem=function(h){var c=this,p=document.createElement("div");p.className=h.className?"lf-dnd-item "+h.className:"lf-dnd-item";var i=document.createElement("div");if(i.className="lf-dnd-shape",h.icon&&(i.style.backgroundImage="url("+h.icon+")"),p.appendChild(i),h.label){var f=document.createElement("div");f.innerText=h.label,f.className="lf-dnd-text",p.appendChild(f)}return p.onmousedown=function(){h.type&&c.lf.dnd.startDrag({type:h.type,properties:h.properties,text:h.text}),h.callback&&h.callback(c.lf,c.domContainer)},p},v.pluginName="dndPanel",v}(),Hw=function(){function v(h){var c=this,p=h.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(f){var s=c.lf.getPointByClient(f.clientX,f.clientY).domOverlayPosition,g=s.x,O=s.y;c.endPoint={x:g,y:O};var _=c.startPoint,x=_.x,S=_.y,P=c.wrapper.style,A=x,N=S,R=g-x,F=O-S;g<x&&(A=g,R=x-g),O<S&&(N=O,F=S-O),P.left=A+"px",P.top=N+"px",P.width=R+"px",P.height=F+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",c.__draw),document.removeEventListener("mouseup",c.__drawOff),c.__domContainer.removeChild(c.wrapper);var f=c.startPoint,s=f.x,g=f.y,O=c.endPoint,_=O.x,x=O.y;if(!(Math.abs(_-s)<10&&Math.abs(x-g)<10)){var S=[Math.min(s,_),Math.min(g,x)],P=[Math.max(s,_),Math.max(g,x)],A=c.lf.getAreaElement(S,P,c.isWholeEdge,c.isWholeNode);A.forEach(function(N){c.lf.selectElementById(N.id,!0)}),c.lf.emit("selection:selected",A)}},this.lf=p;var i=p.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=i,p.openSelectionSelect=function(){c.openSelectionSelect()},p.closeSelectionSelect=function(){c.closeSelectionSelect()}}return v.prototype.render=function(h,c){var p=this;this.__domContainer=c,h.on("blank:mousedown",function(i){var f=i.e,s=h.getEditConfig();if(!(!s.stopMoveGraph||p.__disabled)){var g=h.getPointByClient(f.clientX,f.clientY).domOverlayPosition,O=g.x,_=g.y;p.startPoint={x:O,y:_},p.endPoint={x:O,y:_};var x=document.createElement("div");x.className="lf-selection-select",x.style.top=p.startPoint.y+"px",x.style.left=p.startPoint.x+"px",c.appendChild(x),p.wrapper=x,document.addEventListener("mousemove",p.__draw),document.addEventListener("mouseup",p.__drawOff)}})},v.prototype.setSelectionSense=function(h,c){h===void 0&&(h=!0),c===void 0&&(c=!0),this.isWholeEdge=h,this.isWholeNode=c},v.prototype.openSelectionSelect=function(){var h=this.lf.getEditConfig().stopMoveGraph;h||(this.isDefalutStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},v.prototype.closeSelectionSelect=function(){this.isDefalutStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},v.prototype.open=function(){this.__disabled=!1},v.prototype.close=function(){this.__disabled=!0},v.pluginName="selectionSelect",v}();globalThis&&globalThis.__values;var kv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),_i=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};(function(v){kv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getEdge=function(){for(var c=this.props.model.getEdgeStyle(),p=c.strokeWidth,i=c.stroke,f=c.strokeDashArray,s=this.props.model.points,g=s.split(" ").map(function(q){return q.split(",").map(function(ue){return Number(ue)})}),O=_i(g[0],2),_=O[0],x=O[1],S="M"+_+" "+x,P=5,A=1;A<g.length-1;A++){var N=_i(g[A-1],2),R=N[0],F=N[1],U=_i(g[A],2),B=U[0],Y=U[1],Z=_i(g[A+1],2),V=Z[0],C=Z[1];if(B===R&&Y!==F){var z=Y>F?Y-P:Y+P;S=S+" L "+B+" "+z}if(Y===F&&B!==R){var M=B>R?B-P:B+P;S=S+" L "+M+" "+Y}if(S=S+" Q "+B+" "+Y,B===V&&Y!==C){var z=Y>C?Y-P:Y+P;S=S+" "+B+" "+z}if(Y===C&&B!==V){var M=B>V?B-P:B+P;S=S+" "+M+" "+Y}}var L=_i(g[g.length-1],2),H=L[0],ee=L[1];return S=S+" L "+H+" "+ee,qe.exports.h("path",{d:S,strokeWidth:p,stroke:i,fill:"none",strokeDashArray:f})},h.extendKey="curvedEdge",h})(qe.exports.PolylineEdge);(function(v){kv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h})(qe.exports.PolylineEdgeModel);var us,Bt,Mv,Ei,Dv,uv,Tv={},Nv=[],Uw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Nr(v,h){for(var c in h)v[c]=h[c];return v}function Cv(v){var h=v.parentNode;h&&h.removeChild(v)}function ji(v,h,c){var p,i,f,s={};for(f in h)f=="key"?p=h[f]:f=="ref"?i=h[f]:s[f]=h[f];if(arguments.length>2&&(s.children=arguments.length>3?us.call(arguments,2):c),typeof v=="function"&&v.defaultProps!=null)for(f in v.defaultProps)s[f]===void 0&&(s[f]=v.defaultProps[f]);return za(v,s,p,i,null)}function za(v,h,c,p,i){var f={type:v,props:h,key:c,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Mv:i};return i==null&&Bt.vnode!=null&&Bt.vnode(f),f}function cs(v){return v.children}function Do(v,h){this.props=v,this.context=h}function To(v,h){if(h==null)return v.__?To(v.__,v.__.__k.indexOf(v)+1):null;for(var c;h<v.__k.length;h++)if((c=v.__k[h])!=null&&c.__e!=null)return c.__e;return typeof v.type=="function"?To(v):null}function Rv(v){var h,c;if((v=v.__)!=null&&v.__c!=null){for(v.__e=v.__c.base=null,h=0;h<v.__k.length;h++)if((c=v.__k[h])!=null&&c.__e!=null){v.__e=v.__c.base=c.__e;break}return Rv(v)}}function cv(v){(!v.__d&&(v.__d=!0)&&Ei.push(v)&&!Ga.__r++||uv!==Bt.debounceRendering)&&((uv=Bt.debounceRendering)||Dv)(Ga)}function Ga(){for(var v;Ga.__r=Ei.length;)v=Ei.sort(function(h,c){return h.__v.__b-c.__v.__b}),Ei=[],v.some(function(h){var c,p,i,f,s,g;h.__d&&(s=(f=(c=h).__v).__e,(g=c.__P)&&(p=[],(i=Nr({},f)).__v=f.__v+1,Bv(g,f,i,c.__n,g.ownerSVGElement!==void 0,f.__h!=null?[s]:null,p,s==null?To(f):s,f.__h),Xw(p,f),f.__e!=s&&Rv(f)))})}function Iv(v,h,c,p,i,f,s,g,O,_){var x,S,P,A,N,R,F,U=p&&p.__k||Nv,B=U.length;for(c.__k=[],x=0;x<h.length;x++)if((A=c.__k[x]=(A=h[x])==null||typeof A=="boolean"?null:typeof A=="string"||typeof A=="number"||typeof A=="bigint"?za(null,A,null,null,A):Array.isArray(A)?za(cs,{children:A},null,null,null):A.__b>0?za(A.type,A.props,A.key,null,A.__v):A)!=null){if(A.__=c,A.__b=c.__b+1,(P=U[x])===null||P&&A.key==P.key&&A.type===P.type)U[x]=void 0;else for(S=0;S<B;S++){if((P=U[S])&&A.key==P.key&&A.type===P.type){U[S]=void 0;break}P=null}Bv(v,A,P=P||Tv,i,f,s,g,O,_),N=A.__e,(S=A.ref)&&P.ref!=S&&(F||(F=[]),P.ref&&F.push(P.ref,null,A),F.push(S,A.__c||N,A)),N!=null?(R==null&&(R=N),typeof A.type=="function"&&A.__k===P.__k?A.__d=O=Lv(A,O,v):O=zv(v,A,P,U,N,O),typeof c.type=="function"&&(c.__d=O)):O&&P.__e==O&&O.parentNode!=v&&(O=To(P))}for(c.__e=R,x=B;x--;)U[x]!=null&&(typeof c.type=="function"&&U[x].__e!=null&&U[x].__e==c.__d&&(c.__d=To(p,x+1)),Hv(U[x],U[x]));if(F)for(x=0;x<F.length;x++)Fv(F[x],F[++x],F[++x])}function Lv(v,h,c){for(var p,i=v.__k,f=0;i&&f<i.length;f++)(p=i[f])&&(p.__=v,h=typeof p.type=="function"?Lv(p,h,c):zv(c,p,p,i,p.__e,h));return h}function zv(v,h,c,p,i,f){var s,g,O;if(h.__d!==void 0)s=h.__d,h.__d=void 0;else if(c==null||i!=f||i.parentNode==null)e:if(f==null||f.parentNode!==v)v.appendChild(i),s=null;else{for(g=f,O=0;(g=g.nextSibling)&&O<p.length;O+=2)if(g==i)break e;v.insertBefore(i,f),s=f}return s!==void 0?s:i.nextSibling}function Gw(v,h,c,p,i){var f;for(f in c)f==="children"||f==="key"||f in h||Xa(v,f,null,c[f],p);for(f in h)i&&typeof h[f]!="function"||f==="children"||f==="key"||f==="value"||f==="checked"||c[f]===h[f]||Xa(v,f,h[f],c[f],p)}function sv(v,h,c){h[0]==="-"?v.setProperty(h,c):v[h]=c==null?"":typeof c!="number"||Uw.test(h)?c:c+"px"}function Xa(v,h,c,p,i){var f;e:if(h==="style")if(typeof c=="string")v.style.cssText=c;else{if(typeof p=="string"&&(v.style.cssText=p=""),p)for(h in p)c&&h in c||sv(v.style,h,"");if(c)for(h in c)p&&c[h]===p[h]||sv(v.style,h,c[h])}else if(h[0]==="o"&&h[1]==="n")f=h!==(h=h.replace(/Capture$/,"")),h=h.toLowerCase()in v?h.toLowerCase().slice(2):h.slice(2),v.l||(v.l={}),v.l[h+f]=c,c?p||v.addEventListener(h,f?fv:lv,f):v.removeEventListener(h,f?fv:lv,f);else if(h!=="dangerouslySetInnerHTML"){if(i)h=h.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(h!=="href"&&h!=="list"&&h!=="form"&&h!=="tabIndex"&&h!=="download"&&h in v)try{v[h]=c==null?"":c;break e}catch(s){}typeof c=="function"||(c!=null&&(c!==!1||h[0]==="a"&&h[1]==="r")?v.setAttribute(h,c):v.removeAttribute(h))}}function lv(v){this.l[v.type+!1](Bt.event?Bt.event(v):v)}function fv(v){this.l[v.type+!0](Bt.event?Bt.event(v):v)}function Bv(v,h,c,p,i,f,s,g,O){var _,x,S,P,A,N,R,F,U,B,Y,Z=h.type;if(h.constructor!==void 0)return null;c.__h!=null&&(O=c.__h,g=h.__e=c.__e,h.__h=null,f=[g]),(_=Bt.__b)&&_(h);try{e:if(typeof Z=="function"){if(F=h.props,U=(_=Z.contextType)&&p[_.__c],B=_?U?U.props.value:_.__:p,c.__c?R=(x=h.__c=c.__c).__=x.__E:("prototype"in Z&&Z.prototype.render?h.__c=x=new Z(F,B):(h.__c=x=new Do(F,B),x.constructor=Z,x.render=Yw),U&&U.sub(x),x.props=F,x.state||(x.state={}),x.context=B,x.__n=p,S=x.__d=!0,x.__h=[]),x.__s==null&&(x.__s=x.state),Z.getDerivedStateFromProps!=null&&(x.__s==x.state&&(x.__s=Nr({},x.__s)),Nr(x.__s,Z.getDerivedStateFromProps(F,x.__s))),P=x.props,A=x.state,S)Z.getDerivedStateFromProps==null&&x.componentWillMount!=null&&x.componentWillMount(),x.componentDidMount!=null&&x.__h.push(x.componentDidMount);else{if(Z.getDerivedStateFromProps==null&&F!==P&&x.componentWillReceiveProps!=null&&x.componentWillReceiveProps(F,B),!x.__e&&x.shouldComponentUpdate!=null&&x.shouldComponentUpdate(F,x.__s,B)===!1||h.__v===c.__v){x.props=F,x.state=x.__s,h.__v!==c.__v&&(x.__d=!1),x.__v=h,h.__e=c.__e,h.__k=c.__k,h.__k.forEach(function(V){V&&(V.__=h)}),x.__h.length&&s.push(x);break e}x.componentWillUpdate!=null&&x.componentWillUpdate(F,x.__s,B),x.componentDidUpdate!=null&&x.__h.push(function(){x.componentDidUpdate(P,A,N)})}x.context=B,x.props=F,x.state=x.__s,(_=Bt.__r)&&_(h),x.__d=!1,x.__v=h,x.__P=v,_=x.render(x.props,x.state,x.context),x.state=x.__s,x.getChildContext!=null&&(p=Nr(Nr({},p),x.getChildContext())),S||x.getSnapshotBeforeUpdate==null||(N=x.getSnapshotBeforeUpdate(P,A)),Y=_!=null&&_.type===cs&&_.key==null?_.props.children:_,Iv(v,Array.isArray(Y)?Y:[Y],h,c,p,i,f,s,g,O),x.base=h.__e,h.__h=null,x.__h.length&&s.push(x),R&&(x.__E=x.__=null),x.__e=!1}else f==null&&h.__v===c.__v?(h.__k=c.__k,h.__e=c.__e):h.__e=Vw(c.__e,h,c,p,i,f,s,O);(_=Bt.diffed)&&_(h)}catch(V){h.__v=null,(O||f!=null)&&(h.__e=g,h.__h=!!O,f[f.indexOf(g)]=null),Bt.__e(V,h,c)}}function Xw(v,h){Bt.__c&&Bt.__c(h,v),v.some(function(c){try{v=c.__h,c.__h=[],v.some(function(p){p.call(c)})}catch(p){Bt.__e(p,c.__v)}})}function Vw(v,h,c,p,i,f,s,g){var O,_,x,S=c.props,P=h.props,A=h.type,N=0;if(A==="svg"&&(i=!0),f!=null){for(;N<f.length;N++)if((O=f[N])&&"setAttribute"in O==!!A&&(A?O.localName===A:O.nodeType===3)){v=O,f[N]=null;break}}if(v==null){if(A===null)return document.createTextNode(P);v=i?document.createElementNS("http://www.w3.org/2000/svg",A):document.createElement(A,P.is&&P),f=null,g=!1}if(A===null)S===P||g&&v.data===P||(v.data=P);else{if(f=f&&us.call(v.childNodes),_=(S=c.props||Tv).dangerouslySetInnerHTML,x=P.dangerouslySetInnerHTML,!g){if(f!=null)for(S={},N=0;N<v.attributes.length;N++)S[v.attributes[N].name]=v.attributes[N].value;(x||_)&&(x&&(_&&x.__html==_.__html||x.__html===v.innerHTML)||(v.innerHTML=x&&x.__html||""))}if(Gw(v,P,S,i,g),x)h.__k=[];else if(N=h.props.children,Iv(v,Array.isArray(N)?N:[N],h,c,p,i&&A!=="foreignObject",f,s,f?f[0]:c.__k&&To(c,0),g),f!=null)for(N=f.length;N--;)f[N]!=null&&Cv(f[N]);g||("value"in P&&(N=P.value)!==void 0&&(N!==v.value||A==="progress"&&!N||A==="option"&&N!==S.value)&&Xa(v,"value",N,S.value,!1),"checked"in P&&(N=P.checked)!==void 0&&N!==v.checked&&Xa(v,"checked",N,S.checked,!1))}return v}function Fv(v,h,c){try{typeof v=="function"?v(h):v.current=h}catch(p){Bt.__e(p,c)}}function Hv(v,h,c){var p,i;if(Bt.unmount&&Bt.unmount(v),(p=v.ref)&&(p.current&&p.current!==v.__e||Fv(p,null,h)),(p=v.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(f){Bt.__e(f,h)}p.base=p.__P=null}if(p=v.__k)for(i=0;i<p.length;i++)p[i]&&Hv(p[i],h,typeof v.type!="function");c||v.__e==null||Cv(v.__e),v.__e=v.__d=void 0}function Yw(v,h,c){return this.constructor(v,c)}us=Nv.slice,Bt={__e:function(v,h,c,p){for(var i,f,s;h=h.__;)if((i=h.__c)&&!i.__)try{if((f=i.constructor)&&f.getDerivedStateFromError!=null&&(i.setState(f.getDerivedStateFromError(v)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(v,p||{}),s=i.__d),s)return i.__E=i}catch(g){v=g}throw v}},Mv=0,Do.prototype.setState=function(v,h){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Nr({},this.state),typeof v=="function"&&(v=v(Nr({},c),this.props)),v&&Nr(c,v),v!=null&&this.__v&&(h&&this.__h.push(h),cv(this))},Do.prototype.forceUpdate=function(v){this.__v&&(this.__e=!0,v&&this.__h.push(v),cv(this))},Do.prototype.render=cs,Ei=[],Dv=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ga.__r=0;var Si=globalThis&&globalThis.__assign||function(){return Si=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},Si.apply(this,arguments)};function ss(v){var h=v.x,c=v.y,p=v.width,i=v.height,f=v.radius,s=v.className,g=h-p/2,O=c-i/2,_=Si(Si({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+s},v),{x:g,y:O});return qe.exports.h("rect",Si({},_))}ss.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Mo;(function(v){v.NODE="node",v.CIRCLE_NODE="circle-node",v.POLYGON_NODE="polygon-node",v.RECT_NODE="rect-node",v.HTML_NODE="html-node",v.TEXT_NODE="text-node",v.ELLIPSE_NODE="ellipse-node",v.DIAMOND_NODE="diamond-node",v.EDGE="edge",v.LINE_EDGE="line-edge",v.POLYLINE_EDGE="polyline-edge",v.BEZIER_EDGE="bezier-edge",v.GRAPH="graph"})(Mo||(Mo={}));function Ba(v){var h=v.x,c=v.y,p=v.width,i=v.height;return{minX:h-p/2,minY:c-i/2,maxX:h+p/2,maxY:c+i/2}}function pv(v){var h=Ba(v),c=v.radius,p=h.minX,i=h.minY,f=h.maxX,s=h.maxY;return[{x:p+c,y:i+c},{x:f-c,y:i+c},{x:f-c,y:s-c},{x:p+c,y:s-c}]}function dv(v){var h=v.point,c=v.beforeNode,p=v.afterNode,i=h.x,f=h.y,s={x:i,y:f},g=c.radius,O=Ba(c),_=Ba(p);if(i===O.minX){s.x=_.minX;var x=(f-c.y)/(c.height/2-g);x?s.y=p.y+(p.height/2-g)*x:s.y=p.y}else if(i===O.maxX){s.x=_.maxX;var x=(f-c.y)/(c.height/2-g);x?s.y=p.y+(p.height/2-g)*x:s.y=p.y}else if(f===O.minY){s.y=_.minY;var x=(i-c.x)/(c.width/2-g);x?s.x=p.x+(p.width/2-g)*x:s.x=p.x}else if(f===O.maxY){s.y=_.maxY;var x=(i-c.x)/(c.width/2-g);x?s.x=p.x+(p.width/2-g)*x:s.x=p.x}else{var S=pv(c),P=pv(p),A=Ba(c),N=A.minX,R=A.minY,F=A.maxX,U=A.maxY,B=-1;if(i-N<g&&f-R<g?B=0:F-i<g&&f-R<g?B=1:F-i<g&&U-f<g?B=2:i-N<g&&R-f<g&&(B=3),B>-1){var Y=Math.atan2(f-S[B].y,i-S[B].x);s.x=P[B].x+g*Math.cos(Y),s.y=P[B].y+g*Math.sin(Y)}}return s}function hv(v){var h=v.point,c=v.beforeNode,p=v.afterNode,i=p.rx,f=p.ry,s=h,g=(h.y-c.y)/(h.x-c.x),O=i,_=f,x,S;return g>=1/0?(x=0,S=_):g<=-1/0?(x=0,S=-_):h.x-c.x>0?(x=O*_/Math.sqrt(_*_+O*O*g*g),S=O*_*g/Math.sqrt(_*_+O*O*g*g)):(x=-(O*_)/Math.sqrt(_*_+O*O*g*g),S=-(O*_*g)/Math.sqrt(_*_+O*O*g*g)),s={x:x+p.x,y:S+p.y},s}function yv(v){var h=v.point,c=v.beforeNode,p=v.afterNode,i=h,f,s,g=h.x-c.x,O=h.y-c.y,_=c.rx,x=c.ry,S=Math.sqrt((_-Math.abs(g))*(_-Math.abs(g))+O*O)/Math.sqrt(_*_+x*x),P=p.rx,A=p.ry,N=Math.sqrt((P*P+A*A)*S*S*(P*P/(P*P+A*A))),R=N*(A/P);return g>=0?f=P-N:f=N-P,O>0?s=R:s=-R,i={x:f+p.x,y:s+p.y},i}var Ww=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),ro=globalThis&&globalThis.__assign||function(){return ro=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},ro.apply(this,arguments)},Kw=qe.exports.LogicFlowUtil.StepDrag,Zw=function(v){Ww(h,v);function h(c){var p=v.call(this)||this;p.updatePosition=function(s){var g=s.deltaX,O=s.deltaY,_=p.nodeModel,x=_.x,S=_.y;p.nodeModel.x=x+g/2,p.nodeModel.y=S+O/2,p.nodeModel.moveText(g/2,O/2)},p.getResize=function(s){var g=s.index,O=s.deltaX,_=s.deltaY,x=s.width,S=s.height,P=s.pct,A=P===void 0?1:P,N={width:x,height:S};switch(g){case 0:N.width=x-O*A,N.height=S-_*A;break;case 1:N.width=x+O*A,N.height=S-_*A;break;case 2:N.width=x+O,N.height=S+_*A;break;case 3:N.width=x-O*A,N.height=S+_*A;break}return N},p.updateRect=function(s){var g=s.deltaX,O=s.deltaY,_=p.nodeModel,x=_.id,S=_.x,P=_.y,A=_.width,N=_.height,R=_.radius,F=p.index,U=p.getResize({index:F,deltaX:g,deltaY:O,width:A,height:N,pct:1}),B=p.nodeModel,Y=B.minWidth,Z=B.minHeight,V=B.maxWidth,C=B.maxHeight;if(U.width<Y||U.width>V||U.height<Z||U.height>C){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:g,deltaY:O}),p.nodeModel.width=U.width,p.nodeModel.height=U.height,p.nodeModel.setProperties({nodeSize:{width:U.width,height:U.height}});var z=p.getNodeEdges(x),M={x:S,y:P,width:A,height:N,radius:R},L={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:R},H={point:"",beforeNode:M,afterNode:L},ee;z.sourceEdges.forEach(function(q){H.point=q.startPoint,ee=dv(H),q.updateStartPoint(ee)}),z.targetEdges.forEach(function(q){H.point=q.endPoint,ee=dv(H),q.updateEndPoint(ee)}),p.eventEmit({beforeNode:M,afterNode:L})},p.updateEllipse=function(s){var g=s.deltaX,O=s.deltaY,_=p.nodeModel,x=_.id,S=_.rx,P=_.ry,A=_.x,N=_.y,R=p.index,F=S,U=P,B=p.getResize({index:R,deltaX:g,deltaY:O,width:F,height:U,pct:1/2}),Y=p.nodeModel,Z=Y.minWidth,V=Y.minHeight,C=Y.maxWidth,z=Y.maxHeight;if(B.width<Z/2||B.width>C/2||B.height<V/2||B.height>z/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:g,deltaY:O}),p.nodeModel.rx=p.nodeModel.rx+g/2,p.nodeModel.ry=p.nodeModel.ry+O/2,p.nodeModel.setProperties({nodeSize:{rx:B.width,ry:B.height}});var M=p.getNodeEdges(x),L={x:A,y:N},H={rx:B.width,ry:B.height,x:p.nodeModel.x,y:p.nodeModel.y},ee={point:{},beforeNode:L,afterNode:H},q;M.sourceEdges.forEach(function(ue){ee.point=ue.startPoint,q=hv(ee),ue.updateStartPoint(q)}),M.targetEdges.forEach(function(ue){ee.point=ue.endPoint,q=hv(ee),ue.updateEndPoint(q)}),p.eventEmit({beforeNode:ro(ro({},L),{rx:S,ry:P}),afterNode:H})},p.updateDiamond=function(s){var g=s.deltaX,O=s.deltaY,_=p.nodeModel,x=_.id,S=_.rx,P=_.ry,A=_.x,N=_.y,R=p.index,F=S,U=P,B=p.getResize({index:R,deltaX:g,deltaY:O,width:F,height:U,pct:1/2}),Y=p.nodeModel,Z=Y.minWidth,V=Y.minHeight,C=Y.maxWidth,z=Y.maxHeight;if(B.width<Z/2||B.width>C/2||B.height<V/2||B.height>z/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:g,deltaY:O}),p.nodeModel.rx=p.nodeModel.rx+g/2,p.nodeModel.ry=p.nodeModel.ry+O/2,p.nodeModel.setProperties({nodeSize:{rx:B.width,ry:B.height}});var M={x:A,y:N,rx:S,ry:P},L={rx:B.width,ry:B.height,x:p.nodeModel.x,y:p.nodeModel.y},H={point:{},beforeNode:M,afterNode:L},ee,q=p.getNodeEdges(x);q.sourceEdges.forEach(function(ue){H.point=ue.startPoint,ee=yv(H),ue.updateStartPoint(ee)}),q.targetEdges.forEach(function(ue){H.point=ue.endPoint,ee=yv(H),ue.updateEndPoint(ee)}),p.eventEmit({beforeNode:M,afterNode:L})},p.eventEmit=function(s){var g=s.beforeNode,O=s.afterNode,_=p.nodeModel,x=_.id,S=_.modelType,P=_.type,A=ro({id:x,modelType:S,type:P},g),N=ro({id:x,modelType:S,type:P},O);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:A,newNodeSize:N})},p.onDraging=function(s){var g=s.deltaX,O=s.deltaY,_=p.nodeModel.modelType;_===Mo.RECT_NODE||_===Mo.HTML_NODE?p.updateRect({deltaX:g,deltaY:O}):_===Mo.ELLIPSE_NODE?p.updateEllipse({deltaX:g,deltaY:O}):_===Mo.DIAMOND_NODE&&p.updateDiamond({deltaX:g,deltaY:O})},p.index=c.index,p.nodeModel=c.model,p.graphModel=c.graphModel;var i=p.graphModel.gridSize,f=2;return i>1&&(f=2*i),p.nodeModel.gridSize&&(f=2*p.nodeModel.gridSize),p.state={},p.dragHandler=new Kw({onDraging:p.onDraging,step:f}),p}return h.prototype.getNodeEdges=function(c){for(var p=this.graphModel,i=p.edges,f=[],s=[],g=0;g<i.length;g++){var O=i[g];O.sourceNodeId===c?f.push(O):i[g].targetNodeId===c&&s.push(O)}return{sourceEdges:f,targetEdges:s}},h.prototype.render=function(){var c=this.props,p=c.x,i=c.y,f=c.index,s=c.model,g=s.getControlPointStyle();return ji("g",{className:"lf-resize-control-"+f},ji(ss,ro({className:"lf-node-control"},{x:p,y:i},g,{onMouseDown:this.dragHandler.handleMouseDown})))},h}(Do),qw=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Va=globalThis&&globalThis.__assign||function(){return Va=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},Va.apply(this,arguments)},Ka=function(v){qw(h,v);function h(){var c=v.call(this)||this;return c.state={},c}return h.prototype.getResizeControl=function(){var c=this.props,p=c.model,i=c.graphModel,f=p.x,s=p.y,g=p.width,O=p.height,_={minX:f-g/2,minY:s-O/2,maxX:f+g/2,maxY:s+O/2},x=_.minX,S=_.minY,P=_.maxX,A=_.maxY,N=[{x,y:S},{x:P,y:S},{x:P,y:A},{x,y:A}];return N.map(function(R,F){return ji(Zw,Va({index:F},R,{model:p,graphModel:i}))})},h.prototype.getGroupSolid=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,g=c.getResizeOutlineStyle();return ji(ss,Va({fill:"none"},g,{x:p,y:i,width:f,height:s}))},h.prototype.render=function(){return ji("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},h}(Do),Uv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),$w=function(v){Uv(h,v);function h(c,p){var i=v.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.width=f.width,i.height=f.height),i}return h.prototype.initNodeData=function(c){v.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var c=v.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.resize=function(c,p){},h}(qe.exports.RectNodeModel),Jw=function(v){Uv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return qe.exports.h(Ka,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model.isSelected;return qe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h}(qe.exports.RectNode),Gv={type:"rect",view:Jw,model:$w},Xv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(v){Xv(h,v);function h(c,p){var i=v.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.rx=f.rx,i.ry=f.ry),i}return h.prototype.initNodeData=function(c){v.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var c=v.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(qe.exports.EllipseNodeModel);(function(v){Xv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return qe.exports.h(Ka,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model;return qe.exports.h("g",null,this.getResizeShape(),c.isSelected?this.getControlGroup():"")},h})(qe.exports.EllipseNode);var ns=globalThis&&globalThis.__assign||function(){return ns=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},ns.apply(this,arguments)};function Qw(v){var h=v.fillOpacity,c=h===void 0?1:h,p=v.strokeWidth,i=p===void 0?1:p,f=v.strokeOpacity,s=f===void 0?1:f,g=v.fill,O=g===void 0?"transparent":g,_=v.stroke,x=_===void 0?"#000":_,S=v.points,P=v.className,A=P===void 0?"lf-basic-shape":P,N={fill:O,fillOpacity:c,strokeWidth:i,stroke:x,strokeOpacity:s,points:"",className:A};return N.points=S.map(function(R){return R.join(",")}).join(" "),qe.exports.h("polygon",ns({},N))}var Vv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),rs=globalThis&&globalThis.__assign||function(){return rs=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},rs.apply(this,arguments)};(function(v){Vv(h,v);function h(c,p){var i=v.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.rx=f.rx,i.ry=f.ry),i}return h.prototype.initNodeData=function(c){v.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},h.prototype.getOutlineStyle=function(){var c=v.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(qe.exports.DiamondNodeModel);(function(v){Vv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return qe.exports.h(Ka,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){var c=this.props.model,p=c.points,i=c.getNodeStyle();return qe.exports.h("g",null,qe.exports.h(Qw,rs({},i,{points:p})))},h.prototype.getShape=function(){var c=this.props.model.isSelected;return qe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h})(qe.exports.DiamondNode);var Yv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(v){Yv(h,v);function h(c,p){var i=v.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.width=f.width,i.height=f.height),i}return h.prototype.initNodeData=function(c){v.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var c=v.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(qe.exports.HtmlNodeModel);(function(v){Yv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return qe.exports.h(Ka,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model.isSelected;return qe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h})(qe.exports.HtmlNode);var Wv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ya=globalThis&&globalThis.__assign||function(){return Ya=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},Ya.apply(this,arguments)},e1=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},vv=globalThis&&globalThis.__spread||function(){for(var v=[],h=0;h<arguments.length;h++)v=v.concat(e1(arguments[h]));return v},gv=500,bv=300;(function(v){Wv(h,v);function h(){var c=v!==null&&v.apply(this,arguments)||this;return c.isGroup=!0,c.unfoldedWidth=gv,c.unfoldedHight=bv,c}return h.prototype.initNodeData=function(c){var p=this;v.prototype.initNodeData.call(this,c);var i=[];Array.isArray(c.children)&&(i=c.children),this.children=new Set(i),this.width=gv,this.height=bv,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){p.isFolded&&p.foldGroup(p.isFolded)})},h.prototype.getResizeOutlineStyle=function(){var c=v.prototype.getResizeOutlineStyle.call(this);return c.stroke="none",c},h.prototype.foldGroup=function(c){var p=this;this.setProperty("isFolded",c),this.isFolded=c,c?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(f){var s=p.graphModel.getElement(f);s.visible=!c,i=i.concat(s.incoming.edges.concat(s.outgoing.edges))}),this.foldEdge(c,i)},h.prototype.getAnchorStyle=function(c){var p=v.prototype.getAnchorStyle.call(this,c);return p.stroke="transparent",p.fill="transparent",p.hover.fill="transparent",p.hover.stroke="transparent",p},h.prototype.foldEdge=function(c,p){var i=this;p.forEach(function(f,s){var g=f.id,O=f.sourceNodeId,_=f.targetNodeId,x=f.startPoint,S=f.endPoint,P=f.type,A=f.properties,N=f.text,R={id:g+"__"+s,sourceNodeId:O,targetNodeId:_,startPoint:x,endPoint:S,type:P,properties:A,text:N==null?void 0:N.value};f.virtual&&i.graphModel.deleteEdgeById(f.id);var F=i.graphModel.group.getNodeGroup(_);F||(F=i.graphModel.getNodeModelById(_));var U=i.graphModel.group.getNodeGroup(O);U||(U=i.graphModel.getNodeModelById(O)),c&&f.visible!==!1&&(i.children.has(O)||i.id===O?(R.startPoint=void 0,R.sourceNodeId=i.id):(R.endPoint=void 0,R.targetNodeId=i.id),(F.id!==i.id||U.id!==i.id)&&i.createVirtualEdge(R),f.visible=!1),!c&&f.visible===!1&&(F&&F.isGroup&&F.isFolded?(R.targetNodeId=F.id,R.endPoint=void 0,i.createVirtualEdge(R)):U&&U.isGroup&&U.isFolded?(R.sourceNodeId=U.id,R.startPoint=void 0,i.createVirtualEdge(R)):f.visible=!0)})},h.prototype.createVirtualEdge=function(c){c.pointsList=void 0;var p=this.graphModel.addEdge(c);p.virtual=!0,p.getData=function(){return null},p.text.editable=!1,p.isFoldedEdge=!0},h.prototype.isInRange=function(c){var p=c.x1,i=c.y1,f=c.x2,s=c.y2;return p>=this.x-this.width/2&&f<=this.x+this.width/2&&i>=this.y-this.height/2&&s<=this.y+this.height/2},h.prototype.isAllowMoveTo=function(c){var p=c.x1,i=c.y1,f=c.x2,s=c.y2;return{x:p>=this.x-this.width/2&&f<=this.x+this.width/2,y:i>=this.y-this.height/2&&s<=this.y+this.height/2}},h.prototype.setAllowAppendChild=function(c){this.setProperty("groupAddable",c)},h.prototype.addChild=function(c){this.children.add(c)},h.prototype.removeChild=function(c){this.children.delete(c)},h.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},h.prototype.getData=function(){var c=v.prototype.getData.call(this);c.children=vv(this.children);var p=c.properties;return delete p.groupAddable,delete p.isFolded,c},h.prototype.getHistoryData=function(){var c=v.prototype.getData.call(this);c.children=vv(this.children);var p=c.properties;return delete p.groupAddable,p.isFolded&&(c.x=c.x+this.unfoldedWidth/2-this.foldedWidth/2,c.y=c.y+this.unfoldedHight/2-this.foldedHeight/2),c},h})(Gv.model);(function(v){Wv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props.model,p=c.resizable,i=c.properties;return p&&!i.isFolded?v.prototype.getControlGroup.call(this):null},h.prototype.getAddedableShape=function(){var c=this.props.model,p=c.width,i=c.height,f=c.x,s=c.y,g=c.radius,O=c.properties;if(!O.groupAddable)return null;var _=this.props.model.getNodeStyle().strokeWidth,x=this.props.model.getAddableOutlineStyle(),S=p+_+8,P=i+_+8;return qe.exports.h("rect",Ya(Ya({},x),{width:S,height:P,x:f-S/2,y:s-P/2,rx:g,ry:g}))},h.prototype.getFoldIcon=function(){var c=this.props.model,p=c.x-c.width/2+5,i=c.y-c.height/2+5;if(!c.foldable)return null;var f=qe.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c.properties.isFolded?"M "+(p+3)+","+(i+6)+" "+(p+11)+","+(i+6)+" M"+(p+7)+","+(i+2)+" "+(p+7)+","+(i+10):"M "+(p+3)+","+(i+6)+" "+(p+11)+","+(i+6)+" "});return qe.exports.h("g",{},[qe.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:c.x-c.width/2+5,y:c.y-c.height/2+5,onClick:function(){c.foldGroup(!c.properties.isFolded)}}),f])},h.prototype.getResizeShape=function(){return qe.exports.h("g",{},[this.getAddedableShape(),v.prototype.getResizeShape.call(this),this.getFoldIcon()])},h})(Gv.view);var t1=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var n1=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var mv=globalThis&&globalThis.__assign||function(){return mv=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},mv.apply(this,arguments)};const r1={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function o1(v){const{incoming:h,outgoing:c,properties:p,key:i}=v,{text:f,startPoint:s,endPoint:g,pointsList:O,logicFlowType:_}=p,x={id:i,type:_,sourceNodeId:h[0],targetNodeId:c[0],text:f,startPoint:s,endPoint:g,pointsList:O,properties:{}},S=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(v.properties).forEach(P=>{S.indexOf(P)===-1&&(x.properties[P]=v.properties[P])}),x}function i1(v){const{properties:h,key:c}=v,{x:p,y:i,text:f,logicFlowType:s}=h,g={id:c,type:s,x:p,y:i,text:f,properties:{}},O=["x","y","text","logicFlowType"];return Object.keys(v.properties).forEach(_=>{O.indexOf(_)===-1&&(g.properties[_]=v.properties[_])}),g}function a1(v){const h={nodes:[],edges:[]},c=v.flowElementList;return c&&c.length>0&&c.forEach(p=>{if(p.type===r1.SEQUENCE_FLOW){const i=o1(p);h.edges.push(i)}else{const i=i1(p);h.nodes.push(i)}}),h}function u1(v){return[{text:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{v.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"\u5F00\u59CB",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"\u7CFB\u7EDF\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ED3\u675F",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const c1=Ov({name:"FlowChart",components:{BasicModal:Z_,FlowChartToolbar:ow,JsonPreview:$_},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(v){const h=Ia(null),c=Ia({}),p=Ia(null),{prefixCls:i}=U_("flow-chart"),f=G_(),[s,{openModal:g}]=q_();Q_({logicFlow:p});const O=X_(()=>{const{flowOptions:P}=v;return $c({grid:!0,background:{color:f.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},P)});Zy(()=>v.data,()=>{x()}),Zy(()=>fn(O),P=>{var A;(A=fn(p))==null||A.updateEditConfig(P)});function _(){return Ra(this,null,function*(){yield Jc();const P=fn(h);if(!P)return;ko.use(Fw),ko.use(Aw),ko.use(Pw),ko.use(Bw),ko.use(Hw),p.value=new ko(Wy($c({},fn(O)),{container:P}));const A=fn(p);A==null||A.setDefaultEdgeType("line"),x(),A==null||A.setPatternItems(v.patternItems||u1(A))})}function x(){return Ra(this,null,function*(){yield Jc();const P=fn(p);if(!P)return;const A=a1(v.data);P.render(A)})}function S(){const P=fn(p);!P||(c.value=fn(P).getGraphData(),g())}return V_(_),{register:s,prefixCls:i,lfElRef:h,handlePreview:S,graphData:c}}}),s1={ref:"lfElRef",class:"h-full"};function l1(v,h,c,p,i,f){const s=Cr("FlowChartToolbar"),g=Cr("JsonPreview"),O=Cr("BasicModal");return Tr(),wi("div",{class:La(["h-full",v.prefixCls])},[v.toolbar?(Tr(),is(s,{key:0,prefixCls:v.prefixCls,onViewData:v.handlePreview},null,8,["prefixCls","onViewData"])):Qc("",!0),Y_("div",s1,null,512),Pi(O,{onRegister:v.register,title:"\u6D41\u7A0B\u6570\u636E",width:"50%"},{default:Fa(()=>[Pi(g,{data:v.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}var f1=os(c1,[["render",l1]]);const p1=W_(f1),d1=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var h1={flowElementList:d1};const y1={components:{FlowChart:p1,PageWrapper:J_},setup(){return{demoData:h1}}};function v1(v,h,c,p,i,f){const s=Cr("FlowChart"),g=Cr("PageWrapper");return Tr(),is(g,{title:"\u6D41\u7A0B\u56FE",content:"\u7B80\u5355\u6D41\u7A0B\u56FE\u793A\u4F8B,\u5177\u4F53\u529F\u80FD\u9700\u8981\u81EA\u5DF1\u5B8C\u5584",contentFullHeight:"",fixedHeight:""},{default:Fa(()=>[Pi(s,{data:p.demoData},null,8,["data"])]),_:1})}var C1=os(y1,[["render",v1]]);export{C1 as default};
