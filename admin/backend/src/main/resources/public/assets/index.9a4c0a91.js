import{n as h,aZ as x,a as $,b as z,s as D,f as b,X as V,ap as G,cw as E,i as w,ar as r,o as n,j as y,y as l,h as g,au as M,m as C,bk as L,z as A,t as _,k as B,F,q as I,bm as R,D as q}from"./index.0a8b89be.js";import{T as j}from"./index.31c2a6fb.js";import{B as X}from"./index.d4ddb90b.js";import{L as v}from"./index.ff46359f.js";/* empty css              */import{A as N}from"./index.2c6c45b9.js";import{T as P}from"./index.5485e619.js";import{T as H}from"./index.453f9222.js";import"./useRefs.f7f322ba.js";import"./PlusOutlined.a999796c.js";import"./Row.0bf79b77.js";import"./useFlexGapSupport.4f13b498.js";import"./Col.a8b0ef91.js";import"./eagerComputed.d89357d9.js";import"./useSize.d9666d99.js";import"./transButton.4e1319c6.js";import"./CopyOutlined.a4ea221e.js";var U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M816 768h-24V428c0-141.1-104.3-257.7-240-277.1V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.9c-135.7 19.4-240 136-240 277.1v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48zM304 768V428c0-55.6 21.6-107.8 60.9-147.1S456.4 220 512 220c55.6 0 107.8 21.6 147.1 60.9S720 372.4 720 428v340H304z"}}]},name:"bell",theme:"outlined"},K=U;function S(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?Object(arguments[a]):{},i=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(s).filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable}))),i.forEach(function(c){Y(e,c,s[c])})}return e}function Y(e,a,s){return a in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}var O=function(a,s){var i=S({},a,s.attrs);return h(x,S({},i,{icon:K}),null)};O.displayName="BellOutlined";O.inheritAttrs=!1;var Z=O;const T=[{key:"1",name:"Notice",list:[{id:"000000001",avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"You received 14 new weekly newspapers",description:"",datetime:"2017-08-09",type:"1"},{id:"000000002",avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"Your recommended Qu Nini has passed the third round of interviews",description:"",datetime:"2017-08-08",type:"1"},{id:"000000003",avatar:"https://gw.alipayobjects.com/zos/rmsportal/kISTdvpyTAhtGxpovNWd.png",title:"This template can distinguish between various notification types",description:"",datetime:"2017-08-07",type:"1"},{id:"000000004",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"The icons on the left are used to distinguish different types",description:"",datetime:"2017-08-07",type:"1"},{id:"000000005",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"The title can be set to automatically display ellipses. In this example, the number of title lines has been set to 1 line. If the content exceeds 1 line, it will be automatically truncated and support tooltip to display the full title.",description:"",datetime:"2017-08-07",type:"1"},{id:"000000006",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"The icons on the left are used to distinguish different types",description:"",datetime:"2017-08-07",type:"1"},{id:"000000007",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"The icons on the left are used to distinguish different types",description:"",datetime:"2017-08-07",type:"1"}]},{key:"2",name:"information",list:[{id:"000000006",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"commented on you",description:"description information description information",datetime:"2017-08-07",type:"2",clickClose:!0},{id:"000000007",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:" replied to you",description:"This template is used to remind who has interacted with you",datetime:"2017-08-07",type:"2",clickClose:!0},{id:"000000008",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"title",description:"Move your mouse here to test how overly long messages are handled here. In this example, the maximum number of lines in the description is set to 2. The description content of more than 2 lines will be omitted and the complete content can be viewed through the tooltip",datetime:"2017-08-07",type:"2",clickClose:!0}]},{key:"3",name:"Upcoming",list:[{id:"000000009",avatar:"",title:"mission name",description:"The task needs to start before 2017-01-12 20:00",datetime:"",extra:"has not started",color:"",type:"3"},{id:"000000010",avatar:"",title:"Third Party Emergency Code Changes",description:"Guanlin needs to complete the code change task before 2017-01-07",datetime:"",extra:"due soon",color:"red",type:"3"}]}];const J=$({components:{[N.name]:N,[v.name]:v,[v.Item.name]:v.Item,AListItemMeta:v.Item.Meta,ATypographyParagraph:H.Paragraph,[P.name]:P},props:{list:{type:Array,default:()=>[]},pageSize:{type:[Boolean,Number],default:5},currentPage:{type:Number,default:1},titleRows:{type:Number,default:1},descRows:{type:Number,default:2},onTitleClick:{type:Function}},emits:["update:currentPage"],setup(e,{emit:a}){const{prefixCls:s}=z("header-notify-list"),i=D(e.currentPage||1),c=b(()=>{const{pageSize:o,list:u}=e;if(o===!1)return[];let m=E(o)?o:5;return u.slice(m*(w(i)-1),m*w(i))});V(()=>e.currentPage,o=>{i.value=o});const p=b(()=>!!e.onTitleClick),d=b(()=>{const{list:o,pageSize:u}=e;return u>0&&o&&o.length>u?{total:o.length,pageSize:u,current:w(i),onChange(m){i.value=m,a("update:currentPage",m)}}:!1});function f(o){e.onTitleClick&&e.onTitleClick(o)}return{prefixCls:s,getPagination:d,getData:c,handleTitleClick:f,isTitleClickable:p}}}),Q={class:"title"},W={key:0,class:"extra"},ee={key:1},te={key:0,class:"description"},ae={class:"datetime"};function oe(e,a,s,i,c,p){const d=r("a-typography-paragraph"),f=r("a-tag"),o=r("a-avatar"),u=r("a-list-item-meta"),m=r("a-list-item"),k=r("a-list");return n(),y(k,{class:I(e.prefixCls),bordered:"",pagination:e.getPagination},{default:l(()=>[(n(!0),g(F,null,M(e.getData,t=>(n(),y(m,{key:t.id,class:"list-item"},{default:l(()=>[h(u,null,{title:l(()=>[C("div",Q,[h(d,{onClick:le=>e.handleTitleClick(t),style:L([{width:"100%","margin-bottom":"0 !important"},{cursor:e.isTitleClickable?"pointer":""}]),delete:!!t.titleDelete,ellipsis:e.$props.titleRows&&e.$props.titleRows>0?{rows:e.$props.titleRows,tooltip:!!t.title}:!1,content:t.title},null,8,["onClick","style","delete","ellipsis","content"]),t.extra?(n(),g("div",W,[h(f,{class:"tag",color:t.color},{default:l(()=>[A(_(t.extra),1)]),_:2},1032,["color"])])):B("",!0)])]),avatar:l(()=>[t.avatar?(n(),y(o,{key:0,class:"avatar",src:t.avatar},null,8,["src"])):(n(),g("span",ee,_(t.avatar),1))]),description:l(()=>[C("div",null,[t.description?(n(),g("div",te,[h(d,{style:{width:"100%","margin-bottom":"0 !important"},ellipsis:e.$props.descRows&&e.$props.descRows>0?{rows:e.$props.descRows,tooltip:!!t.description}:!1,content:t.description},null,8,["ellipsis","content"])])):B("",!0),C("div",ae,_(t.datetime),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["class","pagination"])}var se=G(J,[["render",oe],["__scopeId","data-v-737c3776"]]);const ie=$({components:{Popover:R,BellOutlined:Z,Tabs:j,TabPane:j.TabPane,Badge:X,NoticeList:se},setup(){const{prefixCls:e}=z("header-notify"),{createMessage:a}=q(),s=D(T),i=b(()=>{let p=0;for(let d=0;d<T.length;d++)p+=T[d].list.length;return p});function c(p){a.success("\u4F60\u70B9\u51FB\u4E86\u901A\u77E5\uFF0CID="+p.id),p.titleDelete=!p.titleDelete}return{prefixCls:e,listData:s,count:i,onNoticeClick:c,numberStyle:{}}}}),ne={key:0};function re(e,a,s,i,c,p){const d=r("BellOutlined"),f=r("Badge"),o=r("NoticeList"),u=r("TabPane"),m=r("Tabs"),k=r("Popover");return n(),g("div",{class:I(e.prefixCls)},[h(k,{title:"",trigger:"click",overlayClassName:`${e.prefixCls}__overlay`},{content:l(()=>[h(m,null,{default:l(()=>[(n(!0),g(F,null,M(e.listData,t=>(n(),y(u,{key:t.key},{tab:l(()=>[A(_(t.name)+" ",1),t.list.length!==0?(n(),g("span",ne,"("+_(t.list.length)+")",1)):B("",!0)]),default:l(()=>[t.key==="1"?(n(),y(o,{key:0,list:t.list,onTitleClick:e.onNoticeClick},null,8,["list","onTitleClick"])):(n(),y(o,{key:1,list:t.list},null,8,["list"]))]),_:2},1024))),128))]),_:1})]),default:l(()=>[h(f,{count:e.count,dot:"",numberStyle:e.numberStyle},{default:l(()=>[h(d)]),_:1},8,["count","numberStyle"])]),_:1},8,["overlayClassName"])],2)}var Oe=G(ie,[["render",re]]);export{Oe as default};
